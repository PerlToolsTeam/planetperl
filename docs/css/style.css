:root{
  --bg: #eef1f4;
  --bg-accent: #f7f9fc;
  --ink: #17212b;
  --ink-muted:#5b6b7a;
  --brand:#0f4c81; /* deep blue */
  --brand-2:#7aa2d6;
  --card: #ffffff;
  --border:#e6ebf0;
  --shadow: 0 6px 18px rgba(16,24,40,.08), 0 2px 6px rgba(16,24,40,.04);
}

@media (prefers-color-scheme: dark){
  :root{
    --bg:#0e141b;
    --bg-accent:#0b1117;
    --ink:#e6edf3;
    --ink-muted:#94a3b8;
    --brand:#7aa2d6;
    --brand-2:#334155;
    --card:#111827;
    --border:#1f2937;
    --shadow: 0 8px 24px rgba(0,0,0,.4), 0 2px 8px rgba(0,0,0,.3);
  }
}

/* Page */
html,body{height:100%}
body{
  padding-top: 76px;
  background:
    radial-gradient(1200px 600px at -10% -10%, var(--bg-accent) 0%, var(--bg) 38%, var(--bg) 100%);
  color: var(--ink);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* Make sure the first card isn't pushed down by default margins */
main > .card:first-child { margin-top: 0; }

/* The sticky sidebar works inside its column; no need to “align-self” */
.left{
  position: sticky;
  top: 86px;
  max-height: calc(100vh - 100px);
  overflow: auto;
  padding-right:.25rem;
}

/* If you previously added any offsets to the main column, remove them */

/* Nav — modern, roomy, and not glued to the edge */
.navbar {
  background: rgba(255,255,255,.75);
  backdrop-filter: saturate(180%) blur(10px);
  border-bottom: 1px solid var(--border);
  --nav-pad: clamp(16px, 3vw, 28px);
}
@media (prefers-color-scheme: dark){
  .navbar { background: rgba(17,24,39,.6); }
}

/* Give the nav's container some horizontal breathing room */
.navbar .container-xxl {
  padding-left: var(--nav-pad);
  padding-right: var(--nav-pad);
}

/* Brand tweaks */
.navbar-brand {
  font-weight: 700;
  letter-spacing: .1px;
  margin-left: .25rem;       /* pulls away from hard left */
}


/* Layout helpers */
.container-xxl{max-width: 1120px}
.shortcuts-hint{margin-top:.5rem;margin-bottom:.75rem}
.hint-pill{
  display:inline-block;
  font-size:.85rem;
  color:var(--ink-muted);
  background:var(--bg-accent);
  border:1px solid var(--border);
  border-radius:999px;
  padding:.25rem .6rem;
}
/* Render separators so we avoid unicode entities in the template */
.hint-pill .sep::before { content: "·"; display:inline-block; padding: 0 .35rem; color: var(--ink-muted); }

kbd {
  background:transparent;
  color: var(--brand);
  border:1px solid var(--border);
  border-bottom-width:2px;
  border-radius:.4rem;
  padding:.1rem .35rem
}

/* Sidebar (left) */
.left{
  position: sticky;
  top: 86px;
  align-self: start;
  max-height: calc(100vh - 100px);
  overflow: auto;
  padding-right:.25rem;
}
.left *{ font-size:.95rem; font-weight: 500; }
.left a{ color: var(--brand); text-decoration: none; }
.left a:hover{ text-decoration: underline; }
.form-check-input:checked{ background-color: var(--brand); border-color: var(--brand); }

/* Cards */
.card{
  border: none;
  background: var(--card);
  box-shadow: var(--shadow);
  border-radius: 18px;
  overflow: hidden;
  margin-bottom: 1rem;
}
.card-header{
  background: linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
  border-bottom: 1px solid var(--border);
  padding: .9rem 1.1rem;
}
.card-header h2{
  font-family: Newsreader, Georgia, "Times New Roman", serif;
  font-weight:700;
  font-size: 1.35rem;
  line-height:1.3;
  margin:0;
}

/* Meta row */
.card-meta{
  display:flex;
  align-items:center;
  flex-wrap:wrap;
  gap:.25rem;
  color: var(--ink-muted);
  font-size:.95rem;
}

/* Render separators without using unicode in HTML */
.card-meta .sep::before{
  content:"·";
  display:inline-block;
  padding:0 .4rem;
  color: var(--ink-muted);
}

/* Source link (favicon + name) */
.source-link{
  display:inline-flex;
  align-items:center;
  gap:.4rem;
  color: var(--ink);
  text-decoration:none;
  font-weight:600;
}
.source-link:hover{ color: var(--brand); text-decoration:underline; }

/* Favicon visuals */
.favicon{ border-radius:4px; vertical-align:-2px }


.meta-spacer {
  margin-left: auto;
}

/* Body */
.card-body{
  /* previously opacity: 75% (removed for legibility) */
  padding: 1rem 1.1rem 1.1rem;
}
.card-text{
  max-width: 65ch;
  font-size: 1rem;
  line-height: 1.65;
}
.card-body img, .card-body iframe{ max-width:100%; border-radius:10px }
.card-body blockquote{
  color: var(--ink-muted);
  border-left: 4px solid var(--brand-2);
  padding-left:.75rem;
  margin-left:.25rem;
}

/* Badges / links in header */
.card-header a.badge{
  text-decoration:none;
  padding:.35rem .6rem;
  border-radius:999px;
  background: var(--bg-accent);
  color: var(--brand);
  border:1px solid var(--border);
}

/* Primary source pill */
.badge-source{
  text-decoration:none;
  padding:.35rem .6rem;
  border-radius:999px;
  background: var(--brand);
  color: #fff !important;
  border: 1px solid transparent;
  box-shadow: 0 1px 0 rgba(0,0,0,.05) inset;
}
.badge-source:hover{ filter: brightness(0.95); }
@media (prefers-color-scheme: dark){
  .badge-source{ background: #3b82f6; } /* vivid in dark mode */
}

.card-header a.badge:hover{ color:#fff; background:var(--brand); border-color:var(--brand) }

/* Footer */
.footer{ min-height:2em; color:var(--ink-muted) }

