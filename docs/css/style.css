/* =========================
   Planet Perl — single CSS
   ========================= */

/* ---- Theme tokens ---- */
:root{
  --bg:#eef1f4;
  --bg-accent:#f7f9fc;
  --ink:#17212b;
  --ink-muted:#5b6b7a;
  --brand:#0f4c81;          /* links, accents */
  --brand-2:#7aa2d6;        /* subtle accents */
  --card:#ffffff;
  --border:#e6ebf0;
  --shadow: 0 6px 18px rgba(16,24,40,.08), 0 2px 6px rgba(16,24,40,.04);
}

@media (prefers-color-scheme: dark){
  :root{
    --bg:#0e141b;
    --bg-accent:#0b1117;
    --ink:#e6edf3;
    --ink-muted:#94a3b8;
    --brand:#7aa2d6;
    --brand-2:#334155;
    --card:#111827;
    --border:#1f2937;
    --shadow: 0 10px 28px rgba(0,0,0,.45), 0 2px 10px rgba(0,0,0,.35);
  }
}

/* ---- Base ---- */
html,body{height:100%}
body{
  padding-top:76px; /* for fixed nav */
  background:
    radial-gradient(1200px 600px at -10% -10%, var(--bg-accent) 0%, var(--bg) 38%, var(--bg) 100%);
  color:var(--ink);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* Containers */
.container-xxl{max-width:1120px}

/* ---- Navbar (room at edges) ---- */
.navbar{
  background: rgba(255,255,255,.75);
  backdrop-filter: saturate(180%) blur(10px);
  border-bottom:1px solid var(--border);
}
@media (prefers-color-scheme: dark){ .navbar{ background: rgba(17,24,39,.6); } }
.navbar .container-xxl{ padding-left:1rem; padding-right:1rem; }
.navbar-brand{ font-weight:700; letter-spacing:.1px; }

/* ---- Shortcuts hint ---- */
.shortcuts-hint{ margin:.5rem 0 .75rem; }
.hint-pill{
  display:inline-block; font-size:.85rem; color:var(--ink-muted);
  background:var(--bg-accent); border:1px solid var(--border);
  border-radius:999px; padding:.25rem .6rem;
}
kbd{
  color:var(--brand); background:transparent;
  border:1px solid var(--border); border-bottom-width:2px;
  border-radius:.4rem; padding:.1rem .35rem;
}
.hint-pill .sep::before{ content:"·"; display:inline-block; padding:0 .35rem; color:var(--ink-muted); }

/* ---- Sidebar ---- */
.left{
  position:sticky; top:86px; max-height:calc(100vh - 100px);
  overflow:auto; padding-right:.25rem;
}
.left *{ font-size:.95rem; font-weight:500; }
.left a{ color:var(--brand); text-decoration:none; }
.left a:hover{ text-decoration:underline; }
.form-check-input:checked{ background-color:var(--brand); border-color:var(--brand); }

/* ---- Cards ---- */
.card{
  border:none; background:var(--card); box-shadow:var(--shadow);
  border-radius:18px; overflow:hidden; margin-bottom:1rem;
}
.card-header{
  background:linear-gradient(180deg, rgba(0,0,0,.02), transparent);
  border-bottom:1px solid var(--border);
  padding:.9rem 1.1rem;
}
.card-title{ margin:0; font-family: Newsreader, Georgia, "Times New Roman", serif; font-weight:700; font-size:1.35rem; line-height:1.3; }
.card-title a{ color:var(--brand); text-decoration:underline; }
.card-title a:hover{ text-decoration:none; }

/* Meta row (source, author, time) */
.card-meta{
  display:flex; align-items:center; flex-wrap:wrap; gap:.25rem;
  margin-top:.35rem; color:var(--ink-muted); font-size:.95rem;
}
.card-meta .sep::before{ content:"·"; display:inline-block; padding:0 .4rem; color:var(--ink-muted); }
.source-link{ display:inline-flex; align-items:center; gap:.4rem; color:var(--ink); text-decoration:none; font-weight:600; }
.source-link:hover{ color:var(--brand); text-decoration:underline; }
.favicon{ border-radius:4px; vertical-align:-2px }

/* Body text — ensure full contrast in both modes */
.card-body{ padding:1rem 1.1rem 1.1rem; opacity:1 !important; }
.card-body, .card-body p, .card-body li{ color:var(--ink); }
.card-text{ max-width:65ch; font-size:1rem; line-height:1.65; }
.card-body a{ color:var(--brand); text-decoration:underline; }
.card-body a:hover{ text-decoration:none; }
.card-body img, .card-body iframe{ max-width:100%; border-radius:10px }

/* Blockquotes */
.card-body blockquote{
  color:var(--ink);
  background:var(--bg-accent);
  border:1px solid var(--border);
  border-left:4px solid var(--brand-2);
  border-radius:10px;
  padding:.75rem .9rem;
  margin:.5rem .25rem;
}

/* Code & Pre — dark-mode safe */
.card-body pre,
.card-body code,
.card-body pre code{
  color:var(--ink);
  background:rgba(255,255,255,.04);
  border:1px solid var(--border);
  border-radius:10px;
}
.card-body pre{ padding:.75rem; overflow:auto; }
.card-body :not(pre) > code{ padding:.15rem .35rem; border-radius:.4rem; }

/* HR */
.card-body hr{ border:0; border-top:1px solid var(--border); margin:1rem 0; opacity:1; }

/* Tables — readable in both modes */
.card-body table{ width:100%; border-collapse:collapse; margin: .75rem 0; font-size:.95rem; }
.card-body th, .card-body td{ border:1px solid var(--border); padding:.5rem .6rem; }
.card-body thead th{ background:var(--bg-accent); text-align:left; }
.card-body tbody tr:nth-child(odd){ background:rgba(0,0,0,.02); }
@media (prefers-color-scheme: dark){
  .card-body tbody tr:nth-child(odd){ background:rgba(255,255,255,.03); }
}

/* Footer */
.footer{ min-height:2em; color:var(--ink-muted) }

/* ---- Utility for wide layouts (keep left column left) ---- */
@media (min-width: 992px){
  .order-lg-1{ order:1 !important; }
  .order-lg-2{ order:2 !important; }
}

/* ---- Make first card hug the top under the shortcuts ---- */
main > .card:first-child{ margin-top:0; }

/* Nav brand: readable in both light & dark */
.navbar-brand,
.navbar-brand:focus {
  color: var(--ink) !important;   /* uses light/dark token */
  text-decoration: none;
  font-weight: 700;
  letter-spacing: .1px;
}

.navbar-brand:hover {
  color: var(--brand) !important; /* subtle hover */
  text-decoration: none;
}

.navbar .nav-link { color: var(--ink); }
.navbar .nav-link:hover,
.navbar .nav-link:focus { color: var(--brand); }

