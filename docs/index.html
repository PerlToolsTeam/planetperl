<!DOCTYPE html>
<html>
  <head>
    <meta property="og:title" content="Planet Perl" /> 
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://perl.theplanetarium.org/" />
    <meta property="og:image" content="https://perl.theplanetarium.org/planet-perl.jpg" />
    <meta property="og:description" content="Collecting the best Perl web feeds"/>
    <title>Planet Perl</title>
    <meta charset="UTF-8">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
          crossorigin="anonymous">

    <link rel="alternate" type="application/atom+xml" title="Atom" href="http://perl.theplanetarium.org/atom.xml" />
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Planet Perl</a>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 left">
          <p>Text: <a href="#" id="show">show</a> / <a href="#" id="hide">hide</a></p>
          <h2>Sources</h2>
          <ul>
            <li><a href="http://blogs.perl.org/">blogs.perl.org</a></li>
            <li><a href="https://dev.to/t/perl">dev.to #perl</a></li>
            <li><a href="https://domm.plix.at/perl.html">domm (Perl and other tech)</a></li>
            <li><a href="https://metacpan.org/news">MetaCPAN News</a></li>
            <li><a href="https://niceperl.blogspot.com/">Niceperl</a></li>
            <li><a href="https://nxadm.wordpress.com/tag/perl/">nxadm</a></li>
            <li><a href="https://news.perlfoundation.org/">Perl Foundation News</a></li>
            <li><a href="https://perlhacks.com/">Perl Hacks</a></li>
            <li><a href="https://perlmaven.com/">Perl Maven</a></li>
            <li><a href="https://perlweekly.com/">Perl Weekly</a></li>
            <li><a href="https://blog.perl-academy.de/">Perl-Academy.de</a></li>
            <li><a href="https://perl.com/">perl.com</a></li>
            <li><a href="https://perlancar.wordpress.com/">Perlancar</a></li>
            <li><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl">RabbitFarm Perl</a></li>
            <li><a href="https://log.perl.org/">The Perl NOC</a></li>
          </ul>
          <p><a href="/atom.xml"><img alt="Feed" src="/images/feed.gif" /> Subscribe</a>
          <br />
          <a href="/opml.xml"><img alt="OPML" src="/images/opml.png" /> OPML</a></p>
          <p>
            <ul>
              <li>Powered by <a href="https://metacpan.org/release/Perlanet">Perlanet</a></li>
              <li>Code on <a href="https://github.com/davorg/planetperl">Github</a></li>
              <li><a href="https://github.com/davorg/planetperl/issues">Feedback welcome</a></li>
            </ul>
          </p>
        </div><!-- col-md-2 -->
        <div class="col-md-8">
          <div class="card" id="card_1">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2022/01/perl-weekly-challenge-147-truncatable-primes-and-pentagon-numbers.html">Perl Weekly Challenge 147: Truncatable Primes and Pentagon Numbers</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Wednesday 12 January 2022 04:11</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 147 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-147/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few days from now (on January 16, 2022 at 24:00). This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: Truncatable Prime</h2>

<p><em>Write a script to generate first 20 left-truncatable prime numbers in base 10.</em></p>

<blockquote>
  <p><em>In number theory, a left-truncatable prime is a prime number which, in a given base, contains no 0, and if the leading left digit is successively removed, then all resulting numbers are primes.</em></p>
</blockquote>

<p><em>Example:</em></p>

<pre><code>9137 is one such left-truncatable prime since 9137, 137, 37 and 7 are all prime numbers.
</code></pre>

<h3>Truncatable Prime in Raku</h3>

<p>We first build an infinite lazy list (<code>@el-primes</code>) of primes with no 0 digit. For each integer in the list, we then try to truncate the left-most digit and check whether the truncated number is prime, and so one until we get to the last digit. The process stops when  20 such primes have been generated.</p>

<pre><code>my @truncatables;
my $count = 0;
my @el-primes = grep {.is-prime and not /0/}, 2..Inf;
for @el-primes -&gt; $candidate {
    my $length = $candidate.chars;
    my $is-truncatable = True; 
    for 1..$length -&gt; $i {
        my $truncated = substr $candidate, $length - $i;
        $is-truncatable = False, last unless $truncated.is-prime;
    }
    if $is-truncatable {
        push @truncatables, $candidate;
        $count++;
    }
    last if $count &gt;= 20;
}
say @truncatables;
</code></pre>

<p>This program displays the following output:</p>

<pre><code>raku ./truncatable.raku
[2 3 5 7 13 17 23 37 43 47 53 67 73 83 97 113 137 167 173 197]
</code></pre>

<h3>Truncatable Prime in Perl</h3>

<p>This Perl program is based on essentially the same idea as the Raku implementation, except that we build a hash of primes along the way. We need to check primality only when we meet a new number the first time: for the truncated numbers, we simply check their primality by looking up into the hash.</p>

<pre><code>use strict;
use warnings;
use feature "say";
use constant MAX =&gt; 20;

my @primes = (2, 3, 5);
my %primes_h = map {$_ =&gt; 1} @primes;
my @truncatables = @primes;;
my $candidate = $primes[-1];
my $count = scalar @truncatables;;
while ($count &lt; MAX) {
    $candidate += 2;
    my $not_prime = 0;
    next if $candidate =~ /0/;
    my $sq_cand = sqrt $candidate;
    for my $i (@primes) {
        $not_prime = 1, last unless $candidate % $i;
        last if $i &gt; $sq_cand;
    }
    next if $not_prime;
    push @primes, $candidate;
    $primes_h{$candidate} = 1;
    # now check if truncatable prime
    my $length = length $candidate;
    my $is_truncatable = 1; 
    for my $i (1..$length) {
        my $truncated = substr $candidate, $length - $i;
        $is_truncatable = 0, last unless exists $primes_h{$truncated};
    }
    if ($is_truncatable) {
        push @truncatables, $candidate;
        $count++;
    }
}
say "@truncatables";
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ perl  ./truncatable.pl
2 3 5 7 13 17 23 37 43 47 53 67 73 83 97 113 137 167 173 197
</code></pre>

<h2>Task 2: Pentagon Numbers</h2>

<p><em>Write a script to find the first pair of Pentagon Numbers whose sum and difference are also a Pentagon Number.</em></p>

<blockquote>
  <p><em>Pentagon numbers can be defined as P(n) = n(3n - 1)/2.</em></p>
</blockquote>

<p><em>Example:</em></p>

<p><em>The first 10 Pentagon Numbers are: 1, 5, 12, 22, 35, 51, 70, 92, 117 and 145.</em></p>

<pre><code>P(4) + P(7) = 22 + 70 = 92 = P(8)
but
P(4) - P(7) = |22 - 70| = 48 is not a Pentagon Number.
</code></pre>

<h3>Pentagon Numbers in Raku</h3>

<p>We&#8217;ve decided to use the built-in <a href="https://docs.raku.org/routine/combinations">combinations</a> method to generate the pairs of pentagon numbers. Note that we cannot use an infinite list of pentagon numbers because the <code>combinations</code> routine cannot operate on an infinite list. So I just tried various increasing values for the <code>$max</code> variable until I obtained a result satisfying the criteria. Note that I use a <code>%penta</code> hash to store the pentagon values, so the verifying whether and sum and the difference values are pentagon number is just a matter of a fast hash lookup.</p>

<pre><code>my $max = 4000;
my @pentanums = map { (3 * $_² - $_)/2 }, 1..$max;
my %penta = map {@pentanums[$_] =&gt; $_+1}, 0..$max-1;
for @pentanums.combinations(2) -&gt; $comb {
    next unless %penta{$comb.sum}:exists;
    next unless %penta{$comb[1]-$comb[0]}:exists;
    say $comb, " = Pentagon numbers N° %penta{$comb[0]} and %penta{$comb[1]}";
    say "Sum is ", $comb.sum, " (Pentagon number ", %penta{$comb.sum}, ")";
    say "Difference is ", $comb[1]-$comb[0], " (Pentagon number ", %penta{$comb[1]-$comb[0]}, ")";
    last;
}
say now - INIT now, " seconds";
</code></pre>

<p>This script displays the following output:</p>

<pre><code>raku ./pentanums.raku
(1560090 7042750) = Pentagon numbers N° 1020 and 2167
Sum is 8602840 (Pentagon number 2395)
Difference is 5482660 (Pentagon number 1912)
101.7166579 seconds
</code></pre>

<p>This program is relatively slow (101 seconds execution time). I found that using two nested loops (as in the Perl program below) rather than the <code>combinations</code> routine make the program at least 20 times faster (only a few seconds). So it seems that the <code>combinations</code> routine is quite slow. This is a bit unfortunate as <code>combinations</code> is really useful and makes the code simpler and cleaner. I still prefer to present this version, but if you need better performance, then use two nested loops as in the Perl implementation below.</p>

<h3>Pentagon Numbers in Perl</h3>

<p>This is essentially the same idea as the Raku program above. However, as mentioned above, we don&#8217;t have <code>combinations</code> routine in Perl, so we use two nested loops to generate all the combinations. The advantage is that this runs much faster.</p>

<pre><code>use strict;
use warnings;
use feature "say";
use constant MAX =&gt; 4000;

my @pentanums = map { $_ * (3 * $_ - 1)/2 } 1..MAX;
my %penta_h = map {$pentanums[$_] =&gt; $_+1 } 0..MAX-1;
# say Dumper \%penta_h;

OUTER: for my $i (0..MAX-1) {
    for my $j ($i+1..MAX-1) {
        my $sum = $pentanums[$i] + $pentanums[$j];
        next unless exists $penta_h{$sum};
        my $diff = $pentanums[$j] - $pentanums[$i];
        next unless exists $penta_h{$diff};
        say "First pair of pentagon numbers is $pentanums[$i] (rank ", $i+1, ") and $pentanums[$j] (rank ", $j+1, ")";
        say "Sum is $sum (rank $penta_h{$sum}) and difference is $diff (rank $penta_h{$diff})";
        last OUTER;
    }
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ time perl  ./pentanums.pl
First pair of pentagon numbers is 1560090 (rank 1020) and 7042750 (rank 2167)
Sum is 8602840 (rank 2395) and difference is 5482660 (rank 1912)

real    0m2,043s
user    0m1,703s
sys     0m0,108s
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on January 23, 2022. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_2">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/mjgardner/highlighting-members-of-the-perl-family-1kgi">Highlighting members of the Perl family</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Mark Gardner
 on Tuesday 11 January 2022 15:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This past year of <a href="https://phoenixtrap.com/tag/perl">blogging</a> has introduced me to a wide variety of people in the <a href="https://www.perl.org/community.html">Perl community</a>. Some I’ve admired from afar for years due to their published work, and even more I’ve “met” interacting on social media and other forums. So this will be the first in an occasional series highlighting not just the code, but the people that make up the Perl family.</p>

<h2>
  <a href="#paul-leonerd-evans">
  </a>
  <a href="http://www.leonerd.org.uk/">Paul “LeoNerd” Evans</a>
</h2>

<p>I first came across Paul’s work during his series last year on <a href="https://phoenixtrap.com/2021/02/01/paul-evans-writing-a-core-perl-feature/">writing a core Perl feature</a>; he’s responsible for <a href="https://perldoc.perl.org/perl5320delta#The-isa-Operator">Perl v5.32’s <code>isa</code> operator</a> and <a href="https://perldoc.perl.org/perl5340delta#Experimental-Try/Catch-Syntax">v5.34’s experimental <code>try</code>/<code>catch</code> exception handling syntax</a>. I <a href="https://www.perl.com/article/interview-trying-to-catch-paul-leonerd-evans/">interviewed him about the latter</a> for Perl.com in March 2021. He’s been <a href="https://metacpan.org/author/PEVANS">active on CPAN</a> for so much longer, though, and <a href="https://www.nntp.perl.org/group/perl.perl5.porters/2021/07/msg260858.html">joined the Perl Steering Council in July</a>. He’s also often a helpful voice on <a href="https://web.libera.chat/#perl">IRC</a>.</p>

<h2>
  <a href="#elliot-holden">
  </a>
  <a href="https://www.urbanguitarlegend.com/">Elliot Holden</a>
</h2>

<p>Renowned author and trainer <a href="http://www.stonehenge.com/merlyn/">Randal L. “merlyn” Schwartz</a> linked over the weekend in a private Facebook group to Elliot’s impassioned <a href="https://youtu.be/FQXjLG0DjPo">YouTube video about his day job as a Perl web application developer</a>. Through his alter ego <a href="https://www.urbanguitarlegend.com/">Urban Guitar Legend</a> Elliot is also a passionate musician; besides gigging and recording he’s been <a href="https://youtube.com/c/Urbanguitarlegend">posting videos for nine years</a>. (I’m a bit envious since I took a break from <a href="https://phoenixtrap.com/music/">music</a> almost twenty years ago and haven’t managed to recapture it.) Elliot seems like the quintessential needs-to-get-shit-done developer, and Perl is perfect for that.</p>

<h2>
  <a href="#g%C3%A1bor-szab%C3%B3">
  </a>
  <a href="https://szabgab.com">Gábor Szabó</a>
</h2>

<p>Gábor is a polyglot (both in human and computer languages) trainer, consultant, and author, writing about programming and devops on his <a href="https://code-maven.com/">Code Maven</a> and <a href="https://perlmaven.com/">Perl Maven</a> websites. He’s also the founder and co-editor of <a href="https://perlweekly.com/">Perl Weekly</a> and recipient of a <a href="https://www.perl.org/advocacy/white_camel/2008.html">Perl White Camel award in 2008</a> thanks to his organizational and support contributions. Last year he <a href="https://perlmaven.com/course-management-app-in-mojolicious">introduced me to the world of live pair programming</a>, working on a web application using the <a href="https://mojolicious.org/">Mojolicious framework</a>.</p>




<p>If you’re on Twitter and looking to connect with other Perl developers, please consider participating in <a href="https://twitter.com/i/communities/1471579416216145924">the Perl community</a> I’ve set up there. <a href="https://help.twitter.com/en/using-twitter/communities">Twitter Communities</a> are topic-specific moderated discussion groups, unlike the freewheeling <a href="https://help.twitter.com/en/using-twitter/how-to-use-hashtags">#hashtags</a> system that can be diluted by spam or topics that share the same name. Unfortunately, they’re still read-only on the <a href="https://play.google.com/store/apps/details?id=com.twitter.android">Twitter Android app</a>, but you can participate fully on <a href="https://apps.apple.com/us/app/twitter/id333903271">iOS/iPadOS</a> and <a href="https://twitter.com">the website</a>.</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_3">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/taw/100-languages-speedrun-episode-52-perl-pn7">100 Languages Speedrun: Episode 52: Perl</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Tomasz Wegrzanowski
 on Tuesday 11 January 2022 07:13</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Perl is a highly influential "kitchen sink" language. Languages like that see an idea that might potentially be useful or just cool, and just add it to the language because why not.</p>

<p>Other languages with similar design philosophy (or one might say lack of design philosophy) are C++ and Scala. And it's not a coincidence <a href="https://insights.stackoverflow.com/survey/2021#technology-most-loved-dreaded-and-wanted">that kitchen sink languages place really high on the charts of most hated languages of all times</a>. They can be quite productive to write code in, but reading someone else's code, not so much.</p>

<p>I very much support the "kitchen sink" language design, including new ones like Raku. Among all those features there's usually a few gems that earn their place in more mainstream languages. For example Perl spearheaded first class regular expression support, and that's now simply common sense. Or even such simple things like having hashes (or "dictionaries") and hash literal syntax, or string interpolation (somewhat limited in Perl). These features proved themselves and are now everywhere.</p>

<p>To celebrate Perl's weirdness, this episode will be mainly about the weird parts of Perl, that never got far.</p>

<p>I won't get too much into the WATs. Perl is the WAT factory like no other, and it gets very well deserved criticism for that.</p>

<h3>
  <a href="#fizzbuzz">
  </a>
  FizzBuzz
</h3>

<p>But first, the FizzBuzz.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="c1"># $\ specifies what gets printed at the end of print automatically</span>
<span class="vg">$\</span> <span class="o">=</span> <span class="p">"</span><span class="se">\n</span><span class="p">";</span>

<span class="c1"># If we don't specify any variable, Perl will use topic variable $_</span>
<span class="k">for</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="vg">$_</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="vg">$_</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">FizzBuzz</span><span class="p">"</span>
  <span class="p">}</span> <span class="k">elsif</span> <span class="p">(</span><span class="vg">$_</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">Fizz</span><span class="p">"</span>
  <span class="p">}</span> <span class="k">elsif</span> <span class="p">(</span><span class="vg">$_</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">Buzz</span><span class="p">"</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1"># print also defaults to printing topic variable</span>
    <span class="c1"># (followed by $\ as always)</span>
    <span class="k">print</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

</div>



<p>This already demonstrates a lot of Perl's unusual features:</p>

<ul>
<li>variables have sigils (prefixes) - <code>$</code> means scalar, <code>@</code> means list, <code>%</code> means hash (dictionary), and there are a few less common ones.</li>
<li>special variables like <code>$\</code> can control a lot of Perl's behavior</li>
<li>
<code>$_</code> topic variable to save you some typing - <a href="https://rosettacode.org/wiki/Topic_variable">this feature is seen to limited degree in many languages</a>
</li>
<li>ranges <code>1..100</code> go from <code>1</code> to <code>100</code> as they ought to, without the +1 weirdness. You can do <code>1...100</code> in Perl too, but that just means the same thing as <code>1..100</code>. In Ruby <code>1...100</code> is same as <code>1..99</code>.</li>
</ul>

<h3>
  <a href="#say-hello">
  </a>
  Say Hello
</h3>

<p>Let's write code that does this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./hello.pl
Hello Alice Smith
Hello ALICE SMITH! 🎉🎉🎉
Hello Alice Smith
</code></pre>

</div>





<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="vg">$\</span> <span class="o">=</span> <span class="p">"</span><span class="se">\n</span><span class="p">";</span>

<span class="c1"># Say hello to %person</span>
<span class="k">sub </span><span class="nf">say_hello</span> <span class="p">{</span>
  <span class="c1"># Interpolation only works with variables and</span>
  <span class="c1"># a few expressions like $variable{key}</span>
  <span class="k">print</span> <span class="p">"</span><span class="s2">Hello </span><span class="si">$person</span><span class="s2">{name} </span><span class="si">$person</span><span class="s2">{surname}</span><span class="p">";</span>
<span class="p">}</span>

<span class="c1"># Hash variable</span>
<span class="nv">%person</span> <span class="o">=</span> <span class="p">(</span>
  <span class="s">name</span> <span class="o">=&gt;</span> <span class="p">"</span><span class="s2">Alice</span><span class="p">",</span>
  <span class="s">surname</span> <span class="o">=&gt;</span> <span class="p">"</span><span class="s2">Smith</span><span class="p">",</span>
<span class="p">);</span>

<span class="nv">say_hello</span><span class="p">;</span>

<span class="c1"># Be more excited this time!</span>
<span class="c1"># local changes are reverted once we exit the block</span>
<span class="k">do</span> <span class="p">{</span>
  <span class="nb">local</span> <span class="vg">$\</span> <span class="o">=</span> <span class="p">"</span><span class="s2">! 🎉🎉🎉</span><span class="se">\n</span><span class="p">";</span>
  <span class="nb">local</span> <span class="nv">$person</span><span class="p">{</span><span class="nv">name</span><span class="p">}</span> <span class="o">=</span> <span class="nb">uc</span><span class="nv">$person</span><span class="p">{</span><span class="nv">name</span><span class="p">};</span>
  <span class="nb">local</span> <span class="nv">$person</span><span class="p">{</span><span class="nv">surname</span><span class="p">}</span> <span class="o">=</span> <span class="nb">uc</span><span class="nv">$person</span><span class="p">{</span><span class="nv">surname</span><span class="p">};</span>
  <span class="nv">say_hello</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1"># Back to the usual</span>
<span class="nv">say_hello</span><span class="p">;</span>
</code></pre>

</div>



<p>There's a lot going on here!</p>

<p><code>%person</code> is a hash variable describing a person. However its elements are not hashes, they're just scalars, so the name of the person is <code>$person{name}</code> and the surname is <code>$person{surname}</code>. People find this sigil system very nonintuitive, and in Raku it switched to <code>%person{"name"}</code>.</p>

<p>One quite unusual feature in Perl is "dynamic scoping" - we can define something <code>local</code> to a block - it works sort of like a global variable, but it gets reverted to what it was before once the block ends.</p>

<p>This way we can change line ending <code>$\</code> (and honestly without dynamic scoping, those globals changing stuff all over the place would be really bad). But we can also change individual elements of a hash, or current ENV, or many other things.</p>

<p>Perl has also usual local variables with <code>my</code> keyword. And a few other kinds, obviously.</p>

<h3>
  <a href="#contexts">
  </a>
  Contexts
</h3>

<p>The <code>$</code>, <code>@</code>, and so on are not some tiny things. They're actually core to how Perl works. Everything in Perl is in "scalar context" or "list context" (or one of the other contexts).</p>

<p>Here's an example:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="nv">$first_person</span> <span class="o">=</span> <span class="o">&lt;</span><span class="bp">STDIN</span><span class="o">&gt;</span><span class="p">;</span>
<span class="nv">@other_people</span> <span class="o">=</span> <span class="o">&lt;</span><span class="bp">STDIN</span><span class="o">&gt;</span><span class="p">;</span>

<span class="nb">chomp</span> <span class="nv">$first_person</span><span class="p">;</span>
<span class="nb">chomp</span> <span class="nv">@other_people</span><span class="p">;</span>

<span class="k">print</span> <span class="p">"</span><span class="s2">Special welcome to </span><span class="si">$first_person</span><span class="s2">!</span><span class="se">\n</span><span class="p">";</span>
<span class="k">print</span> <span class="p">"</span><span class="s2">Also welcome to </span><span class="p">",</span> <span class="nb">join</span><span class="p">("</span><span class="s2">, </span><span class="p">",</span> <span class="nv">@other_people</span><span class="p">),</span> <span class="p">"</span><span class="s2">!</span><span class="se">\n</span><span class="p">";</span>
</code></pre>

</div>



<p>And here's what it does:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./contexts.pl
Alice
Bob
Charlie
Dave
Special welcome to Alice!
Also welcome to Bob, Charlie, Dave!
</code></pre>

</div>



<p><code>&lt;STDIN&gt;</code> reads lines from <code>STDIN</code>. Annoyingly they always come with the extra <code>\n</code> and there are no special variables to chop that off, that's such a weird omission. But <code>&lt;STDIN&gt;</code> does a different thing depending on being in scalar context or list context.</p>

<p>When we use it in scalar context <code>$first_person = &lt;STDIN&gt;</code> - it reads one line. When we use in in list context <code>@other_people = &lt;STDIN&gt;</code> - it reads all the remaining lines.</p>

<p>A lot of APIs have a lot of pairs of functions <code>getOneX</code> and <code>getManyXs</code>. Perl can simplify this with some context awareness.</p>

<p>Something vaguely similar was done by jQuery where <code>$(selector)</code> could be used to return one thing or many, while modern browser APIs turned that into <code>.querySelector</code> and <code>.querySelectorAll</code>, but jQuery was based on completely different principles.</p>

<p>If you want your function to support contexts you can check <code>wantarray</code> keyword, which return <code>true</code> for list context, <code>false</code> for scalar context, and <code>undef</code> for void context when value is not used. <a href="https://docstore.mik.ua/orelly/perl4/prog/ch02_07.htm">Perl documentation also lists two other contexts, because things are always more complicated than they first seem in Perl</a>.</p>

<h3>
  <a href="#golf">
  </a>
  Golf
</h3>

<p>Code Golf is a competition to write a program to do a given task in the fewest characters. Before custom languages for golfing got created, it was dominated by Perl, Ruby, and occasionally APL.</p>

<p>Here's such "golfed" code for FizzBuzz, <a href="https://codegolf.stackexchange.com/questions/58615/1-2-fizz-4-buzz">from a Code Golf site</a>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">print</span><span class="o">+</span><span class="p">(</span><span class="nv">Fizz</span><span class="p">)[</span><span class="vg">$_</span><span class="o">%</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="nv">Buzz</span><span class="p">)[</span><span class="vg">$_</span><span class="o">%</span><span class="mi">5</span><span class="p">]</span><span class="o">||</span><span class="vg">$_</span><span class="p">,</span><span class="err">$</span><span class="o">/</span><span class="k">for</span> <span class="mi">1</span><span class="o">..</span><span class="mi">100</span>
</code></pre>

</div>



<p>For some explanations:</p>

<ul>
<li>words without quotes are treated as strings if there's no better interpretation, so <code>(Fizz)</code> is a list of one string <code>("Fizz")</code>.</li>
<li>
<code>$_%3</code> return <code>0</code>, <code>1</code>, or <code>2</code> depending on remainder of <code>$_</code> modulo <code>3</code>
</li>
<li>so <code>(Fizz)[$_%3]</code> returns <code>"Fizz"</code> or <code>undef</code>
</li>
<li>and likewise <code>(Buzz)[$_%5]</code> returns <code>"Buzz"</code> or <code>undef</code>
</li>
<li>
<code>.</code> is string concatenation and undefined values become empty strings, so <code>(Fizz)[$_%3].(Buzz)[$_%5]</code> returns <code>"Fizz"</code>, <code>"Buzz"</code>, <code>"FizzBuzz"</code>, or <code>""</code>
</li>
<li>
<code>stuff||$_</code> means <code>stuff</code> if it's true, otherwise <code>$_</code>. As empty string is false in Perl, it gets us <code>"Fizz"</code>, <code>"Buzz"</code>, <code>"FizzBuzz"</code>, or <code>$_</code>, as by FizzBuzz rules</li>
<li>that extra <code>+</code> is a precedence hack to save on some parentheses</li>
<li>
<code>$/</code> is <code>\n</code> by default</li>
<li>so we have <code>print(fizz_buzz_stuff, $/) for 1..100</code> or <code>for (1..100) { print(fizz_buzz_stuff, "\n") }</code>
</li>
</ul>

<p>As far as golfs go, it's not too bad.</p>

<p>Weirdly Ruby is about equally good for golfing at Perl, without any of the readability issues.</p>

<h3>
  <a href="#rename">
  </a>
  Rename
</h3>

<p>I still use Perl for one thing on a regular basis, and that's the <code>rename</code> script, which used to be bundled with most Linux distributions, <a href="https://github.com/taw/unix-utilities">and which I included in my <code>unix-utilities</code> package</a>.</p>

<p><code>rename</code> takes a Perl script as argument, and then a list of file names. Then it runs that Perl script, with <code>$_</code> set to the file name. If it changed, it then renames the file.</p>

<p>It of course does sensible things, like dry run mode, verbose mode, checking that it won't accidentally overwrite things, and so on.</p>

<p>Some random examples of <code>rename</code>:</p>

<p>Replace all spaces by underscores:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ rename 's/ /_/g' *.txt
</code></pre>

</div>



<p>Flatten nested directory structure by one level:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ rename 's!/! - ! */*'
</code></pre>

</div>



<p>Rename all <code>.txt</code> to <code>.md</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ rename 's/\.txt$/.md/' *.txt
</code></pre>

</div>



<p>And so on. Most of the time a single regexp replace will do, but sometimes you can run real code there. And for such cases <code>rename --dry-run</code> is amazing.</p>

<h3>
  <a href="#autovivification">
  </a>
  Autovivification
</h3>

<p>Normally if you want to build up something iteratively, you need to initialize it first to an empty value. Not in Perl. Because each variable knows if it's a scalar, array, or hash; and each operation knows if it's a string or number operation, Perl can initialize things automatically.</p>

<p>For example in this script:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="k">while</span><span class="p">(</span><span class="o">&lt;&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$counts</span><span class="p">{</span><span class="nb">lc</span><span class="vg">$_</span><span class="p">}</span><span class="o">++</span> <span class="k">for</span> <span class="sr">/\w+/g</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">my</span> <span class="nv">@top</span> <span class="o">=</span> <span class="nb">sort</span> <span class="p">{</span> <span class="nv">$counts</span><span class="p">{</span><span class="nv">$b</span><span class="p">}</span> <span class="o">&lt;=&gt;</span> <span class="nv">$counts</span><span class="p">{</span><span class="nv">$a</span><span class="p">}</span> <span class="o">||</span> <span class="nv">$a</span> <span class="ow">cmp</span> <span class="nv">$b</span> <span class="p">}</span> <span class="nb">keys</span> <span class="nv">%counts</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="nv">@top</span><span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">])</span> <span class="p">{</span>
  <span class="k">print</span> <span class="p">"</span><span class="si">$_</span><span class="s2">: </span><span class="si">$counts</span><span class="s2">{</span><span class="si">$_</span><span class="s2">}</span><span class="se">\n</span><span class="p">";</span>
<span class="p">}</span>
</code></pre>

</div>



<p>And we can see top ten words in the KJV version of the Bible:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ curl -s https://www.gutenberg.org/cache/epub/10/pg10.txt | ./wordcount.pl
the: 64305
and: 51762
of: 34843
to: 13680
that: 12927
in: 12727
he: 10422
shall: 9840
for: 8997
unto: 8997
</code></pre>

</div>



<p>There are so many interesting things going on here:</p>

<ul>
<li>autovivification with <code>$counts{lc$_}++</code> - we didn't have to do <code>%counts={}</code> and <code>$counts{lc$_} ||= 0</code> like we would in most other languages</li>
<li>in Perl scalars work as strings or numbers depending on context, which makes things awkward for sorting. Inside <code>sort{ }</code> <code>$a</code> and <code>$b</code> are elements being compared. In this case we compare values numerically with <code>&lt;=&gt;</code> (which returns -1, 0, or +1), and then (<code>||</code> only runs right side if left is false, and 0 being equal is false) compare keys as strings with <code>cmp</code> (which returns -1, 0, or +1). It can work, but I much prefer Ruby version <code>counts.sort_by{|k,v| [-v, k]}</code>.</li>
<li>
<code>$top[...]</code> is one element of <code>@top</code>, but <code>@top[...]</code> is a list of elements, corresponding to list of indexes we pass.</li>
</ul>

<h3>
  <a href="#function-prototypes">
  </a>
  Function Prototypes
</h3>

<p>Perl is really committed to not having to do parentheses. For example you can declare that a function takes exactly one scalar argument with <code>($)</code>. Take a look:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="k">sub </span><span class="nf">titleize</span> <span class="p">($)</span> <span class="p">{</span>
  <span class="k">my</span> <span class="p">(</span><span class="nv">$word</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="err">@</span><span class="nv">_</span><span class="p">);</span>
  <span class="nv">$word</span> <span class="o">=</span> <span class="nb">lc</span><span class="nv">$word</span><span class="p">;</span>
  <span class="nv">$word</span> <span class="o">=~</span> <span class="sr">s/\b./uc$&amp;/</span><span class="nv">eg</span><span class="p">;</span>
  <span class="nv">$word</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">print</span> <span class="p">"</span><span class="s2">Hello </span><span class="p">",</span> <span class="nv">titleize</span> <span class="p">"</span><span class="s2">alice SMITH</span><span class="p">",</span> <span class="p">"</span><span class="s2">!</span><span class="se">\n</span><span class="p">";</span>
</code></pre>

</div>





<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./prototypes.pl
Hello Alice Smith!
</code></pre>

</div>



<p>Thanks to the prototype, Perl knows what you meant was this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">print</span><span class="p">("</span><span class="s2">Hello </span><span class="p">",</span> <span class="nv">titleize</span><span class="p">("</span><span class="s2">alice SMITH</span><span class="p">"),</span> <span class="p">"</span><span class="s2">!</span><span class="se">\n</span><span class="p">");</span>
</code></pre>

</div>



<p>And not this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">print</span><span class="p">("</span><span class="s2">Hello </span><span class="p">",</span> <span class="nv">titleize</span><span class="p">("</span><span class="s2">alice SMITH</span><span class="p">",</span> <span class="p">"</span><span class="s2">!</span><span class="se">\n</span><span class="p">"));</span>
</code></pre>

</div>



<p>A lot of Perl builtin functions behave like this, including obviously <code>uc</code> and <code>lc</code>.</p>

<p>This is something even Ruby and Raku do not attempt. Ruby achieves its minimal parentheses count by making such one argument functions into methods you can unambiguously call with <code>.method_name</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight ruby"><code><span class="nb">print</span> <span class="s2">"Hello "</span><span class="p">,</span> <span class="s2">"alice SMITH"</span><span class="p">.</span><span class="nf">titleize</span><span class="p">,</span> <span class="s2">"!</span><span class="se">\n</span><span class="s2">"</span>
</code></pre>

</div>



<p>Another things to notice here, is that Perl functions don't have argument lists. They just get <code>@_</code> as argument list, and it's up to them to unpack them. Very often the first line of every function is <code>my ($arg1, $arg2, @rest) = @_</code> or such.</p>

<h3>
  <a href="#flipping-language-features">
  </a>
  Flipping Language Features
</h3>

<p>Perl has a lot of default like calculations being on floating point numbers, but it's really happy to offer alternatives, which you can select with lexically scoped <code>use feature</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="vg">$\</span><span class="o">=</span><span class="p">"</span><span class="se">\n</span><span class="p">";</span>

<span class="k">print</span> <span class="mi">1</span><span class="o">/</span><span class="mi">7</span><span class="p">;</span>

<span class="p">{</span>
  <span class="k">use</span> <span class="nv">bigrat</span><span class="p">;</span>
  <span class="k">print</span> <span class="mi">1</span><span class="o">/</span><span class="mi">7</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">print</span> <span class="mi">1</span><span class="o">/</span><span class="mi">7</span><span class="p">;</span>
</code></pre>

</div>





<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./bigrat.pl
0.142857142857143
1/7
0.142857142857143
</code></pre>

</div>



<p>Until recently it offered completely insane <code>$[</code> which determined if arrays start from 0, from 1, or from something dumb. That got understandably removed.</p>

<h3>
  <a href="#unix-integration">
  </a>
  Unix Integration
</h3>

<p>Perl always meant to completely replace Unix shell scripts. It has absolutely phenomenal Unix integration. Here are just some examples:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="nv">$os</span> <span class="o">=</span> <span class="p">`</span><span class="sb">uname -ms</span><span class="p">`;</span>
<span class="nb">chomp</span> <span class="nv">$os</span><span class="p">;</span>

<span class="p">{</span>
  <span class="nb">local</span> <span class="nv">$ENV</span><span class="p">{</span><span class="nv">LC_ALL</span><span class="p">}</span> <span class="o">=</span> <span class="p">'</span><span class="s1">ru_RU</span><span class="p">';</span>
  <span class="nv">$date</span> <span class="o">=</span> <span class="p">`</span><span class="sb">date</span><span class="p">`;</span>
  <span class="nb">chomp</span> <span class="nv">$date</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">print</span> <span class="p">"</span><span class="s2">You're on </span><span class="si">$os</span><span class="se">\n</span><span class="p">";</span>
<span class="k">print</span> <span class="p">"</span><span class="s2">In Russian, date is </span><span class="si">$date</span><span class="se">\n</span><span class="p">";</span>

<span class="k">print</span> <span class="p">"</span><span class="s2">Number of characters in numbers 1 to 1_000_000 is: </span><span class="p">";</span>
<span class="nb">open</span><span class="p">(</span><span class="nv">F</span><span class="p">,</span> <span class="p">"</span><span class="s2">|wc -c</span><span class="p">");</span>
<span class="k">print</span> <span class="nv">F</span> <span class="vg">$_</span> <span class="k">for</span> <span class="mi">1</span><span class="o">..</span><span class="mi">1_000_000</span><span class="p">;</span>
<span class="nb">close</span> <span class="nv">F</span><span class="p">;</span>
</code></pre>

</div>





<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./system.pl
You're on Darwin x86_64
In Russian, date is вторник, 11 января 2022 г. 06:31:54 (GMT)
Number of characters in numbers 1 to 1_000_000 is:  5888896
</code></pre>

</div>



<p>As you can see:</p>

<ul>
<li>backticks to get output of a simple command</li>
<li>you can change <code>ENV</code> by modifyng  <code>%ENV</code> - and something other languages don't really provide, you can make those changes scoped so they get restored when you exit the block</li>
<li>you can open pipes from or to your program just like you'd open a file - for bidirectional communication you'd need to use a module</li>
</ul>

<p>Only Ruby and Raku fully endorsed this, and Ruby doesn't have <code>local ENV</code> trick. On the other hand, Perl doesn't have equivalent of Ruby's block-scoped local directory change with <code>Dir.chdir{ ... }</code>. In Perl if you change directory with <code>chdir</code> you need to restore it back manually.</p>

<h3>
  <a href="#flip-flop-operator">
  </a>
  Flip Flop Operator
</h3>

<p>A flip flop is a pair of condition. When first is true, it turns on the flip flop. When second is true, it turns it off. So there's a bit of hidden state.</p>

<p>Well, let's parse some HTML with regular expressions, and extract all links from a head section of an HTML:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="vg">$\</span><span class="o">=</span><span class="p">"</span><span class="se">\n</span><span class="p">";</span>

<span class="nb">open</span> <span class="nv">F</span><span class="p">,</span> <span class="p">"</span><span class="s2">curl -s https://en.wikipedia.org/wiki/Perl |</span><span class="p">";</span>
<span class="k">while</span> <span class="p">(</span><span class="o">&lt;</span><span class="nv">F</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="sr">/&lt;head&gt;/</span> <span class="o">..</span> <span class="sr">/&lt;\/head&gt;/</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">print</span> <span class="err">$</span><span class="mi">1</span> <span class="k">for</span> <span class="sr">/href="(.*?)"/g</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

</div>





<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./flipflop.pl
/w/load.php?lang=en&amp;amp;modules=ext.cite.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cjquery.makeCollapsible.styles%7Cskins.vector.styles.legacy%7Cwikibase.client.init&amp;amp;only=styles&amp;amp;skin=vector
/w/load.php?lang=en&amp;amp;modules=site.styles&amp;amp;only=styles&amp;amp;skin=vector
//upload.wikimedia.org
//en.m.wikipedia.org/wiki/Perl
/w/index.php?title=Perl&amp;amp;action=edit
/static/apple-touch/wikipedia.png
/static/favicon/wikipedia.ico
/w/opensearch_desc.php
//en.wikipedia.org/w/api.php?action=rsd
https://creativecommons.org/licenses/by-sa/3.0/
https://en.wikipedia.org/wiki/Perl
//meta.wikimedia.org
//login.wikimedia.org
</code></pre>

</div>



<p>If we had a lot of HTML documents, the flip flop would keep going on whenever a <code>&lt;head&gt;</code> is matched, and keep going off whenever <code>&lt;/head&gt;</code> is matched. It's basically a shortcut notation for saying:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1">#!/usr/bin/perl</span>

<span class="vg">$\</span><span class="o">=</span><span class="p">"</span><span class="se">\n</span><span class="p">";</span>

<span class="nb">open</span> <span class="nv">F</span><span class="p">,</span> <span class="p">"</span><span class="s2">curl -s https://en.wikipedia.org/wiki/Perl |</span><span class="p">";</span>
<span class="nv">$in_head</span> <span class="o">=</span> <span class="nv">false</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="o">&lt;</span><span class="nv">F</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$in_head</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="sr">/&lt;head&gt;/</span><span class="p">;</span>
  <span class="nv">$in_head</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="sr">/&lt;\/head&gt;/</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$in_head</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">print</span> <span class="err">$</span><span class="mi">1</span> <span class="k">for</span> <span class="sr">/href="(.*?)"/g</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

</div>



<p>Arguably a flip flop expresses it more cleanly than a state variable and some statements to manage it. Or maybe it doesn't.</p>

<p>This feature has a good amount of controversy behind it. Like many Perl features it found its way into Ruby, but you'd be hard pressed to find it used much in typical Ruby code. At one point Ruby tried to deprecate it with goal of removing it, but it managed a rare feat and got itself un-deprecated.</p>

<h3>
  <a href="#should-you-use-perl">
  </a>
  Should you use Perl?
</h3>

<p>Probably not.</p>

<p>I tried to show Perl in the best light here, and even that wasn't possible without running into a good number of WATs. If you look at real Perl code, there's a really high WAT rate. At the time it could have been argued the WATs are a price worth paying for expressiveness, and it's still way better than shell scripting, but most languages after Perl took many of Perl's best parts, without the WATs.</p>

<p>Perl has two main spiritual successors, which took different lessons from Perl - Ruby and Raku. Ruby took the "lessons learned" approach, kept the good stuff somewhat selectively, also good stuff from Smalltalk and other languages, and created a thing of beauty. Raku took the opposite "build a better kitchen sink" approach, cleaned up some stuff that clearly wasn't working, and instead piled up a lot of completely new untested ideas, to get a hopefully highly expressive mess. Depending on why you wanted to use Perl, one or the other might be more appealing.</p>

<p>Other modern languages like Python (or even somewhat JavaScript with Node) are not quite doing what Perl was aiming at, but they're generally adequate as replacement for shell scripting, and they have an advantage that you might already know them.</p>

<p>Perl is one of the best languages for code golfing, but Ruby is about equally good at it, while being so much more useful overall. And nowadays golfing-specific languages are also very popular.</p>

<p>Overall if you wanted to use Perl for something, I'd recommend Ruby as a first choice replacement, and one of the other languages I mentioned if that's not quite what you want.</p>

<p>While writing this episode I also had quite a few moments when I thought some Perl-style Ruby feature originated in Perl (notably <code>Dir.chdir</code> and <a href="http://t-a-w.blogspot.com/2010/07/another-example-of-ruby-being-awesome-w.html"><code>%W</code></a>), but it turned out that it was just Ruby extrapolating from the good parts of Perl. The best Perl of today is no longer Perl itself.</p>

<h3>
  <a href="#code">
  </a>
  Code
</h3>

<p><a href="https://github.com/taw/100-languages-speedrun">All code examples for the series will be in this repository</a>.</p>

<p><a href="https://github.com/taw/100-languages-speedrun/tree/master/episode-52-perl">Code for the Perl episode is available here</a>.</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_4">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/randal_l_schwartz/2022/01/perl-is-not-dead.html">Perl is not dead</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Randal L. Schwartz
 on Monday 10 January 2022 22:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>Came across an interesting video from one of the users of Perl: <a href="https://youtu.be/FQXjLG0DjPo">Is Perl dead? @Randal L. Schwartz on Dart and Flutter @Code Maven</a></p>
        
           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_5">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/aristotle/2022/01/utf8mb4-default.html">To whom this MySQL UTF-8 news may concern</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Aristotle
 on Sunday 09 January 2022 00:38</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>Strictly speaking not news exactly, given that it dates from early 2018, but it was news to me, and since I haven’t seen it make the rounds I still find it worth disseminating. <a href="https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-11.html#mysqld-8-0-11-charset">From the MySQL 8.0.11 release notes</a>:</p>

<blockquote cite="https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-11.html#mysqld-8-0-11-charset"><p> The <code>utf8mb3</code> character set will be replaced by <code>utf8mb4</code> in a future MySQL version. The <code>utf8</code> character set is currently an alias for <code>utf8mb3</code>, but will at that point become a reference to <code>utf8mb4</code>. To avoid ambiguity about the meaning of <code>utf8</code>, consider specifying <code>utf8mb4</code> explicitly for character set references instead of <code>utf8</code>.</p></blockquote>

<p>This a declaration of intent rather than a change that has happened… but still. <a href="https://github.com/mysql/mysql-server/commit/43a506c0ced0e6ea101d3ab8b4b423ce3fa327d0">It’s been a very long September</a>…</p>

<p>(To prepare for this you’ll want to note <a href="http://mysql.rjweb.org/doc.php/limits#767_limit_in_innodb_indexes">what you need to take into account regarding the way <code>utf8mb4</code> and indexes interact</a>.)</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_6">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/thibaultduponchelle/book-review-advanced-perl-programming-5ceo">Book review &quot;Advanced Perl programming&quot;</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Tib
 on Monday 10 January 2022 12:33</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--weL8IK2b--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fbiqenfto5d5vh6g43o6.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--weL8IK2b--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fbiqenfto5d5vh6g43o6.jpg" alt="Advanced Perl Programming" width="880" height="1173"></a></p>

<p><a href="https://www.oreilly.com/library/view/advanced-perl-programming/1565922204/">Advanced Perl Programming</a> is a book from <strong>Sriram Srinivasan</strong> published in 1997 (ouch!).</p>

<p>It's old, if you're a Perl <em>newcomer</em>, don't read such old books (in addition that this book is not adapted to your level).</p>

<p>There is a <a href="https://www.oreilly.com/library/view/advanced-perl-programming/0596004567/">second edition</a> of this book but it seems a totally different book (different author). Also the <a href="https://www.oreilly.com/library/view/advanced-perl-programming/9781484258637/">Advanced Perl Programming: From Advanced to Expert</a> from <strong>William Bo Rothwell</strong> seems a completely different book.</p>

<p><strong>Advanced Perl Programming</strong> is old but interesting... but I have to admit that it is no consistent in quality.</p>

<p>I think this book is for "hardcore Perl programmers" 😀</p>

<h2>
  <a href="#start-of-the-book">
  </a>
  Start of the book
</h2>

<p>The first chapters talk about Perl internals from a Perl developer point of view: references, symbolic refs, reference counting, symbol table, anonymous subs and closures. </p>

<p>It continues with advanced Perl topics (eval and modules).</p>

<p>These chapters give an overall feeling of cleanliness and deep research from author. Each notion is compared to other programming languages (Java, C++, Tcl) which is VERY interesting. In short I loved these chapters.</p>

<p>It makes me think the author is a senior developer and has made a nice research work :)</p>

<h2>
  <a href="#middle-of-the-book">
  </a>
  Middle of the book
</h2>

<p>I really less appreciated this part, it's about Object Oriented Programming, interfaces, persistence, templating... But if topics seem cool, it has flaws, it's based often on big pieces of imaginary code (not on CPAN) and/or old technologies. I can't say it's bad, but I definitely less enjoyed this part because also the style. Overall I think it's harder to follow because the ordering where code snippets are introduced is rough (e.g. The tetris chapter). </p>

<p>There are still interesting things to pick up in the middle of this, e.g. I enjoyed the chapter about "Tie" (chapter 9) and Persistence (chapter 10).</p>

<h2>
  <a href="#end-of-the-book">
  </a>
  End of the book
</h2>

<p>Starting chapter 18, we are back to Perl internals (perl <em>interpreter</em> internals this time). Personally I'm interested in this and I found this part really great. </p>

<h2>
  <a href="#interesting-bits-in-bulk">
  </a>
  Interesting bits in bulk
</h2>

<ul>
<li>"Variable suicide"</li>
<li>I discovered there was a ".plc" initiative (to pre-compile perl scripts "a la" python .pyc)</li>
<li>I heard for the first time the word "Impedance mismatch" (OOP)</li>
<li>When you give a reference as parameter of a function, it is not an optimization</li>
<li>Symbolic references only works for global variables</li>
<li>Symbolic references does not increase ref count</li>
</ul>

<h2>
  <a href="#citations">
  </a>
  Citations
</h2>

<ul>
<li>Perl is an highly idiomatic language (and it is both good and bad)</li>
<li>Don't sit here and complain, do something! (yet another Perl motto)</li>
<li>It would be an ideal world if we never had to worry about fatal bugs, power failures or end users (Byte Mag)</li>
<li>A good tool is one that is used in ways its developers never thought of (Brian Kernighan)</li>
</ul>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_7">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/546.html">#546 - Perl Books</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 10 January 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there</p>
<p>Welcome to my first edition of 2022 and <strong>95th edition</strong> overall.</p>
<p>I remember there was a time when the <strong>O'Reilly</strong> group published many Perl books. Then came a few other publishing houses like <strong>Manning</strong> publications. I am sure you must have owned a handful of Perl books from these publishers. In recent times not many Perl books have been written, except one or two by <strong>brian d foy</strong>. A friend of mine donated all his Perl books to a local library as he is moving to Python. It is a sad state to be honest. Recently, I came across a <strong>Facebook</strong> post by a friend of mine about a Perl book called <strong>Extending and Embedding Perl</strong>. I knew about it but I had never had the chance to read it. So I decided to buy a used copy from <strong>Amazon</strong>. I must confess I was missing a great deal. If you haven't read it then you must check it out. By the way, I have kept all my Perl books safe. I like to read physical books and not online versions.</p>
<p>With a new year, there is a tradition of new year resolutions. As far as I am concerned, I stopped making any resolutions two years ago. But this year, I decided to make one and stick to it. And the resolution is to get the draft of my first Perl book out as soon as possible. It has been going on for months now. It is embarassing now to even talk about it. There are so many things going on at the same time, I hardly find time for the book. Please wish me luck.</p>
<p>A long time ago, <strong>Gabor</strong> started a campaign to make live videos about Perl. He even did few pair-programming sessions and they were very popular. But then there has been no noise on that front in recent times. I used to make <strong>YouTube</strong> videos for the Weekly Challenge during the middle of last year and then I also stopped because of lack of time. Last month, I started making videos again for the Weekly Challenge. It gives me immense pleasure when I see comments on my videos. Someone recently commented on one video and requested I should make videos of past challenges as well. I have to manage my time carefully otherwise my first book would be neglected again. Having said that, I am not giving up on making videos for the Weekly Challenge. If you are interested then please do check out my <a href="https://www.youtube.com/c/mohammadsajidanwar">YouTube Channel</a>.</p>
<p>There is one piece of good news shared by <strong>Curtis</strong> - that the MMVP (minimally minimal viable product) RFC for Corinna has been sent to P5P. I am keeping my fingers crossed.</p>
<p>Last but not least, please look after yourself and your loved ones.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_8">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/dancer2-install-perl-on-linux">Dancer2: Install Perl on Linux and Mac OSX</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Monday 10 January 2022 09:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
Part of the Dancer2 video course.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_9">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/bruce_gray/2022/01/twc-146-10k-prime-and-cw-trees.html">TWC 146: 10K Prime and CW Trees</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Bruce Gray
 on Monday 10 January 2022 03:35</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>In which we leap tall primes in a single bound, mis-take a tree, test percussion, and find the limits of a Curious Module.</p>

<p>Task 1: 10001st Prime Number - One-liners (expanded) in Raku and Perl.</p>

<p>Task 2: Curious Fraction Tree - Solutions in Raku and Perl (with 200+ tests), and another Perl solution using a CPAN module.</p>

        <h1><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-146/#TASK1">TWC Task #1, 10001st Prime Number</a></h1>

<h2>Perl</h2>

<p>My <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-146/bruce-gray/perl/ch-1.pl">Perl program</a> is a 3-line version of this one-liner:</p>

<pre><code>perl -Mntheory=nth_prime -wE 'say nth_prime(10_001)'
</code></pre>

<p>The <a href="https://metacpan.org/pod/ntheory">ntheory</a> (Number Theory) module has many routines that would solve the problem. <code>nth_prime</code> is the most direct.</p>

<h2>Raku</h2>

<pre><code>constant @primes = (2, 3, 5, 7 ... *).grep(&amp;is-prime);
say @primes.skip(10_000).head;
</code></pre>

<p>That <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-146/bruce-gray/raku/ch-1.raku">first line</a> creates a "constant" lazy infinte array of primes. It is constant in the sense that the program code cannot alter a value, but it is lazy, so the elements of <code>@primes[0..N]</code> are not generated until something tries to use <code>@primes[N]</code>. All the prior elements are cached and delivered on request without recalculation. If a higher element is requested later in the program's execution, then the generation of <code>@primes</code> elements will resume where it left off.</p>

<h1><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-146/#TASK2">TWC Task #2, Curious Fraction Tree</a></h1>

<p>I studied the patterns of parent->children and child->parent, slung some code to solve the task, wrote more to extend the tree, and searched <a href="https://oeis.org/">OEIS</a> and the Web.</p>

<h2>Observations:</h2>

<ul>
<li><p>The "Curious Fraction Tree" is properly named the "<a href="https://en.wikipedia.org/wiki/Calkin%E2%80%93Wilf_tree">Calkin-Wilf Tree</a>", but is easily confused with the 150+year-earlier "<a href="https://en.wikipedia.org/wiki/Stern%E2%80%93Brocot_tree">Stern-Brocot tree</a>". <br />
(by "easily confused", I mean that I confused them. Also confused C-W with Kepler's tree of harmonic fractions.)</p></li>
<li><p>Coolest illustration of the C-W tree: <a href="https://www.jasondavies.com/calkin-wilf-tree/">https://www.jasondavies.com/calkin-wilf-tree/</a></p></li>
<li><p>C-W tree covers every rational number. <br />
(Infinite in two dimensions? No big deal, I can do that easily via diagonals; we just get lots of duplicates.)</p>

<ul>
<li>C-W tree does not need diagonals, and <em>never</em> has duplicates. <br />
<ul>
<li>...I can't do that.
<ul>
<li>Apparently, I can't even understand the proof!</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Raku has rational numbers as a built-in type: <a href="https://docs.raku.org/type/Rat">Rat</a>. Rat is auto-normalizing (3/6 becomes 1/2), has .numerator and .denominator methods, and a .nude method to get a list of both (Nu/De) at once.</p></li>
<li><p>If you follow a fraction's C-W lineage all the way back to (but not including) the 1/1 root, reverse that lineage to be root-to-descendant, and map each fraction along-the-way as proper-fraction==L, improper-fraction==R (i.e. more than 1 or less than 1), then you get a navigation tree of which branch to follow, all the way to the original number. e.g. 8/19 has the navigation of RLRRLL.</p>

<ul>
<li>To a percussionist, those navigations look just like snare drum rudiments and exercises: 'RLRRLL' is a <a href="https://www.drumlessons.com/drum-lessons/drum-set-rudiments/single-paradiddle-diddle/">single paradiddle-diddle</a>
<ul>
<li>Those navigations can translate back-and-forth (if we are careful) to binary numbers, and so to plain decimal integers. (More on this when I discover the Curious Module below.)</li>
</ul></li>
</ul></li>
<li><p>Exploring the tree via regular patterns of L(s) and R(s) finds some interesting properties:</p>

<ul>
<li>'LLLLLL'... and 'RRRRRR'... are the left and right edges of the tree, with top or bottom == 1. <br />
1/101    # 'L' x 100 <br />
101/1    # 'R' x 100</li>
<li>R,'LLLLLL'... and L,'RRRRRR'... are the two center-most numbers ("framing" the half-way point) on any level after the first. Top or bottom will be '2'.</li>
<li>LR,'LLLLLL'... and LL,'RRRRRR'... frame the quarter-way point; <br />
RR,'LLLLLL'... and RL,'RRRRRR'... frame the three-quarter-way point on any level after the second. Top or bottom will be '3'.</li>
<li>(and so on, for row divisions by 8, 16, 32, ...)</li>
<li>Single-bit set (or unset) produce the top (or bottom) sequence 2,3,4...(size+1) as we slide the position of the bit: <br />
2/31   # RLLLLLLLLLLLLLLL <br />
3/44   # LRLLLLLLLLLLLLLL <br />
4/55   # LLRLLLLLLLLLLLLL <br />
... <br />
31/2   # LRRRRRRRRRRRRRRR <br />
44/3   # RLRRRRRRRRRRRRRR <br />
55/4   # RRLRRRRRRRRRRRRR</li>
<li>Alternating L and R reaches the 1/3-point and 2/3-point in a row, producing approximations of the <a href="https://en.wikipedia.org/wiki/Golden_ratio">Golden Ratio</a> φ ("The most irrational number"; 1.618033988749...), and its inverse|conjugate. <br />
These numbers are all ratios of successive Fibonacci numbers. <br />
e.g.  LRLRLRLRLRLRLRLRLRL => 6765/10946 == F(20)/F(21) == 0.618034</li>
</ul></li>
</ul>

<p>After satisfying my urge for percussive exploration, I formalized the findings into a <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-146/bruce-gray/Test_data/ch-2_tests.txt">file of tests</a> that the Perl and Raku solutions could both access, then wrote <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-146/bruce-gray/Test_data/ch-2_test_generator.raku">utility routines</a> to help anyone who wants to explore more deeply.</p>

<p>I later found mention in a paper (URL?) that, unlike the Stern-Brocot tree, the C-W tree can be navigated directly <em>across</em> a row, also moving from the end of one row to the start of the next row. I added the calculation to the utility routines as `<a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-146/bruce-gray/Test_data/ch-2_test_generator.raku#L16">next-Calkin-Wilf-neighbor</a>.</p>

<p>After <em>all</em> <em>that</em>, I found a Perl module on CPAN that solves the problem: <a href="https://metacpan.org/pod/Math::PlanePath::RationalsTree#Calkin-Wilf-Tree">Math::PlanePath::RationalsTree</a>.
This lead to a proof-of-concept one-liner, that calculates the parent but not the grandparent:</p>

<pre><code>perl -MMath::PlanePath::RationalsTree -wE 'my $CW = Math::PlanePath::RationalsTree-&gt;new( tree_type =&gt; "CW" ); say join "/", $CW-&gt;n_to_xy( $CW-&gt;tree_n_parent( $CW-&gt;xy_to_n(@ARGV) ) );' 4817 5410
</code></pre>

<p>I cloned my original Perl solution and replaced my algorithm with calls to the module, as <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-146/bruce-gray/perl/ch-2_via_module.pl">ch-2<em>via</em>module.pl</a>, so I could be sure that the module could play in my drumming circle.</p>

<p>It worked perfectly, except where it didn't. Of 202 tests, only 166 passed.</p>

<p>Looking deeper into the 36 test failures, the problem became obvious. The module handles all types of rational trees with the efficient method of translating the LR navigation into zeros and ones to make (when decoded from binary) an integer. That integer represents the linear position of the rational.</p>

<pre><code>$ perl -MMath::PlanePath::RationalsTree -wE 'my $CW = Math::PlanePath::RationalsTree-&gt;new( tree_type =&gt; "CW" ); say "N=$_ : tree_element=", join "/", $CW-&gt;n_to_xy( $_ ) for 1..5;'
N=1 : tree_element=1/1
N=2 : tree_element=1/2
N=3 : tree_element=2/1
N=4 : tree_element=1/3
N=5 : tree_element=3/2
</code></pre>

<p>The tree gets <em>twice</em> as big for every row (level?) you go down. Exponential growth! Around row 64, N will be around 2^64, and overflow the integer size of 64-bit Perl. All the tests below N=2^64 passed, as did some beyond that point (vagaries of rounding?), but you cannot rely on accuracy past that point. E.g.: finding the parent of "1/65" gives the wrong answer using the "convert to N" method, while 1/10001 and beyond all work with the direct calculations in Perl and Raku. (To be fair, Raku starts having problems past level 90 when drilling down along the Golden Ratio, due to <a href="https://docs.raku.org/type/Rat">Rat</a> auto-collapsing into a more efficient <a href="https://docs.raku.org/type/Num">Num</a>. This could be prevented by using FatRat.)</p>

<h2>Raku</h2>

<p>Of note in my <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-146/bruce-gray/raku/ch-2.raku">Raku solution</a> :</p>

<ul>
<li>Clean separation of types: Calkin-Wilf-tree-parent() takes and returns Rat, and task2() takes and returns Str.</li>
<li>Symmetry: task2() splits on slash at the start, and joins on slash at the end.</li>
<li>Sequence: @lineage is a lazy <a href="https://docs.raku.org/type/Seq">Seq</a> going all the way back to the root, generated by repeated calls to get the parent of the last result. This "keep feeding the result back in as the next argument" (iterated function) is a common-enough pattern that Raku directly supports it via the <a href="https://docs.raku.org/routine/....html"><code>...</code> or "sequence" operator</a>. Since the Seq is lazy, and we only ask for the first two ancestors (via .head), only two are calculated.</li>
<li>Contain to Name: Placing the difference in its own variable allows not only DRY in the return statement, but also the symmetry between the two possible results. I particularly like how <code>diff</code> and <code>-diff</code> read, compared to <code>n-d</code> and d-n. (If I had not already committed, I might change <code>diff/d</code> to <code>+diff/d</code> to call attention the sign change).</li>
<li>multi sub MAIN clearly shows the two ways to run the program.</li>
</ul>

<h2>Perl</h2>

<p>Of note in my <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-146/bruce-gray/perl/ch-2.pl">Perl solution</a> :</p>

<ul>
<li>Clean separation of types: Calkin<em>Wilf</em>tree_parent() takes and returns a two-element [numerator,denominator] arrayref, and task2() takes and returns a "numerator/denominator" string.</li>
<li>map==grep++ : <code>map</code> is also serving as <code>grep</code> via the empty-list trick; if no non-whitespace characters exist in the line, then <code>map</code> produces <em>nothing</em> for that line, not even <code>undef</code>; the line is skipped.</li>
<li>/r : Using the <code>r</code> modifier (part of s{...}{...}msxr) on the substitution lets me return a changed copy, instead of modifying the original.</li>
</ul>

<p>Kudos to <a href="http://www.manwar.org/">manwar</a>, and thanks to the whole <a href="https://theweeklychallenge.org/team/">team at The Weekly Challenge</a>!</p>

<p><a href="https://www.imdb.com/title/tt0080455/quotes/qt0320080">Elwood</a>: What kind of music do you usually have here? <br />
Claire: Oh, we got both kinds. We got Country <em>and</em> Western.</p>

<p><em>Rawhide!</em></p>

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_10">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2022/01/perl-weekly-challenge-146-prime-numbers-and-fraction-tree.html">Perl Weekly Challenge 146: Prime Numbers and Fraction Tree</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Friday 07 January 2022 04:08</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 146 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-146/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few days from now (on January 9, 2022 at 24:00). This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: 10001st Prime Number</h2>

<p><em>Write a script to generate the 10001st prime number.</em></p>

<h3>10001st Prime Number in Raku</h3>

<p>Raku has a fast <a href="https://docs.raku.org/routine/is-prime">is-prime</a> subroutine or method, using the Miller-Rabin algorithm, to test whether a integer is prime. We can just generate an infinite (lazy) list of prime numbers and look for the 10000st one.</p>

<pre><code>use v6;

my @primes = grep { .is-prime }, (1, 2, 3, -&gt; $a { $a + 2} ...Inf);
say @primes[10001 - 1];  # Subtract 1 because the array starts at 0
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ raku ./10001prime.raku
104743
</code></pre>

<p>The Raku script is so simple that it can be implemented as a short Raku one-liner:</p>

<pre><code>$ ./raku -e 'say (grep { .is-prime }, 1..Inf)[10000]'
104743
</code></pre>

<h3>10001st Prime Number in Perl</h3>

<p>Since Perl doesn&#8217;t have a built-in <code>is-prime</code> subroutine, we implement our own. As finding the first 10001 primes is an intensive computation, we implement three performance optimizations compared to the naive brute-force solution: first, with the exception of 2, we only check odd integers. Second, we limit the tested divisors to the square root of the integer being checked. Finally, rather than testing all possible divisors, we test only the primes that we have already found. With these three optimizations, the script runs in less than 0.2 second, much faster than I expected.</p>

<pre><code>use strict;
use warnings;
use feature "say";
use constant MAX =&gt; 10_001;

sub primes {
    my $max = shift;
    my @primes = (2, 3, 5);
    my $count = 3;
    my $candidate = $primes[-1];
    while ($count &lt;= $max) {
        $candidate += 2;
        my $not_prime = 0;
        my $sq_cand = sqrt $candidate;
        for my $i (@primes) {
            $not_prime = 1, last unless $candidate % $i;
            last if $i &gt; $sq_cand;
        }
        next if $not_prime;
        push @primes, $candidate;
        $count ++;
    }
    return $primes[$max-1];
}
my $p = primes(MAX);
say "$p";
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ time perl ./10001prime.pl
104743

real    0m0,192s
user    0m0,124s
sys     0m0,077s
</code></pre>

<h3>10001st Prime Number in Ring</h3>

<p>I continue my exploration of <em>Ring</em>, a recent programming language (the first version was issued in 2016). The Ring implementation below is essentially a port of the Perl program above (with same performance optimizations):</p>

<pre><code>p = primes(10001)
see p + nl

func primes max
    primes = [2, 3, 5]
    count = len(primes)
    candidate = primes[count]
    while count &lt; max
        candidate += 2
        is_prime = True
        sqrt_cand = sqrt(candidate)
        for i in primes
            if candidate % i = 0
                is_prime = False
                exit
            ok
            if i &gt; sqrt_cand exit ok
        next
        if is_prime 
            add(primes, candidate)
            count ++
        ok
    end
    return primes[max]
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ ring ./10001prime.ring
104743
</code></pre>

<p>Note that Ring lists start with subscript 1, so we use index 10001 for finding the 10001 ptime number.</p>

<h3>10001st Prime Number in Julia</h3>

<pre><code>function getprimes(max)
    primes = [2, 3, 5]
    count = 3
    candidate = 5
    while (count &lt;= max)
        candidate += 2
        not_prime = false
        sq_cand = sqrt(candidate)
        for i in primes
            if (candidate % i == 0)
                not_prime = true
                break
            end
            i &gt; max &amp;&amp; break
        end
        not_prime &amp;&amp; continue
        push!(primes, candidate)
        count += 1
    end
    return primes[max] # Julia arrays start with index 1
end

p = getprimes(10001)
println(p)
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ julia 10001prime.jl
104743
</code></pre>

<h2>Task 2: Curious Fraction Tree</h2>

<p><em>Consider the following Curious Fraction Tree:</em></p>

<p><img alt="curious_fraction_146.png" src="http://blogs.perl.org/users/laurent_r/curious_fraction_146.png" width="533" height="305" class="mt-image-none" style="" /></p>

<p><em>You are given a fraction, member of the tree created similar to the above sample.</em></p>

<p><em>Write a script to find out the parent and grandparent of the given member.</em></p>

<p><em>Example 1:</em></p>

<pre><code>Input: $member = '3/5';
Output: parent = '3/2' and grandparent = '1/2'
</code></pre>

<p><em>Example 2:</em></p>

<pre><code>Input: $member = '4/3';
Output: parent = '1/3' and grandparent = '1/2'
</code></pre>

<p>The first problem is to understand how this tree is constructed.</p>

<p>Each fraction has two children. It is easy to see that the left child is always a number smaller than 1 and the right child is always a number larger than 1. But how are the values generated?</p>

<p>Well, it is probably not so difficult to find out, but I must confess that I did not try very hard to find the constructing rules, but found them on <a href="https://gdaymath.com/lessons/fractions/5-3-a-curious-fraction-tree/">the Curious Fraction Tree Web page</a>. They are explained in this diagram:</p>

<p><img alt="curious_fraction_tree_pwc146.png" src="http://blogs.perl.org/users/laurent_r/curious_fraction_tree_pwc146.png" width="287" height="224" class="mt-image-none" style="" /></p>

<p>In other words, we have the following rules:</p>

<ul>
<li>For any node, the left child is less than 1 et the right child larger than 1;</li>
<li>For node <code>a/b</code>, left child is <code>a/(a+b)</code> and right node is <code>(a+b)/b</code>.</li>
</ul>

<p>From these two rules, it is easy to derive the reciprocal rules for finding the parent of a node:</p>

<ul>
<li>For a node <code>x/y</code> with a fraction less than 1, the parent is <code>x/(y-x)</code>;</li>
<li>For a node <code>x/y</code> with a fraction larger than 1, the parent is <code>(x-y)/x</code>.</li>
</ul>

<p>It is now very easy to implement these rules in various programming languages.</p>

<p>There is, however, one little last problem. The task specifications do not tell us what to do about invalid input. For example, if the input is <code>(1, 1)</code> (the root to the tree), we will not be able to find a parent. Similarly, if we are given <code>(1/2)</code> as input, we will find <code>(1, 1)</code> as the parent, and will not be able to the grand-parent. We would have a problem if one of the values is 0. It is fairly easy to detect these problems, but I still wouldn&#8217;t know what to do about it. In many of the implementations below, I have decided that we must be given a valid input and will not try to validate the input. In some others, I have decided to detect some of these invalid input problems and tried to do something reasonable about them.</p>

<h3>Curious Fraction Tree in Raku</h3>

<p>We&#8217;re just implementing the rules above. Here, I do not try to validate the input.</p>

<p>Note that I was first tempted to implement the fraction as a <code>Rat</code> type of value, since it implements it as a numerator/denominator pair. I finally decided not to do that (because there may be some cases where the fraction might be reduced to their simplest form, division by 0 errors, and other such problems). So I decided to implement the fractions as integer pairs.</p>

<pre><code>use v6;

# for a node x/y less than 1, parent is x/(y-x)
# for a node x/y larger than 1, parent is (x-y)/x

sub parent (\num, \denom) {
    return num &lt; denom ?? (num, denom - num) !! (num - denom, denom);
}
for (5, 2), (2, 5), (3, 4), (3, 5) -&gt; $fraction {
    my $parent = parent |$fraction[0,1];
    my $gd-parent = parent |$parent[0,1];
    say "for child $fraction, parent is $parent and gd-parent is $gd-parent"; 
}
</code></pre>

<p>With the test fractions provided in the code, this program displays the following output:</p>

<pre><code>raku ./fraction-tree.raku
for child 5 2, parent is 3 2 and gd-parent is 1 2
for child 2 5, parent is 2 3 and gd-parent is 2 1
for child 3 4, parent is 3 1 and gd-parent is 2 1
for child 3 5, parent is 3 2 and gd-parent is 1 2
</code></pre>

<h3>Curious Fraction Tree in Perl</h3>

<p>This program implements the rules described above. Here, we have made some effort to validate the input, just as an example: we write an error value if we get pas the root node.</p>

<pre><code>use strict;
use warnings;
use feature "say";

# for a node x/y less than 1, parent is x/(y-x)
# for a node x/y larger than 1, parent is (x-y)/x

sub parent {
    my ($num, $denom) = @{$_[0]};
    return ["Error"] if $num == $denom;
    return $num &lt; $denom ? [$num, $denom - $num] : [$num - $denom, $denom];
}

for my $fraction ([5, 2], [2, 5], [3, 4], [3, 5], [2, 1], [1, 1]) {
    die "Invalid input node @$fraction" if $$fraction[0] == $$fraction[1];
    my $parent = parent $fraction;
    my $gd_parent = parent $parent;
    say "for child @$fraction, parent is @$parent and gd-parent is @$gd_parent"; 
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ perl ./fraction-tree.pl
for child 5 2, parent is 3 2 and gd-parent is 1 2
for child 2 5, parent is 2 3 and gd-parent is 2 1
for child 3 4, parent is 3 1 and gd-parent is 2 1
for child 3 5, parent is 3 2 and gd-parent is 1 2
for child 2 1, parent is 1 1 and gd-parent is Error
Invalid input node 1 1 at fraction-tree.pl line 15.
</code></pre>

<h3>Curious Fraction Tree in Some Other Programming Languages</h3>

<h4>In Ring</h4>

<p>Again the same rules as before, with an attempt to handle gracefully some of the exceptions:</p>

<pre><code># for a node x/y less than 1, parent is x/(y-x)
# for a node x/y larger than 1, parent is (x-y)/x

for test in [ [5, 2], [2, 5], [3, 4], [3,5], [6, 2], [1, 2] ]
    parent = find_parent(test[1], test[2])
    gd_parent = find_parent(parent[1], parent[2])
    see "Node " + to_str(test) + " has parent " + to_str(parent) + 
        " and grand-parent " + to_str(gd_parent) + nl
next

func find_parent num, denom
    if num &lt; denom
        return [num, denom - num]
    but denom &lt; num
        return [num - denom, denom]
    else 
        return ["Error", ""]
    ok

func to_str input
    return "" + input[1] + " " + input[2]
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ ring ./fraction-tree.ring
Node 5 2 has parent 3 2 and grand-parent 1 2
Node 2 5 has parent 2 3 and grand-parent 2 1
Node 3 4 has parent 3 1 and grand-parent 2 1
Node 3 5 has parent 3 2 and grand-parent 1 2
Node 6 2 has parent 4 2 and grand-parent 2 2
Node 1 2 has parent 1 1 and grand-parent Error
</code></pre>

<h4>In Python</h4>

<p>No attempt here to validate the input.</p>

<pre><code># for a node x/y less than 1, parent is x/(y-x)
# for a node x/y larger than 1, parent is (x-y)/x

def find_parent(num, denom):
    return [num, denom - num] if num &lt; denom else [num - denom, denom]

for test in ([5, 2], [2, 5], [3, 4], [3, 5]):
    parent = find_parent(test[0], test[1])
    gd_parent = find_parent(parent[0], parent[1])
    print("Node", test, "has parent", parent, "and grand-parent", gd_parent)
</code></pre>

<p>Output:</p>

<pre><code>$ python3 ./fraction-tree.py
Node [5, 2] has parent [3, 2] and grand-parent [1, 2]
Node [2, 5] has parent [2, 3] and grand-parent [2, 1]
Node [3, 4] has parent [3, 1] and grand-parent [2, 1]
Node [3, 5] has parent [3, 2] and grand-parent [1, 2]
</code></pre>

<h4>In Julia</h4>

<p>Limited attempt to validate the input (catching only some of the exceptions).</p>

<pre><code>function find_parent(num, denom)
    return num &lt; denom ? [num, denom - num] :
           num &gt; denom ? [num - denom, denom] :
           ("Error on node $num $denom");
end

for test in [ [5, 2], [2, 5], [3, 4], [3, 5], [1, 2] ]
    parent = find_parent(test[1], test[2])
    gd_parent = find_parent(parent[1], parent[2])
    println("Node $test has parent $parent and grand-parent $gd_parent")
end
</code></pre>

<p>Output:</p>

<pre><code># Node [5, 2] has parent [3, 2] and grand-parent [1, 2]
# Node [2, 5] has parent [2, 3] and grand-parent [2, 1]
# Node [3, 4] has parent [3, 1] and grand-parent [2, 1]
# Node [3, 5] has parent [3, 2] and grand-parent [1, 2]
# Node [1, 2] has parent [1, 1] and grand-parent Error on node
</code></pre>

<h4>In Awk:</h4>

<pre><code># Run for example as:
# echo ' 5/2
# 2/5
# 3/5' | awk -f fraction-tree.awk
function parent() 
{
    if (a &lt; b) {
        b = b - a
    } else {
        a = a - b
    }
}
BEGIN {
    a = 0
    b = 0
    FS = "/"
}
{
    a = $1
    b = $2
    printf "Node = %d/%d: ", a, b
    parent()
    printf "Parent = %d/%d; ", a, b
    parent()
    printf "Grand-parent = %d/%d\n", a, b
}
</code></pre>

<p>Output:</p>

<pre><code>$ echo ' 5/2
2/5
3/4
3/5
6/2 ' | awk -f fraction-tree.awk
Node = 5/2: Parent = 3/2; Grand-parent = 1/2
Node = 2/5: Parent = 2/3; Grand-parent = 2/1
Node = 3/4: Parent = 3/1; Grand-parent = 2/1
Node = 3/5: Parent = 3/2; Grand-parent = 1/2
Node = 6/2: Parent = 4/2; Grand-parent = 2/2
</code></pre>

<h3>In Ruby</h3>

<pre><code># For a node `x/y` with a fraction less than 1, the parent is `x/(y-x)`;
# For a node `x/y` with a fraction larger than 1, the parent is `(x-y)/x`.

def get_parent (pair)
    num = pair[0]
    denom = pair[1]
  return num &lt; denom ? [num, denom - num] : [num - denom, denom];
end

tests = [ [5, 2], [2, 5], [3, 4], [3,5] ]
for test in tests
    parent = get_parent(test)
    gd_parent = get_parent(parent)
    print("Node #{test} - Parent: #{parent} - Grand-Parent: #{gd_parent}\n")
end
</code></pre>

<p>Output:</p>

<pre><code>Node 5,2 - Parent: 3,2 - Grand-Parent: 1,2
Node 2,5 - Parent: 2,3 - Grand-Parent: 2,1
Node 3,4 - Parent: 3,1 - Grand-Parent: 2,1
Node 3,5 - Parent: 3,2 - Grand-Parent: 1,2
</code></pre>

<h4>In Lua</h4>

<pre><code>-- For a node `x/y` with a fraction less than 1, the parent is `x/(y-x)`;
-- For a node `x/y` with a fraction larger than 1, the parent is `(x-y)/x`.

local function get_parent(pair)
    num = pair[1]
    denom = pair[2]
    -- no ternary operator in Lua, we can simulate it with and / or:
    return num &lt; denom and {num, denom - num} or {num - denom, denom}
end

local function to_str(pair)
    -- return pair[1] .. "/" .. pair[2]
    return table.concat(pair, "/")
end

local tests = { {5, 2}, {2, 5}, {3, 4}, {3,5} }
for _, test in pairs(tests) do
    parent = get_parent(test)
    gd_parent = get_parent(parent)
    print("Node " .. to_str(test) .. " - Parent: " .. to_str(parent)
        .. " - Grand-Parent: " .. to_str(gd_parent))
end
</code></pre>

<p>Output:</p>

<pre><code>$ lua ./fraction-tree.lua
Node 5/2 - Parent: 3/2 - Grand-Parent: 1/2
Node 2/5 - Parent: 2/3 - Grand-Parent: 2/1
Node 3/4 - Parent: 3/1 - Grand-Parent: 2/1
Node 3/5 - Parent: 3/2 - Grand-Parent: 1/2
</code></pre>

<h4>In Kotlin</h4>

<pre><code>fun find_parent(pair: IntArray): IntArray {
    val num = pair[0]
    val denom = pair[1]
    return if (num &lt; denom) intArrayOf(num, denom - num) else intArrayOf(num - denom, denom)
}

fun n2str (pair: IntArray): String {
    return "${pair[0]}/${pair[1]}"
}

fun main() {
val tests  = arrayOf(intArrayOf(5,2), intArrayOf(2,5), intArrayOf(3,4))
    for (test in tests) {
        val parent = find_parent(test)
        val gd_parent = find_parent(parent)
        print(n2str(test) + " - Parent: " + n2str(parent))
        println(" - Grand-parent: " + n2str(gd_parent))
    }
}
</code></pre>

<p>Output:</p>

<pre><code>5/2 - Parent: 3/2 - Grand-parent: 1/2
2/5 - Parent: 2/3 - Grand-parent: 2/1
3/4 - Parent: 3/1 - Grand-parent: 2/1
</code></pre>

<h4>In C</h4>

<pre><code>#include &lt;STDIO&gt;
void parent(int *a, int *b) {
    if (*a &lt; *b) {
        *b -= *a;
    } else {
        *a -= *b;
    }
}

int main (void) {
    int num, denom;

    while (scanf ("%d/%d", &amp;num, &amp;denom) == 2) {
        printf("%d/%d - ", num, denom);
        parent(&amp;num, &amp;denom);
        printf("Parent: %d/%d - ", num, denom);
        parent(&amp;num, &amp;denom);
        printf("Grand-parent: %d/%d \n", num, denom); 
    }
    return (0);
}
</code></pre>

<p>Output:</p>

<pre><code>$ echo ' 5/2
2/5
3/4
3/5' | ./a.out
5/2 - Parent: 3/2 - Grand-parent: 1/2
2/5 - Parent: 2/3 - Grand-parent: 2/1
3/4 - Parent: 3/1 - Grand-parent: 2/1
3/5 - Parent: 3/2 - Grand-parent: 1/2
</code></pre>

<h4>In Scala</h4>

<pre><code>object fraction_tree extends App {

  def findParent(pair: List[Int]): List[Int] = {
    val num = pair(0)
    val denom = pair(1)
    return if (num &lt; denom) List(num, denom - num) else List(num - denom, denom)
  }
  def n2str(pair: List[Int]): String = {
    return s"${pair(0)}" + "/" + s"${pair(1)}"
  }

  val tests: List[List[Int]] = List(List(5, 2), List(2, 5), List(3, 4))
  for (test &lt;- tests) {
    val parent = findParent(test)
    val gd_parent = findParent(parent)
    println(n2str(test) + " - Parent: " + n2str(parent) + " - Grand-parent: " + n2str(gd_parent))
  }
}
</code></pre>

<p>Output:</p>

<pre><code>5/2 - Parent: 3/2 - Grand-parent: 1/2
2/5 - Parent: 2/3 - Grand-parent: 2/1
3/4 - Parent: 3/1 - Grand-parent: 2/1
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on January 16, 2022. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_11">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2022/01/09#pwc146">Sieve of Atkin / Curious Fraction Tree</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 09 January 2022 17:32</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>Write a script to generate the 10001st prime number.</em> </p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;

use boolean; 
use Getopt::Long;
use LWP::UserAgent;

use constant N => 10_001;   
use constant PRIME_URL => "http://primes.utm.edu/lists/small/100000.txt";

sub get_primes{
    my @primes;
    my $ua = new LWP::UserAgent(
        ssl_opts => {verify_hostname => 0}
    );
    my $response = $ua->get(PRIME_URL);
    my @lines = split(/\n/,$response->decoded_content);
    foreach my $line (@lines){
        my @p = split(/\s+/, $line);
        unless(@p < 10){
            push @primes, @p[1..(@p - 1)];
        }
    }
    return @primes;
}

sub sieve_atkin{
    my($n) = @_;
    my @primes = (2, 3, 5);
    my $upper_bound = int($n * log($n) + $n * log(log($n)));
    my @atkin = (false) x $upper_bound;    
    my @sieve = (1, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 49, 53, 59);
    for my $x (1 .. sqrt($upper_bound)){
        for(my $y = 1; $y <= sqrt($upper_bound); $y+=2){
            my $m = (4 * $x ** 2) + ($y ** 2);
            my @remainders;  
            @remainders = grep {$m % 60 == $_} (1, 13, 17, 29, 37, 41, 49, 53) if $m <= $upper_bound; 
            $atkin[$m] = !$atkin[$m] if @remainders; 
        }          
    } 
    for(my $x = 1; $x <= sqrt($upper_bound); $x += 2){
        for(my $y = 2; $y <= sqrt($upper_bound); $y += 2){
            my $m = (3 * $x ** 2) + ($y ** 2);
            my @remainders;  
            @remainders = grep {$m % 60 == $_} (7, 19, 31, 43) if $m <= $upper_bound; 
            $atkin[$m] = !$atkin[$m] if @remainders; 
        }          
    }   
    for(my $x = 2; $x <= sqrt($upper_bound); $x++){
        for(my $y = $x - 1; $y >= 1; $y -= 2){
            my $m = (3 * $x ** 2) - ($y ** 2);
            my @remainders;  
            @remainders = grep {$m % 60 == $_} (11, 23, 47, 59) if $m <= $upper_bound; 
            $atkin[$m] = !$atkin[$m] if @remainders; 
        }          
    } 
    my @m;
    for my $w (0 .. ($upper_bound / 60)){
        for my $s (@sieve){
            push @m, 60 * $w + $s;  
        }
    }
    for my $m (@m){
        last if $upper_bound < ($m ** 2);
        my $mm = $m ** 2;
        if($atkin[$m]){
            for my $m2 (@m){
                my $c = $mm * $m2;
                last if $c > $upper_bound;
                $atkin[$c] = false;
            }
        }
    }
    map{ push @primes, $_ if $atkin[$_] } 0 .. @atkin - 1;
    return @primes; 
}

sub get_nth_prime{
    my($n, $generate) = @_; 
    my @primes;
    unless($generate){
        @primes = get_primes;
    }
    else{
        @primes = sieve_atkin($n);
    }
    return $primes[$n - 1]; 
}


MAIN:{
    my $n = N;
    my $generate = false;
    GetOptions("n=i" => \$n, generate => \$generate);
    print get_nth_prime($n, $generate) . "\n"; 
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
104743
$ perl perl/ch-1.pl --generate
104743
$ perl perl/ch-1.pl --generate
104743
$ perl perl/ch-1.pl --generate --n 101
547
$ perl perl/ch-1.pl --generate --n 11
31
$ perl perl/ch-1.pl --n 10001
104743
$ perl perl/ch-1.pl --n 11
31
</code></pre>

<h3>Notes</h3>

<p>I've mentioned it before, but for anything that asks for or needs prime numbers I always
ust grab them from one of several convenient online sources, rather than generate them 
myself.</p>

<p>This time around I figured it'd be sporting to generate them myself, but maybe in an
interesting way. Here I implement a sieve method for determining prime numbers. This
<em>Sieve of Atkin</em>_ has a claim to fame of being the most performant among prime number
generating sieve techniques. The code is a bit convoluted looking, I will admit, but is 
a faithful Perl representation of the algorithm (follow the reference link for 
pseudocode). Also, rather than try and explain the algorithm myself anyone interested
can find full in depth treatments elsewhere. A background in number theory helps for 
some of the details.</p>

<p>Since I have some existing code for getting the pre-computed primes I figured I would
use that as a check and extra feature. Command line options allow for the default
behavior (fetch pre-computed primes for an N of 10,001) to be overridden.</p>

<h2>Part 2</h2>

<p><em>Given a fraction return the parent and grandparent of the fraction from the Curious 
Fraction Tree.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;

use Graph;
use constant ROOT => "1/1";
use constant SEPARATOR => "/";

sub initialize{
    my($member) = @_;
    my $graph = new Graph();
    $graph->add_vertex(ROOT);
    my @next = (ROOT);
    my @changes = ([0, 1], [1, 0]);
    my $level = 0;
    {
        my @temp_next;
        my @temp_changes;
        do{
            $level++;
            my $next = shift @next;
            my($top, $bottom) = split(/\//, $next);
            my $change_left = shift @changes;
            my $change_right = shift @changes;
            my $v_left = ($top + $change_left->[0]) . SEPARATOR . ($bottom + $change_left->[1]);
            my $v_right = ($top + $change_right->[0]) . SEPARATOR . ($bottom + $change_right->[1]);    
            $graph->add_edge($next, $v_left);
            $graph->add_edge($next, $v_right);
            push @temp_next, $v_left, $v_right;
            push @temp_changes, $change_left;
            push @temp_changes, [$level + 1, 0], [0, $level + 1];
            push @temp_changes, $change_right;
        }while(@next && !$graph->has_vertex($member));
        @next = @temp_next;
        @changes = @temp_changes; 
        redo if !$graph->has_vertex($member);
    }
    return $graph;
}

sub curious_fraction_tree{
    my($member) = @_;
    my $graph = initialize($member);
    my($parent) = $graph->predecessors($member);
    my($grandparent) = $graph->predecessors($parent);
    return ($parent, $grandparent);
}

MAIN:{
    my($member, $parent, $grandparent);
    $member = "3/5";
    ($parent, $grandparent) = curious_fraction_tree($member);
    print "member = '$member'\n";
    print "parent = '$parent' and grandparent = '$grandparent'\n";
    print "\n";
    $member = "4/3";
    ($parent, $grandparent) = curious_fraction_tree($member);
    print "member = '$member'\n";
    print "parent = '$parent' and grandparent = '$grandparent'\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl
member = '3/5'
parent = '3/2' and grandparent = '1/2'

member = '4/3'
parent = '1/3' and grandparent = '1/2'
</code></pre>

<h3>Notes</h3>

<p>My thought process on this problem started somewhat backwards. After reading the problem
statement I thought of the Graph module and remembered that it defines a function
<code>predecessors()</code> which would be very useful for this. After convincing myself to 
<code>use Graph;</code> I then probably spent the majority of the time for this just getting my 
head around how to define new vertices at each level of the tree. Like all trees there is
some recursiveness to the structure, but an iterative implementation still looks clean as
well.</p>

<p>Once the graph is constructed the solution as required comes from calling <code>predecessors()</code>
to get the parent and grandparent vertices.</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-146/">Challenge 146</a></p>

<p><a href="https://www.baeldung.com/cs/prime-number-algorithms">Sieve of Atkin</a></p>

<p><a href="https://primes.utm.edu/">Prime Pages</a></p>

<p><a href="https://metacpan.org/pod/Graph">Graph</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_12">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/01/ccclxxvi-9-great-cpan-modules-released.html">(ccclxxvi) 9 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 08 January 2022 23:53</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"> Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br/><br/><ol><li><a href='https://metacpan.org/release/RSAVAGE/Config-Tiny-2.28' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Config::Tiny</span></b></a> - Read/Write .ini style files with as little code as possible <ul>  <li>Version: <strong>2.28</strong> on 2022-01-04</li>  <li>Votes: 30</li>  <li>Previous version: 2.27 was 3 months, 12 days before</li></ul></li><li><a href='https://metacpan.org/release/MIK/CryptX-0.076' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>CryptX</span></b></a> - Cryptographic toolkit <ul>  <li>Version: <strong>0.076</strong> on 2022-01-07</li>  <li>Votes: 43</li>  <li>Previous version: 0.075 was 13 days before</li></ul></li><li><a href='https://metacpan.org/release/OALDERS/HTTP-Message-6.36' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>HTTP::Message</span></b></a> - HTTP style message (base class) <ul>  <li>Version: <strong>6.36</strong> on 2022-01-05</li>  <li>Votes: 59</li>  <li>Previous version: 6.35 was 1 month, 24 days before</li></ul></li><li><a href='https://metacpan.org/release/SULLR/IO-Socket-SSL-2.074' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>IO::Socket::SSL</span></b></a> - Nearly transparent SSL encapsulation for IO::Socket::INET. <ul>  <li>Version: <strong>2.074</strong> on 2022-01-07</li>  <li>Votes: 42</li>  <li>Previous version: 2.073 was 16 days before</li></ul></li><li><a href='https://metacpan.org/release/JHTHORSEN/JSON-Validator-5.05' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>JSON::Validator</span></b></a> - Validate data against a JSON schema <ul>  <li>Version: <strong>5.05</strong> on 2022-01-06</li>  <li>Votes: 29</li>  <li>Previous version: 5.04 was 28 days before</li></ul></li><li><a href='https://metacpan.org/release/SYOHEX/Minilla-v3.1.14' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Minilla</span></b></a> - CPAN module authoring tool <ul>  <li>Version: <strong>v3.1.14</strong> on 2022-01-07</li>  <li>Votes: 53</li>  <li>Previous version: v3.1.12 was 9 months, 13 days before</li></ul></li><li><a href='https://metacpan.org/release/KIMOTO/SPVM-0.9112' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>SPVM</span></b></a> - Static Perl Virtual Machine. Fast Calculation, Fast Array Operation, and Easy C/C++ Binding. <ul>  <li>Version: <strong>0.9112</strong> on 2022-01-07</li>  <li>Votes: 21</li>  <li>Previous version: 0.9103 was 7 days before</li></ul></li><li><a href='https://metacpan.org/release/DCANTRELL/Test-Differences-0.69' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Test::Differences</span></b></a> - Test strings and data structures and show differences if not ok <ul>  <li>Version: <strong>0.69</strong> on 2022-01-07</li>  <li>Votes: 20</li>  <li>Previous version: 0.68 was 7 months, 20 days before</li></ul></li><li><a href='https://metacpan.org/release/PERLANCAR/Text-ANSITable-0.607' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Text::ANSITable</span></b></a> - Create nice formatted tables using extended ASCII and ANSI colors <ul>  <li>Version: <strong>0.607</strong> on 2022-01-05</li>  <li>Votes: 16</li>  <li>Previous version: 0.606 was 4 months, 9 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_13">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/01/dxvi-stackoverflow-perl-report.html">(dxvi) stackoverflow perl report</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 08 January 2022 23:10</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>These are the ten most rated questions at <a href="http://www.stackoverflow.com">Stack Overflow</a> last week.<br />Between brackets: [<b>question score</b> / answers count]<br />Build date: 2022-01-08 22:09:37 GMT</p><hr /><ol><li><a href="http://stackoverflow.com/questions/70619735" target="_blank">Capturing group regex with grep</a> - [<b>3</b>/4]</li><li><a href="http://stackoverflow.com/questions/70629401" target="_blank">Find nearest option in a Perl Hash</a> - [<b>3</b>/3]</li><li><a href="http://stackoverflow.com/questions/70615510" target="_blank">Count trailing newlines with POSIX utilities or Perl</a> - [<b>2</b>/5]</li><li><a href="http://stackoverflow.com/questions/70566395" target="_blank">A 'my' issue, it cannot work even in clear PL rule</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/70575195" target="_blank">How can I get table height from PDF::Table?</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/70611754" target="_blank">Perl wrong UTF-8 output</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/70622981" target="_blank">Perl: Repair utf8 xml file which contains octal or hexadecimal codes</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/70625083" target="_blank">Howto sort inline POD entries of a Perl package documentation for IMenu or a final documentation</a> - [<b>2</b>/0]</li><li><a href="http://stackoverflow.com/questions/70556414" target="_blank">Perl 5 signatures: Passing multiple arrays</a> - [<b>1</b>/2]</li><li><a href="http://stackoverflow.com/questions/70619739" target="_blank">How to get regex to work in a perl script?</a> - [<b>1</b>/2]</li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_14">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/yukikimoto/perl-module-tests-on-linux-32bit-on-github-action-of">Perl module tests on Linux 32bit on Github Action</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Yuki Kimoto
 on Friday 07 January 2022 22:40</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>I'm creating <a href="https://github.com/yuki-kimoto/SPVM">SPVM</a>. SPVM is a Perl module I'm creating now.</p>

<p>I want to do tests of SPVM on Linux 32bit. I search for the way. I search <a href="https://github.com/Perl/perl5/blob/blead/.github/workflows/testsuite.yml">github actions used in Perl itself</a>.</p>

<h2>
  <a href="#linux-32bit-github-action">
  </a>
  Linux 32bit Github Action
</h2>

<p>I customized it. The created github action yml is <a href="https://github.com/yuki-kimoto/SPVM/blob/master/.github/workflows/linux-32bit.yml">linux-32bit.yml</a><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>name: linux-32bit

on:
  push:
    branches:
      - '*'
    tags-ignore:
      - '*'
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest
    container:
      image: i386/ubuntu:latest
    steps:
      - name: install the Perl header, core modules, building tools
        run: |
          apt update
          apt install -y libperl-dev build-essential
      - uses: actions/checkout@v1
      - name: perl Makefile.PL
        run: perl Makefile.PL
      - name: make
        run: make
      - name: make disttest
        run: make disttest
</code></pre>

</div>



<h2>
  <a href="#short-descriptions">
  </a>
  Short Descriptions
</h2>

<h3>
  <a href="#the-docker-container-image">
  </a>
  the Docker Container Image
</h3>

<p>Use the docker container image "i386/ubuntu:latest"<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>    container:
      image: i386/ubuntu:latest
</code></pre>

</div>



<h3>
  <a href="#apt">
  </a>
  apt
</h3>

<p>Install the Perl header, core modules, building tools.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>        run: |
          apt update
          apt install -y libperl-dev build-essential
</code></pre>

</div>



       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_15">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/yukikimoto/install-strawberry-perl-using-chocolatey-on-windows-4if3">Install Strawberry Perl using chocolatey on Windows </a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Yuki Kimoto
 on Wednesday 05 January 2022 07:31</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Install Strawberry Perl using chocolatey on Windows.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>choco install strawberryperl
</code></pre>

</div>



<p>If you need 32bit Strawberry Perl, you can do the following.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>choco install strawberryperl --x86
</code></pre>

</div>



<p><a href="https://github.com/Thilas/chocolatey-packages/tree/master/strawberryperl">The document of Strawberry Perl on chocolatey</a></p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_16">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/545.html">#545 - Happy, Healthy, and Prosperous New Year!</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 03 January 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi everyone!</p>
<p>Let me start by welcoming you to the new year! Let me also use the opportunity to thank <a href="http://manwar.org/">Mohammad S. Anwar</a> for his dedication in both editing every other edition of the Perl Weekly Newsletter and his very own <a href="https://theweeklychallenge.org/">Weekly Challenge</a>. Let me also thank <a href="https://davecross.co.uk/">Dave Cross</a> for his immense help making our grammar a bit more bearable and the various Open Source projects he creates. (e.g. the <a href="https://cpandashboard.com/">CPAN Dashboard</a> or <a href="https://perl.theplanetarium.org/">The Perl Planetarium</a>). If you also like their work please thank them in an email, a blog post, or by supporting them via <a href="https://www.patreon.com/manwar/">Patreon for Mohammad</a> or via <a href="https://github.com/davorg/">GitHub for Dave</a>. They won't become wealthy from this, but receiving a paycheck every month from tens of supporters give a huge boost to the ego and makes one create even more for the public.</p>
<p>As for me, you might recall I've been learning Spanish for more than 3 years and started to learn Ladino (aka. Judeo-Spanish) a few weeks ago. Learning a foreign language is a totally different experience than learning a programming language. If for nothing else, because you don't get immediate feedback to your mistakes from a compiler. Well. Except if you use an application that helps you. My open source mindset quickly kicked in. I found an Open Source platform called <a href="https://librelingo.app/">LibreLingo</a> that will help you learn languages. It is still in very early version, but started to use that platform to be able to practice Ladino and also started to contribute to the project. I'll share more about it when enough progress was made to show something in public. Until then you are invited to check it out.</p>
<p>Enjoy the year ahead!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_17">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/01/ccclxxiv-5-great-cpan-modules-released.html">(ccclxxiv) 5 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by prz
 on Saturday 01 January 2022 14:11</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Not too many released, so this is a bonus material: <ul>  <li><a href="https://niceperl.blogspot.com/2022/01/20-best-perl-questions-at-stackoverflow.html">20 best Perl questions at stackoverflow in 2021</a></li>  <li><a href="https://niceperl.blogspot.com/2022/01/metacpan-most-voted-distributions-in.html">metacpan most voted distributions in 2021</a></li>  <li><a href="https://niceperl.blogspot.com/2022/01/10-best-perl-distributions-created-at.html">10 best Perl distributions created at 2021 (metacpan rating)</a></li></ul> <div><br /><br /><br />Updates for&nbsp;<i>great CPAN modules</i>&nbsp;released last week. A module is considered&nbsp;<i>great</i>&nbsp;if its favorites count is greater or equal than 12.<br /><ol><li><a href="https://metacpan.org/release/MSTROUT/curry-2.000001" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">curry</span></b></a> - Create automatic curried method call closures for any class or object <ul>  <li>Version: <strong>2.000001</strong> on 2021-12-30</li>  <li>Votes: 23</li>  <li>Previous version: 1.001000 was 4 years, 6 months, 7 days before</li></ul></li><li><a href="https://metacpan.org/release/HMBRAND/DBD-CSV-0.59" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">DBD::CSV</span></b></a> - DBI driver for CSV files <ul>  <li>Version: <strong>0.59</strong> on 2022-01-01</li>  <li>Votes: 22</li>  <li>Previous version: 0.58 was 10 months, 19 days before</li></ul></li><li><a href="https://metacpan.org/release/ZARQUON/DBD-Oracle-1.82" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">DBD::Oracle</span></b></a> - Oracle database driver for the DBI module <ul>  <li>Version: <strong>1.82</strong> on 2021-12-29</li>  <li>Votes: 28</li>  <li>Previous version: 1.80 was 2 years, 5 months, 4 days before</li></ul></li><li><a href="https://metacpan.org/release/KIMOTO/SPVM-0.9103" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">SPVM</span></b></a> - Static Perl Virtual Machine. Fast Calculation, Fast Array Operation, and Easy C/C++ Binding. <ul>  <li>Version: <strong>0.9103</strong> on 2021-12-31</li>  <li>Votes: 21</li>  <li>Previous version: 0.9102 was 7 days before</li></ul></li><li><a href="https://metacpan.org/release/AKIYM/TheSchwartz-1.17" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">TheSchwartz</span></b></a> - reliable job queue <ul>  <li>Version: <strong>1.17</strong> on 2021-12-30</li>  <li>Votes: 13</li>  <li>Previous version: 1.16 was 5 months, 14 days before</li></ul></li></ol></div>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_18">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/01/20-best-perl-questions-at-stackoverflow.html">20 best Perl questions at stackoverflow in 2021</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by prz
 on Saturday 01 January 2022 13:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This is the ten most rated questions at 2021 <a href="http://www.stackoverflow.com">Stack Overflow</a>.<br/>Between brackets: question score & answers count<br/>Built date: 2022/01/01 12:28:30 GMT</p><hr/><ol><li><a href="http://stackoverflow.com/questions/69040993" target="_blank">What does 0 plus a pointer mean?</a> - [<b>37</b>/2] </li><li><a href="http://stackoverflow.com/questions/69089489" target="_blank">Perl conditional (ternary) operator does no shortcut evaluation</a> - [<b>26</b>/3] </li><li><a href="http://stackoverflow.com/questions/69486648" target="_blank">python regex where a set of options can occur at most once in a list, in any order</a> - [<b>19</b>/8] </li><li><a href="http://stackoverflow.com/questions/68221320" target="_blank">How do I release a Perl module to CPAN?</a> - [<b>12</b>/1] </li><li><a href="http://stackoverflow.com/questions/68656428" target="_blank">Why do Inline::Python functions that print fail to be redirected?</a> - [<b>9</b>/2] </li><li><a href="http://stackoverflow.com/questions/66156905" target="_blank">&quot;no autovivication&quot; pragma fails with grep in Perl</a> - [<b>8</b>/2] </li><li><a href="http://stackoverflow.com/questions/66665161" target="_blank">Try::Tiny and $SIG{__DIE__} in perl?</a> - [<b>8</b>/2] </li><li><a href="http://stackoverflow.com/questions/69184073" target="_blank">Not able to run git svn command in windows</a> - [<b>17</b>/2] </li><li><a href="http://stackoverflow.com/questions/65957561" target="_blank">Perl - evaluation order of list elements, with assignment inside the list</a> - [<b>8</b>/1] </li><li><a href="http://stackoverflow.com/questions/67896519" target="_blank">What is the best way in Perl to iterate a loop and extract pairs or triples</a> - [<b>7</b>/6] </li><li><a href="http://stackoverflow.com/questions/66418754" target="_blank">Change any number of delimiters in found pattern with sed</a> - [<b>7</b>/5] </li><li><a href="http://stackoverflow.com/questions/67878256" target="_blank">Perl sorting Alpha characters in a special way</a> - [<b>6</b>/3] </li><li><a href="http://stackoverflow.com/questions/65645504" target="_blank">dynamically add leading underscore to existing sub</a> - [<b>7</b>/2] </li><li><a href="http://stackoverflow.com/questions/66380162" target="_blank">No error or warning for trying to print to an already closed filehandle</a> - [<b>7</b>/2] </li><li><a href="http://stackoverflow.com/questions/65567540" target="_blank">Pretending an Autoloaded Function has a Block Prototype</a> - [<b>7</b>/1] </li><li><a href="http://stackoverflow.com/questions/65782772" target="_blank">Mojo::UserAgent - Inspect the Content-Encoding header before decoding</a> - [<b>7</b>/1] </li><li><a href="http://stackoverflow.com/questions/65834921" target="_blank">How do you catch a buggy sig die handler if the mechanism to debug code that everyone uses overrides it?</a> - [<b>6</b>/1] </li><li><a href="http://stackoverflow.com/questions/66043575" target="_blank">How to code a sub with the same signature as sort or reduce in List::Util</a> - [<b>6</b>/1] </li><li><a href="http://stackoverflow.com/questions/66607785" target="_blank">Find out which scripts are calling a perl package</a> - [<b>7</b>/1] </li><li><a href="http://stackoverflow.com/questions/69370536" target="_blank">Return value of `ref qr/.../`</a> - [<b>7</b>/1] </li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_19">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/01/metacpan-most-voted-distributions-in.html">metacpan most voted distributions in 2021</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by prz
 on Saturday 01 January 2022 13:36</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This is the metacpan most voted distributions in 2021</p><ol><li><a href='https://metacpan.org/module/Mojolicious'>Mojolicious</a> (+41)</li><li><a href='https://metacpan.org/module/perl'>perl</a> (+30)</li><li><a href='https://metacpan.org/module/Object::Pad'>Object::Pad</a> (+18)</li><li><a href='https://metacpan.org/module/libwww::perl'>libwww::perl</a> (+9)</li><li><a href='https://metacpan.org/module/Scalar::List::Utils'>Scalar::List::Utils</a> (+9)</li><li><a href='https://metacpan.org/module/Path::Tiny'>Path::Tiny</a> (+9)</li><li><a href='https://metacpan.org/module/MCE'>MCE</a> (+9)</li><li><a href='https://metacpan.org/module/IO::Async'>IO::Async</a> (+9)</li><li><a href='https://metacpan.org/module/Dancer2'>Dancer2</a> (+9)</li><li><a href='https://metacpan.org/module/Crypt::Passphrase'>Crypt::Passphrase</a> (+9)</li><li><a href='https://metacpan.org/module/Type::Tiny'>Type::Tiny</a> (+8)</li><li><a href='https://metacpan.org/module/Template::Toolkit'>Template::Toolkit</a> (+8)</li><li><a href='https://metacpan.org/module/Perl::LanguageServer'>Perl::LanguageServer</a> (+8)</li><li><a href='https://metacpan.org/module/PDL'>PDL</a> (+8)</li><li><a href='https://metacpan.org/module/Minion'>Minion</a> (+8)</li><li><a href='https://metacpan.org/module/Future::AsyncAwait'>Future::AsyncAwait</a> (+8)</li><li><a href='https://metacpan.org/module/Yancy'>Yancy</a> (+7)</li><li><a href='https://metacpan.org/module/Perl::Critic'>Perl::Critic</a> (+7)</li><li><a href='https://metacpan.org/module/PLS'>PLS</a> (+7)</li><li><a href='https://metacpan.org/module/List::Keywords'>List::Keywords</a> (+7)</li></ol><p>This is the metacpan most voted distributions in 2021 group by month</p><ul><li>2021-01</li><blockquote><a href='https://metacpan.org/module/Mojolicious'>Mojolicious</a> (+8)<br/><a href='https://metacpan.org/module/perl'>perl</a> (+4)<br/></blockquote><li>2021-02</li><blockquote><a href='https://metacpan.org/module/Acme::ConspiracyTheory::Random'>Acme::ConspiracyTheory::Random</a> (+3)<br/><a href='https://metacpan.org/module/Mojolicious'>Mojolicious</a> (+3)<br/></blockquote><li>2021-03</li><blockquote><a href='https://metacpan.org/module/Data::Printer'>Data::Printer</a> (+5)<br/><a href='https://metacpan.org/module/Mojolicious'>Mojolicious</a> (+4)<br/></blockquote><li>2021-04</li><blockquote><a href='https://metacpan.org/module/Mojolicious'>Mojolicious</a> (+4)<br/><a href='https://metacpan.org/module/App::perlimports'>App::perlimports</a> (+3)<br/></blockquote><li>2021-05</li><blockquote><a href='https://metacpan.org/module/perl'>perl</a> (+7)<br/><a href='https://metacpan.org/module/Faster::Maths'>Faster::Maths</a> (+4)<br/></blockquote><li>2021-06</li><blockquote><a href='https://metacpan.org/module/Object::Pad'>Object::Pad</a> (+5)<br/><a href='https://metacpan.org/module/Mojolicious'>Mojolicious</a> (+3)<br/></blockquote><li>2021-07</li><blockquote><a href='https://metacpan.org/module/Mojolicious'>Mojolicious</a> (+6)<br/><a href='https://metacpan.org/module/PLS'>PLS</a> (+4)<br/></blockquote><li>2021-08</li><blockquote><a href='https://metacpan.org/module/Mojolicious'>Mojolicious</a> (+5)<br/><a href='https://metacpan.org/module/IO::Async'>IO::Async</a> (+4)<br/></blockquote><li>2021-09</li><blockquote><a href='https://metacpan.org/module/App::cpanminus::reporter'>App::cpanminus::reporter</a> (+3)<br/></blockquote><li>2021-10</li><blockquote><a href='https://metacpan.org/module/Dist::Zilla::MintingProfile::FFI'>Dist::Zilla::MintingProfile::FFI</a> (+3)<br/></blockquote><li>2021-11</li><blockquote><a href='https://metacpan.org/module/perl'>perl</a> (+4)<br/><a href='https://metacpan.org/module/App::plx'>App::plx</a> (+3)<br/></blockquote><li>2021-12</li><blockquote><a href='https://metacpan.org/module/RxPerl'>RxPerl</a> (+3)<br/></blockquote></ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_20">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlancar.wordpress.com/2022/01/01/list-of-new-cpan-distributions-dec-2021/">List of new CPAN distributions – Dec 2021</a></h2>
<a href="https://perlancar.wordpress.com/" class="badge badge-primary" style="float: left">Perlancar</a>

              <p class="text-right"><small>Published by perlancar
 on Saturday 01 January 2022 02:25</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><table>
<tr>
<th>dist</th>
<th>author</th>
<th>first_version</th>
<th>latest_version</th>
<th>abstract</th>
</tr>
<tr>
<td><a href="https://metacpan.org/release/ACME-Dzil-Test-daemon">ACME-Dzil-Test-daemon</a></td>
<td><a href="https://metacpan.org/author/DAEMON">DAEMON</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Module abstract placeholder text</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/ACME-Dzil-Test-daemon2">ACME-Dzil-Test-daemon2</a></td>
<td><a href="https://metacpan.org/author/DAEMON">DAEMON</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Module abstract placeholder text</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Acme-CPANModules-ShellCompleters">Acme-CPANModules-ShellCompleters</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Modules that provide shell tab completion for other commands/scripts</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Acme-CPANModules-WorkingWithURL">Acme-CPANModules-WorkingWithURL</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Working with URL</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Alien-libmaxminddb">Alien-libmaxminddb</a></td>
<td><a href="https://metacpan.org/author/VOEGELAS">VOEGELAS</a></td>
<td>1.000</td>
<td>1.000</td>
<td>Find or download and install libmaxminddb</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Apache2-Dummy-RequestRec">Apache2-Dummy-RequestRec</a></td>
<td><a href="https://metacpan.org/author/JFF">JFF</a></td>
<td>0.01</td>
<td>0.03</td>
<td>dummy Apache request record class for testing</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Apache2-RequestData">Apache2-RequestData</a></td>
<td><a href="https://metacpan.org/author/JFF">JFF</a></td>
<td>0.01</td>
<td>0.02</td>
<td>collects all query and post parameters in a hash ref</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-optex-rpn">App-optex-rpn</a></td>
<td><a href="https://metacpan.org/author/UTASHIRO">UTASHIRO</a></td>
<td>1.01</td>
<td>1.01</td>
<td>Reverse Polish Notation calculation</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-ptimeout">App-ptimeout</a></td>
<td><a href="https://metacpan.org/author/DCANTRELL">DCANTRELL</a></td>
<td>v1.0.0</td>
<td>v1.0.0</td>
<td>time out a command, reporting errors</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Array-Set-Naive">Array-Set-Naive</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Like Array::Set, but uses naive algorithms</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/ArrayData-WordList">ArrayData-WordList</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Array data from a WordList::* module</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Avatica-Client">Avatica-Client</a></td>
<td><a href="https://metacpan.org/author/LOGIONIZ">LOGIONIZ</a></td>
<td>0.001</td>
<td>0.002</td>
<td>Client for Apache Calcite Avatica</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bio-RNA-BarMap">Bio-RNA-BarMap</a></td>
<td><a href="https://metacpan.org/author/FELIXK">FELIXK</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Parse and query BarMap mappings.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bio-RNA-Barriers">Bio-RNA-Barriers</a></td>
<td><a href="https://metacpan.org/author/FELIXK">FELIXK</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Parse, query and manipulate output of Barriers</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bio-RNA-Treekin">Bio-RNA-Treekin</a></td>
<td><a href="https://metacpan.org/author/FELIXK">FELIXK</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Classes for working with Treekin output.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/CLI-Meta-cp">CLI-Meta-cp</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Metadata for &#039;cp&#039; Unix commnd</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/CLI-Meta-mv">CLI-Meta-mv</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Metadata for &#039;mv&#039; Unix commnd</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Catalyst-Plugin-CachedUriForAction">Catalyst-Plugin-CachedUriForAction</a></td>
<td><a href="https://metacpan.org/author/ARISTOTLE">ARISTOTLE</a></td>
<td>1.000</td>
<td>1.000</td>
<td>drop-in supercharger for uri_for_action</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Crypt-Bcrypt">Crypt-Bcrypt</a></td>
<td><a href="https://metacpan.org/author/LEONT">LEONT</a></td>
<td>0.001</td>
<td>0.002</td>
<td>A modern bcrypt implementation</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/DBD-Avatica">DBD-Avatica</a></td>
<td><a href="https://metacpan.org/author/LOGIONIZ">LOGIONIZ</a></td>
<td>0.01.0</td>
<td>0.2.1</td>
<td>Driver for Apache Avatica compatible servers</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/DBD-Phoenix">DBD-Phoenix</a></td>
<td><a href="https://metacpan.org/author/LOGIONIZ">LOGIONIZ</a></td>
<td>0.01.0</td>
<td>0.01.0</td>
<td>Driver for Apache Avatica compatible servers</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Devel-Agent">Devel-Agent</a></td>
<td><a href="https://metacpan.org/author/AKALINUX">AKALINUX</a></td>
<td>0.001</td>
<td>0.007</td>
<td></td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Device-Chip-CCS811">Device-Chip-CCS811</a></td>
<td><a href="https://metacpan.org/author/PEVANS">PEVANS</a></td>
<td>0.01</td>
<td>0.01</td>
<td>chip driver for CCS811</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Dist-Zilla-Plugin-SignReleaseNotes">Dist-Zilla-Plugin-SignReleaseNotes</a></td>
<td><a href="https://metacpan.org/author/TIMLEGGE">TIMLEGGE</a></td>
<td>0.0001</td>
<td>0.0003</td>
<td>Create and signs a &#039;Release&#039; notes file</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/ELab-Client">ELab-Client</a></td>
<td><a href="https://metacpan.org/author/AKHUETTEL">AKHUETTEL</a></td>
<td>0.010</td>
<td>0.020</td>
<td>Access the eLabFTW API with Perl</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/File-Symlink-Util">File-Symlink-Util</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Utilities related to symbolic links</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Freecell-Deal-MS">Freecell-Deal-MS</a></td>
<td><a href="https://metacpan.org/author/SHLOMIF">SHLOMIF</a></td>
<td>0.0.1</td>
<td>0.4.0</td>
<td>deal Windows FreeCell / FC Pro layouts</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Git-Background">Git-Background</a></td>
<td><a href="https://metacpan.org/author/SKIRMESS">SKIRMESS</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Perl interface to run Git commands (in the background)</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/HTML-Inspect">HTML-Inspect</a></td>
<td><a href="https://metacpan.org/author/MARKOV">MARKOV</a></td>
<td>1.00</td>
<td>1.00</td>
<td>Inspect a HTML document</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Health-SHC">Health-SHC</a></td>
<td><a href="https://metacpan.org/author/TIMLEGGE">TIMLEGGE</a></td>
<td>0.001</td>
<td>0.004</td>
<td>Extract and verify Smart Haelth Card information</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/IP-Geolocation-MMDB">IP-Geolocation-MMDB</a></td>
<td><a href="https://metacpan.org/author/VOEGELAS">VOEGELAS</a></td>
<td>0.001</td>
<td>0.005</td>
<td>Map IP addresses to country codes</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Mail-Exim-Blacklist-Attachments">Mail-Exim-Blacklist-Attachments</a></td>
<td><a href="https://metacpan.org/author/VOEGELAS">VOEGELAS</a></td>
<td>1.007</td>
<td>2.000</td>
<td>Blacklist email attachments</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Mail-Exim-Blacklist-GeoIP">Mail-Exim-Blacklist-GeoIP</a></td>
<td><a href="https://metacpan.org/author/VOEGELAS">VOEGELAS</a></td>
<td>1.001</td>
<td>1.001</td>
<td>Map IP addresses to country codes</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Mail-Exim-Blacklist-Geolocation">Mail-Exim-Blacklist-Geolocation</a></td>
<td><a href="https://metacpan.org/author/VOEGELAS">VOEGELAS</a></td>
<td>1.000</td>
<td>1.002</td>
<td>Map IP addresses to country codes</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Mojo-Darkpan">Mojo-Darkpan</a></td>
<td><a href="https://metacpan.org/author/RES">RES</a></td>
<td>0.04</td>
<td>0.06</td>
<td>A Mojolicious web service frontend leveraging OrePAN2</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/OPM-Maker-Command-sopm">OPM-Maker-Command-sopm</a></td>
<td><a href="https://metacpan.org/author/PERLSRVDE">PERLSRVDE</a></td>
<td>1.0.0</td>
<td>1.1.0</td>
<td>Build .sopm file based on metadata</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/SPVM-Math">SPVM-Math</a></td>
<td><a href="https://metacpan.org/author/KIMOTO">KIMOTO</a></td>
<td>0.01</td>
<td>0.05</td>
<td>SPVM Math Functions</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Set-CSS">Set-CSS</a></td>
<td><a href="https://metacpan.org/author/SHLOMIF">SHLOMIF</a></td>
<td>0.0.1</td>
<td>0.2.0</td>
<td>set of CSS classes</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Test-HTTP-MockServer-Once">Test-HTTP-MockServer-Once</a></td>
<td><a href="https://metacpan.org/author/IGIBBS">IGIBBS</a></td>
<td>v0.0.1</td>
<td>v0.0.2</td>
<td>Implement a one shot mock HTTP server for use in tests</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Thread-Csp">Thread-Csp</a></td>
<td><a href="https://metacpan.org/author/LEONT">LEONT</a></td>
<td>0.001</td>
<td>0.003</td>
<td>Communicating sequential processes threading for Perl</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Time-Local-ISO8601">Time-Local-ISO8601</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Compute time (Unix epoch) from YMD/ISO8601 sting</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/UI-Various">UI-Various</a></td>
<td><a href="https://metacpan.org/author/DORNER">DORNER</a></td>
<td>0.01</td>
<td>0.09</td>
<td>graphical/non-graphical user interface without external programs</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/URL-XS">URL-XS</a></td>
<td><a href="https://metacpan.org/author/BRDUCH">BRDUCH</a></td>
<td>v0.2.0</td>
<td>v0.3.1</td>
<td>Parsing URLs with zero-copy and no mallocs</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Util-H2O-More">Util-H2O-More</a></td>
<td><a href="https://metacpan.org/author/OODLER">OODLER</a></td>
<td>0.0.1</td>
<td>0.0.3</td>
<td>like if bless created accessors for you. Intended for hash reference-based Perl OOP only. This module uses Util::H2O::h2o as the basis for actual object creation; but there&#039;s no reason other accessor makers couldn&#039;t have been used or can be used. I just really like h2o. <img src="https://s0.wp.com/wp-content/mu-plugins/wpcom-smileys/twemoji/2/72x72/1f642.png" alt="🙂" class="wp-smiley" style="height: 1em; max-height: 1em;" /></td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/WordList-ArrayData">WordList-ArrayData</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Wordlist from any ArrayData::* module</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/WordList-Special-Stdin">WordList-Special-Stdin</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.002</td>
<td>Wordlist from STDIN</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/XML-SAX-SVGTransformer">XML-SAX-SVGTransformer</a></td>
<td><a href="https://metacpan.org/author/ISHIGAKI">ISHIGAKI</a></td>
<td>0.01</td>
<td>0.04</td>
<td>SVG transformer</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/YAML-PP-Ref">YAML-PP-Ref</a></td>
<td><a href="https://metacpan.org/author/TINITA">TINITA</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Generated Reference Parser backend for YAML::PP</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/idi">idi</a></td>
<td><a href="https://metacpan.org/author/GENE">GENE</a></td>
<td>0.0100</td>
<td>0.0102</td>
<td>Easy Command-line MIDI</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/qq">qq</a></td>
<td><a href="https://metacpan.org/author/RAJ">RAJ</a></td>
<td>0.02</td>
<td>0.02</td>
<td>command line journal app</td>
</tr>
</table>
<h3>Stats</h3>
<p>Number of new CPAN distributions this period: <b>50</b></p>
<p>Number of authors releasing new CPAN distributions this period: <b>28</b></p>
<p>Authors by number of new CPAN distributions this period: </p>
<table>
<tr>
<th>No</th>
<th>Author</th>
<th>Distributions</th>
</tr>
<tr>
<td>1</td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>10</td>
</tr>
<tr>
<td>2</td>
<td><a href="https://metacpan.org/author/VOEGELAS">VOEGELAS</a></td>
<td>5</td>
</tr>
<tr>
<td>3</td>
<td><a href="https://metacpan.org/author/LOGIONIZ">LOGIONIZ</a></td>
<td>3</td>
</tr>
<tr>
<td>4</td>
<td><a href="https://metacpan.org/author/FELIXK">FELIXK</a></td>
<td>3</td>
</tr>
<tr>
<td>5</td>
<td><a href="https://metacpan.org/author/TIMLEGGE">TIMLEGGE</a></td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td><a href="https://metacpan.org/author/LEONT">LEONT</a></td>
<td>2</td>
</tr>
<tr>
<td>7</td>
<td><a href="https://metacpan.org/author/DAEMON">DAEMON</a></td>
<td>2</td>
</tr>
<tr>
<td>8</td>
<td><a href="https://metacpan.org/author/SHLOMIF">SHLOMIF</a></td>
<td>2</td>
</tr>
<tr>
<td>9</td>
<td><a href="https://metacpan.org/author/JFF">JFF</a></td>
<td>2</td>
</tr>
<tr>
<td>10</td>
<td><a href="https://metacpan.org/author/SKIRMESS">SKIRMESS</a></td>
<td>1</td>
</tr>
<tr>
<td>11</td>
<td><a href="https://metacpan.org/author/BRDUCH">BRDUCH</a></td>
<td>1</td>
</tr>
<tr>
<td>12</td>
<td><a href="https://metacpan.org/author/AKHUETTEL">AKHUETTEL</a></td>
<td>1</td>
</tr>
<tr>
<td>13</td>
<td><a href="https://metacpan.org/author/UTASHIRO">UTASHIRO</a></td>
<td>1</td>
</tr>
<tr>
<td>14</td>
<td><a href="https://metacpan.org/author/MARKOV">MARKOV</a></td>
<td>1</td>
</tr>
<tr>
<td>15</td>
<td><a href="https://metacpan.org/author/ARISTOTLE">ARISTOTLE</a></td>
<td>1</td>
</tr>
<tr>
<td>16</td>
<td><a href="https://metacpan.org/author/DORNER">DORNER</a></td>
<td>1</td>
</tr>
<tr>
<td>17</td>
<td><a href="https://metacpan.org/author/KIMOTO">KIMOTO</a></td>
<td>1</td>
</tr>
<tr>
<td>18</td>
<td><a href="https://metacpan.org/author/ISHIGAKI">ISHIGAKI</a></td>
<td>1</td>
</tr>
<tr>
<td>19</td>
<td><a href="https://metacpan.org/author/OODLER">OODLER</a></td>
<td>1</td>
</tr>
<tr>
<td>20</td>
<td><a href="https://metacpan.org/author/DCANTRELL">DCANTRELL</a></td>
<td>1</td>
</tr>
<tr>
<td>21</td>
<td><a href="https://metacpan.org/author/PERLSRVDE">PERLSRVDE</a></td>
<td>1</td>
</tr>
<tr>
<td>22</td>
<td><a href="https://metacpan.org/author/AKALINUX">AKALINUX</a></td>
<td>1</td>
</tr>
<tr>
<td>23</td>
<td><a href="https://metacpan.org/author/PEVANS">PEVANS</a></td>
<td>1</td>
</tr>
<tr>
<td>24</td>
<td><a href="https://metacpan.org/author/GENE">GENE</a></td>
<td>1</td>
</tr>
<tr>
<td>25</td>
<td><a href="https://metacpan.org/author/RES">RES</a></td>
<td>1</td>
</tr>
<tr>
<td>26</td>
<td><a href="https://metacpan.org/author/TINITA">TINITA</a></td>
<td>1</td>
</tr>
<tr>
<td>27</td>
<td><a href="https://metacpan.org/author/RAJ">RAJ</a></td>
<td>1</td>
</tr>
<tr>
<td>28</td>
<td><a href="https://metacpan.org/author/IGIBBS">IGIBBS</a></td>
<td>1</td>
</tr>
</table>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_21">
            <div class="card-header">
              <h2 class="card-title"><a href="http://domm.plix.at/perl/2021_aoc_day_15_to_24_with_gaps.html">Advent of Code Day 15 to 24, with some gaps</a></h2>
<a href="https://domm.plix.at/perl.html" class="badge badge-primary" style="float: left">domm (Perl and other tech)</a>

              <p class="text-right"><small>Published
 on Friday 31 December 2021 11:53</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>A few more days of Advent of Code...</p>

<h4><a href="https://adventofcode.com/2021/day/15">Day 15</a> - Chiton</h4>

<p>Another path finder, this time with different costs for different paths. This screams for <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra</a>, but for part 1 I still did a more stupid brute force solution using code similar to Day 12 (but using a stack instead of recursion).</p>

<p>For part two my brute force solution was too slow, so I actually had to understand / implement Dijkstra, which took a bit of time, the Wikipedia article and <a href="https://www.redblobgames.com/pathfinding/a-star/introduction.html">this nice page</a>. It was still rather slow, because I used a plain Perl sort to sort the todo list. Then I thought that I could just group the nodes by cost, thinking (in error) that there would by only 9 buckets, but as each node stores the cumulative cost there are way more buckets. Then I looked into this thing called Heap that was all hot on reddit, and sped up my code a lot by using <a href="https://metacpan.org/pod/Heap::Simple">Heap::Simple</a>. Abigail has a very nice and detailed explanation of "Heap" on <a href="https://abigail.github.io/HTML/AdventOfCode/2021/day-15.html">his post about the 15th</a>.</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/15_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/15_2.pl">Part 2</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/16">Day 16</a> - Packet Decoder</h4>

<p>Yay, decoding a binary protocol!</p>

<p>First, I decode the input into a binary string:</p>

<pre><code>my $bits = join( '', map { sprintf( &quot;%.4b&quot;, hex( '0x' . $_ ) ) } split( //, $ARGV[0] || &lt;&gt; ) );</code></pre>

<p>Reading that from right to left, we first either read in a file or take the input directly from the command line, and split it into single characters (<code>split //</code>), the interpret that char as a hex value (<code>hex('0x'.$_)</code>) and convert it into a four bit 0/1 string (<code>sprintf( &quot;%.4b&quot;, ..)</code>).</p>

<p>Then we "just" need to take a few bits of that string (I use <code>substr</code> to bite of the correct sizes) to get the <code>version</code> and <code>type_id</code>, and handle the next bits based on the type. As we're dealing with packets that can contain subpackets, I implemented all of this in a recursive function, where the most fiddly stuff was to make sure that the correct number of bits stay on the input stream.</p>

<p>I liked it!</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/16_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/16_2.pl">Part 2</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/17">Day 17</a> - Trick Shot</h4>

<p>I spend some time thinking about math-y ways to solve the problem, but only figured out a way to calc the bounds for <code>x</code>. For part 1, I looped through all <code>y</code> between shooting straight down and double the max depths, and got my result. For part 2 the same interval also worked, so I just needed to adjust the calculation of the winning shot.</p>

<p>I liked how I parsed the input, using the return values of the regex:</p>

<pre><code>my ($xfrom, $xto, $yto, $yfrom) = $in =~ /x=(-?\d+)..(-?\d+), y=(-?\d+)..(-?\d+)/;</code></pre>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/17_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/17_2.pl">Part 2</a></li>
</ul>

<h4>Day 18 &amp; 19</h4>

<p>I skipped those two days (for now), because they seemed quite complex, and I had family stuff to do on the weekend.</p>

<h4><a href="https://adventofcode.com/2021/day/20">Day 20</a> - Trench Map</h4>

<p>This was a bit too tricky for me. I got part 1 working quite easily for the test data, but it did not work for the live data (which was the actual tricky bit here). After working through some solutions on reddit I finally figured out how to handle the blinking background, solving both parts with the same code:</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/20_1.pl">Part 1 &amp; 2</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/21">Day 21</a> - Dirac Dice</h4>

<p>Here I found the first part quite easy, though I still have problems implementing a <span cite="http://">modulo</span> that works from 1 to 10 instead of 0 to 9:</p>

<pre><code> my $pos = ( $board{$player}-&gt;{pos} + $roll ) % 10;
 $pos = 10 if $pos == 0;</code></pre>

<p>I did not try the second part, because I was busy with Christmas preparations (in my case, producing my <a href="/mixtapes/in_einer_leiwandn_herdn.html">mixtape</a>)</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/21_1.pl">Part 1</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/22">Day 22</a> - Reactor Reboot</h4>

<p>I did a quick brute force for part 1, knowing very well that this approach will not work for the second part (where I assumed (correctly) we cannot just ignore the values outside -50:50). I thought a bit about how to intersect cubes, but again had other things to do, and not enough math-power.. So part 2 will have to be solved later</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/22_1.pl">Part 1</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/24">Day 24</a> - Arithmetic Logic Unit</h4>

<p>I skipped day 23 and 24 (again because of Christmas..), but spend some time on the 25th to solve day 24.</p>

<p>Of course I fell for the trap and implemented the <span class="caps">ALU </span>(so much simpler than Intcode!) and could output 4 bit numbers easily. But using my virtual machine to brute-force the model number would take ages.</p>

<p>So after some reading reddit I found <a href="https://github.com/dphilipson/advent-of-code-2021/blob/master/src/days/day24.rs">this solution</a> which very nicely explained how to reverse-engineer the input code to figure out which lines in the code where actually relevant. I then used <strong>this</strong> as my actual task and wrote some code to extract the relevant lines from my input, do the correct stack manipulations and just output the rules for the different numbers (the 5th number has to be 3 larger then the 11th number, etc):</p>

<pre><code> my @stack;
 my %rules;
 for my $i (1..14) {
     my $prog = $progs[$i];
     my $check = $prog-&gt;[5]-&gt;[2];
     my $offset = $prog-&gt;[15]-&gt;[2];
     if ($check &gt; 0) {
         push(@stack,[$i,$offset]);
     }
     else {
         my $old = pop(@stack);
         my $calc = $old-&gt;[1] + $check;
         $rules{$i} = [$old-&gt;[0],$calc];
     }
 }</code></pre>

<p>And then calculated the biggest/smallest serial number by hand.</p>

<p>But because I had some more appetite for coding, I also implemented an automatic solver:</p>

<pre><code> my @high=' ';
 my @low= ' ';
 while (my ($pos, $rule) = each %rules) {
     if ($rule-&gt;[1] &lt;= 0) {
         $high[$rule-&gt;[0]] = 9;
         $high[$pos] = 9 + $rule-&gt;[1];
         $low[$pos]=1;
         $low[$rule-&gt;[0]]= 1 - $rule-&gt;[1] ;
     }
     else {
         $high[$pos] = 9;
         $high[$rule-&gt;[0]] = 9 - $rule-&gt;[1];
         $low[$rule-&gt;[0]] = 1;
         $low[$pos] = 1 + $rule-&gt;[1];
     }
 }
 
 say &quot;high: &quot;.join('',@high);
 say &quot;low:  &quot;.join('',@low);</code></pre>

<p>Very nice, but I could have never come up with the actual solution on my own.</p>

<h4>The rest...</h4>

<p>I do plan to try to tackle the remaining tasks, but it might take some time, as we have a rather big roll-out of a project that has been in the work the last 1.5 years in the next week...</p>

<p>But it was another very nice Advent of Code. Thanks, Eric, and all the other people who helped make this work, and who posted their solutions and explanations!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_22">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/544.html">#544 - Merry Christmas</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 27 December 2021 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there</p>
<p>We wish all the readers of the newsletter, <strong>Merry Christmas</strong>. I hope and wish you are all enjoying quality time with your loved ones.</p>
<p>Belated happy birthday to my favourite language, <strong>Perl</strong>, on completing 34 years. <strong>Mark Gardner</strong> used his weekly blogging schedule to celebrate the occassion in his <a href="https://phoenixtrap.com/2021/12/21/34-at-34-for-v5-34-modern-perl-features-for-perls-birthday">blog post</a>.</p>
<p>Do you remember which year you first picked up the <strong>Perl</strong> language?</p>
<p>For me, I was introduced to <strong>Perl</strong> in the year 1998. So technically, I am 23 Perl years old. How about you? I am wondering if anyone other than the creator picked the language in the first year that it existed. If you know their name then please do share it with us. I am sure there must be a handful of people that I am not aware of.</p>
<p>Talking about birthday celebrations, I would like to wish belated Happy Birthday to the mother of our chief editor, <strong>Gabor Szabo</strong>. As per the record, my birthday was last Monday i.e. <strong>20th December</strong>. To date, I have never celebrated my birthday, this year also went without celebration.</p>
<p>I noticed that I am getting close to my <strong>100th edition</strong> of the newsletter. This is my <strong>94th edition</strong>. It would be a big achievement for me, personally, to reach that number. I am looking forward to the <strong>556th edition</strong> of the weekly newsletter as that will be my <strong>100th edition</strong>.</p>
<p>Stay safe and enjoy the holiday break.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_23">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/capture-stdout-stderr-of-external-program">Capture STDOUT and STDERR of external program using Capture::Tiny</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Monday 27 December 2021 08:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
In Perl there are many ways to run external programs. Some of the ways will allow you to capture the output of the external program
and some will even make it easy and fun. We are now looking at <a href="https://metacpan.org/pod/Capture::Tiny">Capture::Tiny</a>.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_24">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2021/12/26#pwc144">A Stocking Full of Numbers: Semiprimes and the Ulam Sequence</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 26 December 2021 18:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<h1>Merry Christmas and Happy New Year! May 2022 bring you less COVID and more Perl projects!</h1>

<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>Write a script to generate all Semiprime numbers &lt;= 100.</em> </p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use boolean; 
use LWP::UserAgent;
use constant N => 100; 
use constant PRIME_URL => "http://primes.utm.edu/lists/small/100000.txt";

sub get_primes{
    my @primes;
    my $ua = new LWP::UserAgent(
        ssl_opts => {verify_hostname => 0}
    );
    my $response = $ua->get(PRIME_URL);
    my @lines = split(/\n/,$response->decoded_content);
    foreach my $line (@lines){
        my @p = split(/\s+/, $line);
        unless(@p < 10){
            push @primes, @p[1..(@p - 1)];
        }
    }
    return @primes;
}

sub factor{
    my($n) = @_;
    my @factors = ();
    for  my $j (2 .. sqrt($n)){
        if($j**2 == $n){  
            push @factors, [$j, $j] if $j**2 == $n;
            next; 
        }
        push @factors, [$j, $n / $j] if $n % $j == 0;
    }
    return @factors;
}

sub semiprime{
    my($n, $primes) = @_;
    my @factors = factor($n);
    return false if @factors != 1;  
    my @prime_factors = grep {$factors[0]->[0] == $_ || $factors[0]->[1] == $_} @{$primes};     
    return true if @prime_factors == 2 || $prime_factors[0]**2 == $n; 
    return false; 
}

sub semiprime_n{
    my @primes = get_primes; 
    for my $n (1 .. N){
        print "$n " if semiprime($n, \@primes);   
    } 
    print "\n"; 
}

MAIN:{
    semiprime_n;
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl ch-1.pl
4 6 9 10 14 15 21 22 25 26 33 34 35 38 39 46 49 51 55 57 58 62 65 69 74 77 82 85 86 87 91 93 94 95
</code></pre>

<h3>Notes</h3>

<p>I am sticking to the convention that I started a while back to not re-compute prime 
numbers myself, but instead just grab them from one of several convenient online sources.
The URL in the code above requires only a small amount of effort to scrape and parse. I 
hope nobody minds the little bit of extra traffic to their site!</p>

<p><em>Please do check out their main page listed below. It's a fun resource with interesting 
facts and news on prime numbers and related research.</em></p>

<p>Once the list of the first 100k primes is obtained (that's more than enough for any of 
these challenges) we proceed to factor and test candidate numbers. Provided the number
has only two factors (which may be equal) and both of them are prime then it passes the 
semiprime test.</p>

<h2>Part 2</h2>

<p><em>You are given two positive numbers, $u and $v. Write a script to generate Ulam Sequence 
having at least 10 Ulam numbers where $u and $v are the first 2 Ulam numbers.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use constant ULAM_LIMIT => 10;   

sub ulam{
    my($u, $v) = @_;    
    my %pairs; 
    my @ulam = ($u, $v); 
    my $w = $u + $v;  
    push @ulam, $w;  
    $pairs{"$u,$v"} = $w; 
    $pairs{"$u,$w"} = $u + $w; 
    $pairs{"$v,$w"} = $v + $w; 
    do{
        my @sums = sort {$a <=> $b} grep{my $sum = $_; my @values = grep{$sum == $_} values %pairs; $sum if @values == 1 && $sum > $ulam[@ulam - 1]} values %pairs; 
        my $u = $sums[0]; 
        push @ulam, $u;
        for my $pair (keys %pairs){
            my($s, $t) = split(/,/, $pair);  
            $pairs{"$s,$u"} = $s + $u;
            $pairs{"$t,$u"} = $t + $u;
        }   
    }while(@ulam < ULAM_LIMIT);
    return @ulam;  
}

MAIN:{
    my @ulam;
    @ulam = ulam(1, 2);   
    {
        print shift @ulam;
        print ", ";
        redo if @ulam > 1;
    } 
    print shift @ulam;
    print "\n";

    @ulam = ulam(2, 3);   
    {
        print shift @ulam;
        print ", ";
        redo if @ulam > 1;
    } 
    print shift @ulam;
    print "\n";

    @ulam = ulam(2, 5);   
    {
        print shift @ulam;
        print ", ";
        redo if @ulam > 1;
    } 
    print shift @ulam;
    print "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl
1, 2, 3, 4, 6, 8, 11, 13, 16, 18
2, 3, 5, 7, 8, 9, 13, 14, 18, 19
2, 5, 7, 9, 11, 12, 13, 15, 19, 23
</code></pre>

<h3>Notes</h3>

<p>The code here is a pretty direct translation of the definition: the next member of the
sequence must be a sum of two previous members which is greater than the previous member
and only be obtainable one way. Here that is done with a <code>grep</code> filter, with the sequence
itself being stored in an array, but for convenience the sums of all unique previous pairs
are kept in a hash.</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-144/">Challenge 144</a></p>

<p><a href="https://mathworld.wolfram.com/Semiprime.html">Semiprime Number</a></p>

<p><a href="https://primes.utm.edu/">Prime Pages</a></p>

<p><a href="https://mathworld.wolfram.com/UlamSequence.html">Ulam Sequence</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_25">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/season-of-docs-2021-complete">Season of Docs successful completion</a></h2>
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Makoto Nozaki
 on Friday 24 December 2021 12:13</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
     <p>As <a href="https://news.perlfoundation.org/post/season-of-docs-progress">previously announced</a>, one of The Perl Foundation's initiatives for this year was to participate in Google Season of Docs. I'm pleased to announce that Khawar Latif Khan successfully completed the project.</p>

<p>You can read further details at
* <a href="https://uxplanet.org/gsod-2021-perls-content-audit-and-gap-analysis-a2ac8292e9be">Khawar's Medium article</a>
* <a href="https://docs.google.com/document/d/1JXZcsOc46DkTcev85xQkozEmQKZ5NMvkZ3zRF_9pwV4/edit">Jason McIntosh's case study</a></p>

<p>In addition, Khawar plans to share his experience at the next Perl and Raku Conference in Houston.</p>

<p>I'd like to thank:
* Khawar for his quality work
* Jason McIntosh for being the project lead and mentorship
* All others who were involved in this project and provided input to Khawar
* Google Season of Docs team for making this project happen</p>

<p>I'm looking forward to discussing more in Houston.</p>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_26">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/support-tpf-in-2022">Supporting TPF – potential tax savings</a></h2>
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Nic Evans
 on Friday 24 December 2021 05:29</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
     <p>(published on behalf of TPF and Marketing Committee)</p>

<p>With the end of the year quickly approaching, The Perl Foundation want to thank you for all that you do in supporting us. Your support has allowed us to make significant strides in advancing the Perl and Raku languages, and the software behind them. There is, however, much work that still needs to be done.</p>

<p>As you consider your year-end philanthropy, we want to highlight a few strategies that may reduce your tax liability. Your gift to The Perl Foundation may be tax-deductible, so now is a great time to help us pave the way for another successful year at TPF.</p>

<p>(Please consult your tax advisor for information on your specific circumstances. This article should not be considered tax or financial advice).</p>

<p><strong>Gifts of Cash - Extensions for 2021</strong></p>

<p>"Above-the-Line" Deduction for Cash Gifts Extended and Expanded in 2021 - The $300 above-the-line deduction established in 2020 for gifts of cash by a non-itemizer (excluding donor advised funds or supporting organizations) has been extended and expanded to $600 for those filing jointly for the 2021 tax year. So, even if you are not planning to itemize your deductions for 2021, you can still take advantage of this tax benefit.  Speak to your accountant and <a href="https://www.perlfoundation.org/payments.html">make donations.</a> </p>

<p><strong>Increase in Charitable Deduction Limit</strong></p>

<p>The increase in the itemized deduction for cash contributions to public charities of 60% to 100% of adjusted gross income has been extended to include the 2021 tax year.  Speak to your accountant and <a href="https://www.perlfoundation.org/payments.html">make donations.</a> </p>

<p><strong>Additional Tax Advantageous Giving Strategies</strong></p>

<p>Gifts of Long-Term Appreciated Securities:  In many cases, a gift of long-term appreciated securities is more tax advantageous than giving cash because capital gains taxes can be avoided. This can be especially useful in optimizing your tax benefits if you are not itemizing deductions in a given year. </p>

<p>IRA Charitable Rollover Gifts: If you are 70 years and six months of age or older, the IRS may allow you to make a qualified charitable distribution of up to $100,000 directly to The Perl Foundation from a traditional Individual Retirement Account (IRA). The benefit of donating through a rollover is that you will be able to avoid reporting the income. </p>

<p>Speak to your accountant to learn more about theses two options.</p>

<p>Thank you for being such an important part of our work at The Perl Foundation. Your support makes it possible for us to do the daily work growing Perl and Raku.</p>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_27">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/tprc-houston-newsletter-1">TPRCHouston - Newsletter #1</a></h2>
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Todd Rinaldo
 on Wednesday 22 December 2021 12:45</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
       <img src="_ra-rel-mnt_/simplecas/fetch_content/9a4a6e97147efd362fac15da697159b6b49db039/icon-1024x1024.png" style="max-width:100%;max-height:100%;padding:20px;" /><br>
     
     <p>In this issue:
* About The Perl and Raku Conference in Houston
* Call for Presenters
* Call for Teachers/Master-Class
* Call for talk ideas
* Volunteer-Organizer positions open
* Call for sponsors
* Contact us</p>

<h2>Come to the Perl and Raku Conference in Houston!</h2>

<p>We can't wait to see everyone in person at the 2022 Perl and Raku Conference June 21-25 2022! </p>

<p>You can expect to see a lot of presentations on Perl, Raku, and supporting languages. Core presentation topics in the past have included Perl 5 and Raku. Organizers are hopeful to continue with a core of Perl 5 and Raku moving forward. It’s worth noting that this event is run by volunteers and talks are also given by volunteers. The presentations at the conference are being submitted now during our Call For Presenters (CFP) and will be selected by organizers who volunteer to be on our talks-committee. Generally, there are sets of 3 to 4 simultaneous presentations (20-50 minutes long) on a variety of topics throughout each main event day. Surrounding the main conference days, master-class tutorial sessions (half day and full day format) are offered for an additional fee.</p>

<p>If you see <strong>#TPRCHouston</strong> around on social media, that’s our tag for The Perl Conference in Houston.</p>

<p>The website is live! There are still a few details we're filling in like how to book a room and of course the schedule, but there's still a bunch of information you can get by visiting https://perlconference.us</p>

<h2>Call for Presenters</h2>

<p>The call for presentations is open now! We will have an early submission deadline of 12 noon UTC, Tuesday February 1st. The final deadline for speaker submissions is 12 noon, Tuesday March 1st. Submit your talk ideas here: https://perlconference.us/speakers</p>

<p>Whether this is your first time submitting a talk proposal or one of many you’ve proposed and presented, consider submitting your talk idea to us. Making a presentation at a national event is great for networking and experience! </p>

<p>The presentations at the conference are selected by organizers who volunteer to be on our Talks Committee. Generally, there are sets of 3 to 4 simultaneous presentations (20 or 50 minutes long, including Q&amp;A) on a variety of technical topics throughout each main event day. </p>

<p>Not sure you are up for giving a talk but have a topic you’d like to learn more about at our event? Tweet <a href="https://twitter.com/PerlConferences">@PerlConferences</a> using <strong>#TPRCHouston</strong> or email <a href="mailto:admin@perlconference.us">admin@perlconference.us</a>.</p>

<h2>Call for Teachers/Master-Class</h2>

<p>We need to fill out our master-class/tutorial schedule. All tutorial ideas will be considered. You can submit your class idea to https://perlconference.us/speakers. We will get back to you quickly.</p>

<p>Keep in mind, the event schedule differs from some of the past events. Master-class tutorial sessions surrounding the main event and will be held on Jun 21 (Tuesday) and Jun 25 (Saturday).</p>

<h2>What presentations are you hoping to see?</h2>

<p>We’d love to hear your tech talk ideas for TPRCHouston! We’ve already received some interest in the following topics:</p>

<ul>
<li>Perl and Raku / Internet / History game show</li>
<li>Security</li>
<li>Fun side projects with Perl and Raku</li>
<li>Integrating Perl and Raku with other tools</li>
</ul>

<p>Got some more talk suggestions? Tweet <a href="https://twitter.com/PerlConferences">@PerlConferences</a> using <strong>#TPRCHouston</strong> or email <a href="mailto:admin@perlconference.us">admin@perlconference.us</a>.</p>

<h2>Be part of it all - Organizer spots open!</h2>

<p>Planning for The Perl Conference in Houston is underway and we need a few more hands! It’s not too late to join us in planning this event! Openings are web design/content editor, speaking coordinator, outreach assistant, and more... Email <a href="mailto:admin@perlconference.us">admin@perlconference.us</a> to volunteer. You can help frame the conference! </p>

<h2>Call for Sponsors!</h2>

<p>A donation to The Perl Foundation not only contributes to the Perl Conference in Houston, but also aids our other outreach programs. Perl Foundation Sponsors will get recognition for supporting The Perl Conference as well as our regional Perl Workshops, beginner training initiatives, and our grants programs for an entire year. Donating directly to The Perl Foundation provides the most value for your sponsorship money.</p>

<p>However, sponsors can also donate directly to The Perl Conference. Often the organizers are able to link a sponsor directly to an event at the conference (wifi, coffee break, etc.)  where the cost of the event is in line with the donation amount.</p>

<p>Sponsors of $500 or more will be provided a table at our sponsor expo and job fair. </p>

<h2>How to reach our organizers</h2>

<ul>
<li>Visit our website:  https://perlconference.us</li>
<li>Follow us on Twitter: <a href="https://twitter.com/PerlConferences">@PerlConferences</a></li>
<li>Like us on Facebook: https://www.facebook.com/theperlconference</li>
<li>Subscribe to the mailing list: https://perlconference.us/subscribe</li>
<li>Send any questions about The Perl Conference to <a href="mailto:admin@perlconference.us">admin@perlconference.us</a>. An organizer will get back to you.</li>
</ul>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_28">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/543.html">#543 - Happy Birthday!</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 20 December 2021 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there!</p>
<p>Thomas Klausner sent me a bunch of links and suggestion, let me share them first:</p>
<p>Abigail has a series of Advent posts starting from <a href="https://abigail.github.io/HTML/AdventOfCode/2021/day-01.html">day 01</a>. I did not find a page listing all the entries but you can get to them by changing the URL. Smylers is doing crazy stuff with <a href="https://twitter.com/smylers2/status/1334150980552757250">vim (and perl)</a>. One can find a lot of inspiring code (Perl, Raku and of course other languages) in the various <a href="https://www.reddit.com/r/adventofcode">'Solution Megathreads'</a> on Reddit.  Finally domm himself has a few <a href="https://domm.plix.at/tags/AdventOfCode.html">Advent related posts</a>.</p>
<p>Today we are celebrating the 80th birthday of my mother. Due to the pandemic we cannot celebrate in the same space, but we have collected some videos from the family members and her friends and we are going to have a Zoom session. Much better than not being able to celebrate at all. Happy birthday mom!</p>
<p>In a few days a large part of the world is going to celebrate the birthday of another Jew.</p>
<p>Merry Christmas!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_29">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/variable-will-not-stay-shared">Variable &quot;...&quot; will not stay shared ...</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Monday 20 December 2021 09:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
When using <b>fork</b> to create child processes it is a good idea to encapsulate the behavior of both the child process
and the parent process in (separate) functions.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_30">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2021/12/19#pwc143">Stealthy Calculations</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 19 December 2021 19:56</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>You are given a string, $s, containing mathematical expression. Write a script to print 
the result of the mathematical expression. To keep it simple, please only accept 
+ - * ().</em> </p>

<h3>Solution</h3>

<p>Main driver.</p>

<pre><code class="perl">
use strict;
use warnings;
##
# Write a script to implement a four function infix calculator.     
##
use TWCCalculator;
use constant ADD => "10 + 8";
use constant SUBTRACT => "18 - 66";
use constant ADD_SUBTRACT => "10 + 20 - 5";  
use constant MULTIPLY => "10 * 8";
use constant DIVIDE => "52 / 2";
use constant CALCULATE => "(10 + 20 - 5) * 2"; 

MAIN:{
    my $parser = new TWCCalculator();
    $parser->parse(ADD); 
    $parser->parse(SUBTRACT); 
    $parser->parse(ADD_SUBTRACT); 
    $parser->parse(MULTIPLY); 
    $parser->parse(DIVIDE);
    $parser->parse(CALCULATE);
}   
</code></pre>

<p>TWCCalculator.yp (the Parse::Yapp code). This file is used to generate a parser module,
TWCCalculator.pm, which is used in the code above. This is where the actual parsing of
the input and implementation of the calculator is.</p>

<pre><code class="perl">
%token NUMBER    
%left '+' '-' '*' '/'

%%

line: 
    | expression  {print $_[1] . "\n"} 
;

expression: NUMBER
    | expression '+' expression {$_[1] + $_[3]}
    | expression '-' expression {$_[1] - $_[3]}
    | expression '*' expression {$_[1] * $_[3]}
    | expression '/' expression {$_[1] / $_[3]}
    | '(' expression ')' {$_[2]}
;

%%

sub lexer{
    my($parser) = @_;
    $parser->YYData->{INPUT} or return('', undef);
    $parser->YYData->{INPUT} =~ s/^[ \t]//;
    ##
    # send tokens to parser
    ##
    for($parser->YYData->{INPUT}){
        s/^([0-9]+)// and return ("NUMBER", $1);
        s/^(\+)// and return ("+", $1);
        s/^(-)// and return ("-", $1);
        s/^(\*)// and return ("*", $1);
        s/^(\/)// and return ("/", $1);
        s/^(\()// and return ("(", $1);
        s/^(\))// and return (")", $1);
        s/^(\n)// and return ("\n", $1);
    }  
}

sub error{
    exists $_[0]->YYData->{ERRMSG}
    and do{
        print $_[0]->YYData->{ERRMSG};
            return;
    };
    print "syntax error\n"; 
}

sub parse{
    my($self, $input) = @_;
    $self->YYData->{INPUT} = $input;
    my $result = $self->YYParse(yylex => \&lexer, yyerror => \&error);
    return $result;  
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ yapp TWCCalculator.yp
$ perl ch-1.pl
18
-48
25
80
26
50
</code></pre>

<h3>Notes</h3>

<p>In a long ago (almost exactly two years!) Challenge we were asked to implement a Reverse
Polish Notation (RPN) Calculator. For that challenge I wrote a short introduction to the 
parser module, Parse::Yapp, that I used. See the references below, I think it still holds
up.</p>

<p>For this challenge I was able to rely pretty heavily on that older code. I simply changed
the expected position of the operators and that was about it!</p>

<p>I really like any excuse to use a parser generator, they're a powerful tool one can have
at the disposal for a fairly small investment of learning time. Well, practical usage
may be quick to learn. Depending on how deep one wants to go there is the possibility also
of a lifetime of study of computational linguistics.</p>

<h2>Part 2</h2>

<p><em>You are given a positive number, $n. Write a script to find out if the given number is a
Stealthy Number.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use boolean; 

sub factor{
    my($n) = @_;
    my @factors = ();
    for  my $j (2 .. sqrt($n)){
        push @factors, [$j, $n / $j] if $n % $j == 0;
    }
    return @factors;  
}

sub stealthy{
    my($n) = @_;
    my @factors = factor($n);
    for(my $i = 0; $i < @factors; $i++){
        for(my $j = 0; $j < @factors; $j++){
            unless($i == $j){
                my($s, $t) = @{$factors[$i]}; 
                my($u, $v) = @{$factors[$j]}; 
                return true if $s + $t == $u + $v + 1; 
            }  
        }  
    }  
    return false; 
}

MAIN:{
    print stealthy(12) . "\n";
    print stealthy(36) . "\n";
    print stealthy(6)  . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl
1
1
0
</code></pre>

<h3>Notes</h3>

<p>That <code>factor</code> subroutine makes another appearance! Well, here there is a slight 
modification to get it to return the factors in pairs, each pair an array reference.
These are all checked in a loop for the desired property.</p>

<p>This is a classic "generate and test" approach. For an idea of what it would look like
to instead constrain the variables to fit the property and then discover which values, if 
any, match these constraints then please do take a look at my 
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2021/12/19/prolog">Prolog solution for Challenge 143</a>
which uses a Constraint Logic Programming over Finite Domains (clpfd) approach.</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-143/">Challenge 143</a></p>

<p><a href="https://metacpan.org/pod/Parse::Yapp">Parse::Yapp</a></p>

<p><a href="https://adamcrussell.livejournal.com/13321.html">RPN Calculator for Challenge 039</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_31">
            <div class="card-header">
              <h2 class="card-title"><a href="http://domm.plix.at/perl/2021_aoc_day_09_to_14.html">Advent of Code Day 9 to 14</a></h2>
<a href="https://domm.plix.at/perl.html" class="badge badge-primary" style="float: left">domm (Perl and other tech)</a>

              <p class="text-right"><small>Published
 on Tuesday 14 December 2021 17:51</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Five more days of coding adventures!</p>

<h4><a href="https://adventofcode.com/2021/day/9">Day 9</a> - Smoke Basin</h4>

<p>We need to find "low points" in a two-dimensional map of integers ranging from 0 to 9.</p>

<p>For <a href="https://github.com/domm/advent_of_code/blob/main/2021/09_1.pl">part 1</a> I used a hash to store the map (with keys like "3_2" for row 3/col 2), and looked in the 4 bordering fields to find lower values (adjusting for corners/borders), I use the classic method (learned in previous years) of looping through a list of offsets to look for the neighbouring values:</p>

<pre><code>for my $move ([-1,0],[1,0],[0,-1],[0,1]) {
     my $look = ($r + $move-&gt;[0] ).':'.($c + $move-&gt;[1]);
     my $val = $map{ $look };
     ...
 }</code></pre>

<p>If the value I'm looking at is lower than all the four neighbours, count it. I needed to implement some special cases for the rows at the edges of the map, which could have been avoided if I had remembered another class trick: Pad the map with some values (in this case, <code>9</code> is perfect, because it's the highest values, thus ensuring that all other values are lower). See for example <a href="https://abigail.github.io/HTML/AdventOfCode/2021/day-09.html">Abigail's solution</a>.</p>

<p>For <a href="https://github.com/domm/advent_of_code/blob/main/2021/09_2.pl">part 2</a> I found the joining/splitting of row/cols too annoying so rewrote to a two-dim array. Used a recursive function to walk the map, starting from the low points. After visiting a location, I set it to -1, and stopped when hitting a 9 (or a previously visited -1).</p>

<p>The solutions is quite long because it builds on the solution for part 1 to find the low points. I guess it could be shortened quite bit...</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/09_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/09_2.pl">Part 2</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/10">Day 10</a> - Syntax Scoring</h4>

<p>I found this day quite easy (definitely easier than some earlier days), and it took me longer to get the points calculation right than to figure out the closing parens (using a simple stack onto which I push open chars, and then check if we have a matching closing one).</p>

<p>While these solutions could be heavily golfed, I leave then at their current very readable state - if not only to fight certain prejudices against Perl :-)</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/10_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/10_2.pl">Part 2</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/11">Day 11</a> - Dumbo Octopus</h4>

<p>Finally, a Game-of-Life-y task. And not too hard. But I wasted some time on the first part because I did the general increment of the octopus in the same step as the flashing, which worked for the first few rows and generations, but later broke down.</p>

<p>This time we need to look at all the 8 neighbours in a grid, so the list of "movement" (in fact, look-instructions) was a bit longer than on day 9:</p>

<pre><code>[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]</code></pre>

<p>Oh, and also I find it <b>much easier</b> to work with rows <code>$r</code> and columns <code>$c</code> instead of <code>x</code> and <code>y</code>.</p>

<p>On this day I started to think about creating something like Acme::AdventOfCode containing a grab-bag of helpful functions (parse a map, draw a map, etc). Maybe I'll prepare something later / next year...</p>

<p>For part 2 I just needed to replace the <code>for</code> loop with a <code>while (1)</code> and stop when all octopus flash.</p>

<p>Here's a very nice visualisation using an <a href="https://www.reddit.com/r/adventofcode/comments/re000o/2021_day_11_part_2_c_trying_to_do_everything_on/">arduino</a></p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/11_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/11_2.pl">Part 2</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/12">Day 12</a> - Passage Pathing</h4>

<p>I had a family event on Sunday, so only got to work on the tasks in the evening, and was not very motivated. Also, this was a rather standard path solving / graph traversal. So here is my boring code (which was cheated^winsipired by reading a few of the solutions on reddit)</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/12_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/12_2.pl">Part 2</a></li>
</ul>

<h4><a href="https://adventofcode.com/2021/day/13">Day 13</a> - Transparent Origami</h4>

<p>Again a very nice task! We need to "fold" a very big piece of transparent paper that's marked with some dots. After a physically impossible number of folds a code will appear (that was part 2, part 1 just tested the basic folding algorithm).</p>

<p>Here you can watch somebody <a href="https://www.reddit.com/r/adventofcode/comments/rfp213/2021_day_13_folding_with_a_folding_phone/">solving it on a folding phone</a>.</p>

<p>For the <a href="https://github.com/domm/advent_of_code/blob/main/2021/13_1.pl">first part</a> (not cleaned up) I tried to be smart and only implement one folding dimension, and just rotate the map for the other dimension. But unfortunately I'm too stupid to come up with a working matrix rotation in 10 minutes, so I just copied the folding algorithm and adapted it for the other dimension.</p>

<p>I also got a wrong result first, because when the instructions said we should "count the dots", I counted the actual dots <code>.</code>, but those represent emptiness, and we need to count <code>#</code> which represent the dots. I wonder if this was worded like that on purpose..</p>

<p>For the <a href="https://github.com/domm/advent_of_code/blob/main/2021/13_2.pl">second part</a> (after submitting it..) I replaced the <code>#</code> with <code>█</code>, which makes for much easier to read output. Oh, and I had to adapt the folding algorithm a bit to align the folded parts on the fold, and not on the top row:</p>

<pre><code>splice( @map, $at, 1 );                       # remove the fold
 my @low = splice( @map, $at, @map - $at );    # fold it
 my $r   = @map - @low;                        # make sure the fold aligns
 for my $folded ( reverse @low ) {
     my $c = 0;
     for my $mark (@$folded) {
         $map[$r][$c] = $mark if $mark eq '█';    # rub through
         $c++;
     }
     $r++;
 }</code></pre>

<p>Notice the line with the comment "make sure the fold aligns", where I adjust the starting row to the difference between the two parts of the fold. This was only needed for one fold (for my input), but I still added to both cases.</p>

<p>Here's the output without the fold-alignment-fix:</p>

<pre><code>   █  ████  ███ █ ██ █    ████ █ ██ █  █ 
   ██ ██ █ █  █ ████ █    █ ██ ████ ████ 
    █ ████  ███ ████ █    █ █  ███  ████ 
 █  █ ████ ███  ████ █    █ ██ █ █  ████ 
 █  █ ███  ████ █ ██ █ ██ █ ██ █ █  █  █ 
  ██  █ ██ ████ ███  ███  ████ █ ██ █  █ </code></pre>

<p>One could try to guess, but fixing it was easier and yields"</p>

<pre><code>   ██ ███  ████ ███  █     ██  █  █ █  █ 
    █ █  █    █ █  █ █    █  █ █ █  █  █ 
    █ █  █   █  ███  █    █    ██   ████ 
    █ ███   █   █  █ █    █ ██ █ █  █  █ 
 █  █ █ █  █    █  █ █    █  █ █ █  █  █ 
  ██  █  █ ████ ███  ████  ███ █  █ █  █ </code></pre>


<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/13_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/13_2.pl">Part 2</a></li>
</ul>

<p>This was the first time I got a 4-digit rank (8532 / 9122), but not because I was especially fast / smart, but because I woke up very early and couldn't get back to sleep, and thus started at ~6:30 (local time)</p>

<h4><a href="https://adventofcode.com/2021/day/14">Day 14</a> - Extended Polymerization</h4>

<p>I had 20 minutes time until a meeting started, so I ignored the "This polymer grows quickly" warning for the first part, and implemented an array based solution:</p>

<pre><code>for my $step (1 .. 10) {
    my @new;
    for (my $i=0; $i&lt;@poly-1; $i++) {
        push( @new, $rules{$poly[$i].$poly[$i+1]}-&gt;@* );
    }
    push( @new, $poly[-1] );
    @poly = @new;
 }</code></pre>

<p>This looks up the current pair (<code>$poly[$i].$poly[$i+1]</code>) in the list of rules, where for example <code>'NH'</code> will return <code>'NC','CH'</code> and push the two new pairs onto the new version of the polymer.</p>

<p>Worked like a charm for <a href="https://github.com/domm/advent_of_code/blob/main/2021/14_1.pl">part 1</a>. But died after ~22 steps (far from the 40 steps required for part 2) for lack of <span class="caps">RAM </span>(and I have loads!).</p>

<p>During my meeting (ahem..) I fiddled a bit with the output to check if there is some regularity I could use to just forecast the result. There wasn't. Linked lists also did not seem reasonable, because we didn't need to insert stuff somewhere into an array. (Linked lists where used in previous years when plain arrays where to slow)</p>

<p>So I couldn't resist to check <a href="https://www.reddit.com/r/adventofcode/">reddit</a> (the meeting was still ongoing..) where I was greeted by a lot of <a href="/perl/2021_aoc_day_06_to_08.html">Lanternfish</a> memes. Then it made click.</p>

<p>I was <b>again</b> fooled by the array-heavy problem description, when in fact all we had to do was count the pairs (of which there where only a few), and increment the pairs based on the rules: So if I see <code>NH</code> (and we already have 10 of them), I just need to increment the counter of <code>NC</code> and <code>CH</code> by 10:</p>

<pre><code>for my $step (1 .. 40) {
     my %new;
     while (my ($pair,$count) = each %pairs) {
         $new{ $rules{$pair}[0] } += $count;
         $new{ $rules{$pair}[1] } += $count;
     }
     %pairs = %new;
 }</code></pre>

<p>The rest was a bit of fiddling with the resulting pair counts to count each letter, not forgetting that the last letter in the original input has to be added once by hand:</p>

<pre><code>my %count = ($poly[-1] =&gt; 1);
 while (my ($pair,$count) = each %pairs) {
     my ($f,$s)=split(//,$pair);
     $count{$f}+=$count;
 }</code></pre>

<p>Sort and subtract, and done!</p>

<ul>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/14_1.pl">Part 1</a></li>
<li><a href="https://github.com/domm/advent_of_code/blob/main/2021/14_2.pl">Part 2</a></li>
</ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_32">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/542.html">#542 - Perl Advent Calendar</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 13 December 2021 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there</p>
<p>How you all doing? Are you making the most of the festive season?</p>
<p>In the <a href="https://perlweekly.com/archive/540.html">540th edition</a> of the weekly newsletter, I mentioned <strong>Advent Calendars</strong>. I noticed some activity in the GitHub repository for the <strong>Perl Advent Calendar</strong> and was hoping to see another exciting edition full of Perl projects. A friend of mine on <strong>Facebook</strong> mentioned that this year the <a href="http://perladvent.org/2021/index.html">Perl Advent Calendar</a> is looking a bit sparse. At the time of writing this editorial, I have only seen <a href="http://perladvent.org/2021/2021-12-01.html">one post</a> i.e. Day 1 of Year 2021. Being one of many contributors in the past, I am sad to see the current state of the project. I have absolutely no idea what happened this year. I know I have too many things already on my plate but I would like to help to get the <strong>Perl Advent Calendar</strong> back to its original glory.</p>
<p>Talking about <strong>Advent Calendars</strong>, I would like to mention <a href="https://theweeklychallenge.org/blog/advent-calendar-2021">The Weekly Challenge Advent Calendar</a> which has mix of <strong>Perl</strong> and <strong>Raku</strong> like in the past. We have been running this since the beginning i.e. <strong>2019</strong>. You will find some of the fun tasks from the past year being discussed by members of <strong>Team PWC</strong>. I have made a slight change to the look and feel this year. I hope you like it.</p>
<p>How about the <a href="https://24pullrequests.com">24 Pull Requests</a> event?</p>
<p>I have not seen it being discussed either on any of the social platforms e.g. <strong>Facebook</strong>, <strong>Twitter</strong> or <strong>LinkedIn</strong>. I haven't had chance to take part this year. I couldn't take part last year either; what a shame. I still have 10 days and I have booked a few days off work. So there is a possibility I might take part and even complete the challenge. Please wish me luck.</p>
<p>Last but not least, <strong>Curtis</strong>, leader of the <strong>Corinna</strong> project, announced that he had a great meeting with the Perl Steering Council and they are extremely receptive to Corinna going into the core. I can't wait for <strong>Corinna</strong> to be part of core Perl. <strong>Damian</strong> shared the details on one of issues discussed in the same meeting in a <a href="http://blogs.perl.org/users/damian_conway/2021/12/a-not-so-simple-matter-of-privacy.html">blog post</a>. You definitely don't want to miss it.</p>
<p>Enjoy the newsletter.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->

        </div><!-- col-md-8 -->
        <div class="col-md-2">
<script type="text/javascript"><!--
google_ad_client = "pub-3663319204757145";
/* planet */
google_ad_slot = "8413744374";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
        </div><!-- col-md-2 -->
      </div><!-- row -->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row>
            <div class="col-md-8">
              <address><a href="https://twitter.com/@davorg">@davorg</a> / Thursday 13 January 2022 04:49 UTC</address>
            </div>
          </div>
        </div><!-- container -->
      </footer>
    </div><!-- container -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-56332-76"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-56332-76');
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
            integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
            crossorigin="anonymous"></script>
    <script src="/script.js"></script>
  </body>
</html>
