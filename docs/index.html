<!DOCTYPE html>
<html>
  <head>
    <meta property="og:title" content="Planet Perl" /> 
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://perl.theplanetarium.org/" />
    <meta property="og:image" content="https://perl.theplanetarium.org/planet-perl.jpg" />
    <meta property="og:description" content="Collecting the best Perl web feeds"/>
    <title>Planet Perl</title>
    <meta charset="UTF-8">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
          crossorigin="anonymous">

    <link rel="alternate" type="application/atom+xml" title="Atom" href="http://perl.theplanetarium.org/atom.xml" />
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Planet Perl</a>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 left">
          <p>Text: <a href="#" id="show"><b>[s]</b>how</a> / <a href="#" id="hide"><b>[h]</b>ide</a></p>
          <h2>Sources</h2>
          <ul>
            <li><a href="http://blogs.perl.org/">blogs.perl.org</a></li>
            <li><a href="https://dev.to/t/perl">dev.to #perl</a></li>
            <li><a href="https://domm.plix.at/perl.html">domm (Perl and other tech)</a></li>
            <li><a href="https://www.endpointdev.com/blog/tags/perl/">End Point Dev blog Perl topic</a></li>
            <li><a href="https://metacpan.org/news">MetaCPAN News</a></li>
            <li><a href="https://niceperl.blogspot.com/">Niceperl</a></li>
            <li><a href="https://nxadm.wordpress.com/tag/perl/">nxadm</a></li>
            <li><a href="https://news.perlfoundation.org/">Perl Foundation News</a></li>
            <li><a href="https://perlhacks.com/">Perl Hacks</a></li>
            <li><a href="https://perlmaven.com/">Perl Maven</a></li>
            <li><a href="https://perlweekly.com/">Perl Weekly</a></li>
            <li><a href="https://blog.perl-academy.de/">Perl-Academy.de</a></li>
            <li><a href="https://perl.com/">perl.com</a></li>
            <li><a href="https://perlancar.wordpress.com/">Perlancar</a></li>
            <li><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl">RabbitFarm Perl</a></li>
            <li><a href="https://log.perl.org/">The Perl NOC</a></li>
            <li><a href="https://theweeklychallenge.org/blog/">The Weekly Challenge</a></li>
          </ul>
          <p><a href="/atom.xml"><img alt="Feed" src="/images/feed.gif" /> Subscribe</a>
          <br />
          <a href="/opml.xml"><img alt="OPML" src="/images/opml.png" /> OPML</a></p>
          <p>
            <ul>
              <li>Powered by <a href="https://metacpan.org/release/Perlanet">Perlanet</a></li>
              <li>Code on <a href="https://github.com/davorg/planetperl">Github</a></li>
              <li><a href="https://github.com/davorg/planetperl/issues">Feedback welcome</a></li>
            </ul>
          </p>
        </div><!-- col-md-2 -->
        <div class="col-md-8">
          <div class="card" id="card_1">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/dancer2-sessions">Dancer2: Sessions</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Friday 02 September 2022 14:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
Part of the Dancer2 video course available both to <a href="/pro">Pro</a> subscribers and attendees of the <a href="https://leanpub.com/c/dancer">Perl Dancer course</a> on Leanpub.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_2">
            <div class="card-header">
              <h2 class="card-title"><a href="https://blog.perl-academy.de/2022-09-02-distribution-auf-distzilla-umstellen">Distribution auf Dist::Zilla umstellen</a></h2>
<a href="https://blog.perl-academy.de/" class="badge badge-primary" style="float: left">Perl-Academy.de</a>

              <p class="text-right"><small>Published
 on Friday 02 September 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">In diesem Artikel zeige ich dir, wie du eine bestehende Distribution mit möglichst wenig Aufwand auf Dist::Zilla umstellen kannst.       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_3">
            <div class="card-header">
              <h2 class="card-title"><a href="https://theweeklychallenge.org/blog/guest-contribution/">The Weekly Challenge - Guest Contributions</a></h2>
<a href="https://theweeklychallenge.org/blog/" class="badge badge-primary" style="float: left">The Weekly Challenge</a>

              <p class="text-right"><small>Published
 on Friday 02 September 2022 00:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">As you know, The Weekly Challenge, primarily focus on Perl and Raku. During the Week #018, we received solutions to The Weekly Challenge - 018 by Orestis Zekai in Python. It was pleasant surprise to receive solutions in something other than Perl and Raku. Ever since regular team members also started contributing in other languages like Ada, APL, Awk, BASIC, Bash, Bc, Befunge-93, Bourne Shell, BQN, Brainfuck, C3, C, CESIL, Chef, COBOL, Coconut, C Shell, C++, Clojure, Crystal, D, Dart, Dc, Elixir, Elm, Emacs Lisp, Erlang, Excel VBA, Fish, Forth, Fortran, Gembase, GNAT, Go, Haskell, Haxe, HTML, Idris, IO, J, Janet, Java, JavaScript, Julia, Kotlin, Lisp, Logo, Lua, M4, Miranda, Modula 3, MMIX, Mumps, Myrddin, Nim, Nix, Node.       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_4">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/jmeneghin/calculating-tetranucleotide-k-mer-frequencies-969">Calculating tetranucleotide (k-mer) frequencies</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Jennifer Meneghin
 on Thursday 01 September 2022 19:01</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Last week I posted about a Perl script I wrote that calculates %GC content for genome sequences. This week, I’m generalizing this idea to k-mers. In bioinformatics, <a href="https://en.wikipedia.org/wiki/K-mer">k-mers</a> are substrings of length k in biological sequences. </p>

<p>In 2016 I wrote a Perl script for the Reysenbach lab that calculates k-mer frequencies, for all k-mers in a given sequence. It was made public soon after, and you can find get_kmer_frequencies.pl on <a href="https://github.com/jmeneghin/perl-for-reysenbach-lab">my Github page</a>.</p>

<p>Typically, in the lab, we were interested in tetranucleotide frequencies. Tetranucleotides are k-mers of length four. Tetranucleotide frequencies have been used in the analysis of microbial genomes for many years [1], and they are often used in the process of binning contigs in metagenomics [2].</p>

<p>Originally, I wrote a script called get_tetranucleotide_frequencies.pl that was used in this PhD dissertation:</p>

<p><a href="https://researchonline.jcu.edu.au/52906/">Buerger, P. 2017. Viruses: contributors to and mitigators of black band disease in corals. James Cook University, Queensland, Australia.</a></p>

<p>The newer get_kmer_frequencies.pl script was used to calculate tetranucleotide frequencies in this Master’s thesis:</p>

<p><a href="https://pdxscholar.library.pdx.edu/open_access_etds/4939/">St. John, E. 2019. Symbiosis in Archaea: Functional and Phylogenetic Diversity of Marine and Terrestrial Nanoarchaeota and their Hosts.</a></p>

<p>The new script allows you to calculate k-mers of any length. This script takes three parameters; a fasta file, k and a file name prefix:</p>

<p><code>get_kmer_frequencies.pl infile.fasta k fileprefix</code></p>

<p>It returns a tab delimited file called fileprefix_kmer.txt, where fileprefix is the prefix you specified in the parameters. The columns are fasta records, and rows are k-mer counts. Notice all k-mer counts are given here — so if your data contains any other symbols besides A, C, G, and T, those will be included in the k-mer combinations. Extra rows are an indication of dirty data, and I would remove these rows for analysis purposes.</p>

<p>The newer get_kmer_frequencies.pl script also takes into consideration that reverse complimented k-mers should be summed together. </p>

<p>"DNA occurs as a double strand where each A is paired with a T and vice versa, and each C is paired with a G and vice versa. The reverse complement of a DNA sequence is formed by reversing the letters, interchanging A and T and interchanging C and G. Thus the reverse complement of ACCTGAG is CTCAGGT.” <a href="https://www.bx.psu.edu/old/courses/bx-fall08/definitions.html">From A Computer Scientist’s Dictionary for Genomics</a></p>

<p>The fasta sequences we look at on the computer only contain the nucleotides of a single strand of DNA, while actual DNA is double stranded. So, if our fasta sequence DNA has the k-mer AAAA 20 times, for example, then the other strand in actual reality should have TTTT 20 times. But, that second strand also contains AAAA, say 12 times for example, and then the first strand should also contain TTTT 12 times. So, in double stranded reality, AAAA/TTTT shows up 32 times on the double stranded string (for this example), sometimes with AAAA on the first strand, sometimes on the second strand. To take this into consideration, we sum the reverse complements.</p>

<p>For tetranucleotides, this means instead of 256 possible combinations (4 to the 4th power — given there are 4 nucleotides and a k-mer sequence length of 4), there are actually only 136. Why not 128? Because 16 tetranucleotide sequences are reverse complements of themselves (e.g., AATT and CATG). So, we have (256-16)/2 = 120 tetranucleotides with reverse complements, and then we add back in the tetranucleotides without reverse complements to get 120+16 = 136 total tetranucleotides. </p>

<p>These calculations are similar for any length k-mer. We only find k-mers with self-reverse-complements with even length k-mers. So, for length 3, we have 4 to the 3rd power divided by 2, or 64/2 = 32 possible 3-mers. For length 1, we have 4 to the 1st power divided by 2, or 2 1-mers, A/T and C/G. Bringing this full circle, if we express our 1-mers as a percentage, we only need to look at A/T or C/G. If we choose C/G, that’s what’s known as %GC content.</p>

<p>In 2020 I rewrote several of my Perl scripts in Python, including get_kmer_frequencies.py, which can be run as follows. </p>

<p><code>get_kmer_frequencies.py -i infile.fasta -k k -p fileprefix</code></p>

<p>This script is available for download on <a href="https://github.com/jmeneghin/python-bioinformatics">my GitHub page</a>.  To test for speed, I ran these two scripts five times each with two different sequence examples; a full genome file containing one long fasta record, and a Metagenome Assembled Genome (MAG) file containing 1708 shorter fasta records. Python was 2.9 times faster than Perl for the full genome, and 2.1 times faster than Perl for the MAG. I’ve recently become aware of the optimizing compiler <a href="http://rperl.org">RPerl</a>, which allows Perl to be compiled into “ultra-fast and fully-compatible” C++, so I’m excited to try this out and see how the results compare to both Perl and Python. </p>

<p>[1] Noble PA, Citek RW, Ogunseitan OA. Tetranucleotide frequencies in microbial genomes. Electrophoresis. 1998 Apr;19(4):528-35. doi: 10.1002/elps.1150190412. PMID: 9588798.</p>

<p>[2] Kang DD, Li F, Kirton E, Thomas A, Egan R, An H, Wang Z. MetaBAT 2: an adaptive binning algorithm for robust and efficient genome reconstruction from metagenome assemblies. PeerJ. 2019 Jul 26;7:e7359. doi: 10.7717/peerj.7359. PMID: 31388474; PMCID: PMC6662567.</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_5">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2022/08/perl-weekly-challenge-180-first-unique-character-and-trim-list.html">Perl Weekly Challenge 180:  First Unique Character and Trim List</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Thursday 01 September 2022 03:27</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 180 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-180/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few of days from now (on Sept. 4, 2022 at 23:59). This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<h2>Task 1:  First Unique Character</h2>

<p><em>You are given a string, <code>$s</code>.</em></p>

<p><em>Write a script to find out the first unique character in the given string and print its index (0-based).</em></p>

<p><em>Example 1</em></p>

<pre><code>Input: $s = "Perl Weekly Challenge"
Output: 0 as 'P' is the first unique character
</code></pre>

<p><em>Example 2</em></p>

<pre><code>Input: $s = "Long Live Perl"
Output: 1 as 'o' is the first unique character
</code></pre>

<h3>First Unique Character in Raku</h3>

<p>This is a straight-forward, no-frills solution. I thought that I could write a better (or, at least, simpler) solution using features such as <a href="https://modules.raku.org/dist/ArrayHash">ArrayHash</a> or <a href="https://raku.land/zef:lizmat/Hash::Ordered">Hash::Ordered</a>, but this did not seem to simplify the syntax. Similarly, I initially wanted to use the built-in <a href="https://docs.raku.org/routine/first">first</a> routine, but it only made things more complicated. So, I ended up with a plain-vanilla solution using a hash (the <code>%h</code> letter histogram) and an array (the <code>@let</code> array) in parallel, and a hand-made loop to look for the first unique letter. </p>

<pre><code>for "Perl Weekly Challenge", "Long Live Perl" -&gt; $test {
    my @let = $test.comb;
    my %h;      # histogram of letters
    %h{$_}++ for @let;
    say "$test: $_" and last if %h{@let[$_]} == 1 for 0..@let.end;
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ raku ./first_unique.raku
Perl Weekly Challenge: 0
Long Live Perl: 1
</code></pre>

<h3>First Unique Character in Perl</h3>

<p>The good thing of having used a plain-vanilla solution in Raku is that it can be ported directly to Perl (and other languages) with only small changes. We&#8217;re using a hash (the <code>%h</code> letter histogram) and an array (the <code>@let</code> array) in parallel, and a hand-made loop to look for the first unique letter.</p>

<pre><code>use strict;
use warnings;
use feature qw/say/;

for my $test ("Perl Weekly Challenge", "Long Live Perl") {
    my @let = split //, $test;
    my %h;
    $h{$_}++ for @let;
    for my $i (0..$#let) {
        say "$test: $i" and last if $h{$let[$i]} == 1;
    }
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ perl ./first_unique.pl
Perl Weekly Challenge: 0
Long Live Perl: 1
</code></pre>

<h3>First Unique Character in Julia</h3>

<p>Note, if you did not guess it, that the <code>only</code> function converts a one-letter string into a char. Also remember that Julia arrays start at index 1. The task asks us to provide the <em>0-based index</em> of the first unique character. This is unnatural in Julia, so we have to subtract 1 from the Julia index to get a o-based index. </p>

<pre><code>for test in [ "Perl Weekly Challenge", "Long Live Perl" ]
    histo = Dict()
    letters = split(test, "")
    for ch in test
        histo[ch] = if (haskey(histo, ch)) histo[ch]+1 else 1 end
    end
    for i in 1:length(letters)
        if (histo[only(letters[i])] == 1)
            println(test, ": ", i-1)
            break
        end
    end
end
</code></pre>

<p>Output:</p>

<pre><code>$ julia ./first_unique.jl
Perl Weekly Challenge: 0
Long Live Perl: 1
</code></pre>

<h2>Task 2: Trim List</h2>

<p><em>You are given list of numbers, <code>@n</code> and an integer <code>$i</code>.</em></p>

<p><em>Write a script to trim the given list where element is less than or equal to the given integer.</em></p>

<p><em>Example 1</em></p>

<pre><code>Input: @n = (1,4,2,3,5) and $i = 3
Output: (4,5)
</code></pre>

<p><em>Example 2</em></p>

<pre><code>Input: @n = (9,0,6,2,3,8,5) and $i = 4
Output: (9,6,8,5)
</code></pre>

<p>This is quite easy using the built-in <code>grep</code> function in Raku and Perl (or <code>filter</code> in Python or Scala).</p>

<h3>Trim List in Raku</h3>

<p>Rather than filtering out items which are less than or equal to the input integer, we keep numbers that are larger than the input integer.</p>

<pre><code>for [3, [1,4,2,3,5]], [4, [9,0,6,2,3,8,5]] -&gt; $test {
    my $i = $test[0];
    my @nums = |$test[1];
    say "i = $i; nums = @nums[] =&gt; ", grep { $_ &gt; $i }, @nums;
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ raku ./trim_list.raku
i = 3; nums = 1 4 2 3 5 =&gt; (4 5)
i = 4; nums = 9 0 6 2 3 8 5 =&gt; (9 6 8 5)
</code></pre>

<h3>Trim List in Perl</h3>

<pre><code>use strict;
use warnings;
use feature qw/say/;

for my $test ( [3, [1,4,2,3,5]], [4, [9,0,6,2,3,8,5]] ) {
    my $i = $test-&gt;[0];
    my @nums = @{$test-&gt;[1]};
    say "i = $i, nums = @nums =&gt; ", join " ", grep $_ &gt; $i, @nums;
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ perl ./trim_list.pl
i = 3, nums = 1 4 2 3 5 =&gt; 4 5
i = 4, nums = 9 0 6 2 3 8 5 =&gt; 9 6 8 5
</code></pre>

<h3>Trim List in Other languages</h3>

<p>The following is a series of implementations of the Trim List task in 14 guest manguages as follows:</p>

<ul>
<li>in Awk</li>
<li>in C</li>
<li>in D</li>
<li>in Java</li>
<li>in JavaScript</li>
<li>in Julia</li>
<li>in Go</li>
<li>in Kotlin</li>
<li>in Lua</li>
<li>in Pascal</li>
<li>in Python</li>
<li>in Ring</li>
<li>in Ruby</li>
<li>in Scala</li>
</ul>

<h4>Trim List in Awk</h4>

<p>Contrary to Raku and Perl, awk doesn&#8217;t have a <code>grep</code> or <code>filter</code> feature. So we implement a loop over the values and print out those that satisfy the condition. We&#8217;ll do that in several other languages. Also note that, since awk is essentially driven by external data, the data is passed by the shell to the awk script. On each line, the first item in the input integer to be compared the other values.</p>

<pre><code># run for example as:
# echo '3 1 4 2 3 5 
#      4 9 0 6 2 3 85 ' | awk -f trim_list.awk

{ 
    i = $1
    printf "Input = %-18s- i = %d   =&gt; result = ", $0, $1
    for (j = 2; j &lt;= NF; j++) {
        if ( $j &gt; i) {
            printf "%d ", $j
        }
    }
    print ""
}
</code></pre>

<p>Output:</p>

<pre><code>$ echo '3 1 4 2 3 5
4 9 0 6 2 3 8 5 ' | awk -f trim_list.awk
Input = 3 1 4 2 3 5       - i = 3   =&gt; result = 4 5
Input = 4 9 0 6 2 3 8 5   - i = 4   =&gt; result = 9 6 8 5
</code></pre>

<h4>Trim List in C</h4>

<p>C doesn&#8217;t have a built-in <code>grep</code> or <code>filter</code> feature. So we implement a loop over the values and print out those that satisfy the condition. On each test line, the first item in the input integer to be compared the other values.</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int main() {
    const char tests[2][10] = {
            { 3, 1, 4, 2, 3, 5 },
            { 4, 9, 0, 6, 2, 3, 8, 5 }
        };
    for (int j = 0; j &lt;=1; j++) {
        char test[10];
        memcpy(test, tests[j],  sizeof(tests[j]));
        int i = test[0];
        printf("i = %d; nums = ", i);
        /* printing input test array */
        for (char k = 1; k &lt; sizeof(test); k++) {
            printf("%d ", test[k]);
        }
        printf("  =&gt;  ");
        /* printing the result */
        for (char k = 1; k &lt; sizeof(test); k++) {
            if (test[k] &gt; i) {
                printf("%d ", test[k]);
            }
        }
        printf("%s\n", "");
    }
}
</code></pre>

<p>Output:</p>

<pre><code>$ ./a.out
i = 3; nums = 1 4 2 3 5 0 0 0 0   =&gt;  4 5
i = 4; nums = 9 0 6 2 3 8 5 0 0   =&gt;  9 6 8 5
</code></pre>

<h4>Trim List in D</h4>

<pre><code>import std.stdio;

void main() {
    int[][][] tests = [[[3], [1,4,2,3,5]], [[4], [9,0,6,2,3,8,5]]];
    foreach(test; tests) {
        int i = test[0][0];
        int[] nums = test[1];
        write(i, " ", nums, "  =&gt;  ");
        for (int j = 0; j &lt; nums.length; j++) {
            if (nums[j] &gt; i) {
                printf("%d ", nums[j]);
            }
        }
    writeln("");
    }
}
</code></pre>

<p>Output:</p>

<pre><code>3 [1, 4, 2, 3, 5]  =&gt;  4 5 
4 [9, 0, 6, 2, 3, 8, 5]  =&gt;  9 6 8 5
</code></pre>

<h4>Trim List in Java</h4>

<pre><code>import java.util.Arrays;

public class TrimList {
    private static final int[][][] tests =
        {{{3}, {1,4,2,3,5}}, {{4}, {9,0,6,2,3,8,5}}};
    public static void main(String[] args) {
        for (int j = 0; j &lt; tests.length; j++) {
            int i = tests[j][0][0];
            int[] nums = tests[j][1];
            System.out.printf("i = %d; nums = %s =&gt; ", 
                i, Arrays.toString(nums));
            for (int k = 0; k &lt; nums.length; k++) {
                if (nums[k] &gt; i) {
                    System.out.printf("%d ", nums[k]);
                }
            }
        System.out.printf("%s", "\n");
        }
    }
}
</code></pre>

<p>Output:</p>

<pre><code>i = 3; nums = [1, 4, 2, 3, 5] =&gt; 4 5 
i = 4; nums = [9, 0, 6, 2, 3, 8, 5] =&gt; 9 6 8 5
</code></pre>

<h4>Trim List in JavaScript</h4>

<pre><code>tests = [[[3], [1,4,2,3,5]], [[4], [9,0,6,2,3,8,5]]];
for(let j = 0; j &lt; tests.length; j++) {
    let i = tests[j][0][0]
    let nums = tests[j][1]
    process.stdout.write("i= " + i + " nums= " + nums + "  =&gt;  ")
    for (let k = 0; k &lt; nums.length; k++) {
        if ( nums[k] &gt; i) {
            process.stdout.write(nums[k] + " ")
        }
    }
    process.stdout.write("\n")
}
</code></pre>

<p>Output:</p>

<pre><code>i= 3 nums= 1,4,2,3,5  =&gt;  4 5 
i= 4 nums= 9,0,6,2,3,8,5  =&gt;  9 6 8 5
</code></pre>

<h4>Trim List in Julia</h4>

<p>In my humble opinion, Julia is the best language used in this blog post after Raku and Perl. Just consider how concise and clear this implementation is, compared to most other languages. And it has very nice functional programming capabilities (e.g. the <code>filter</code> built-in function below with its lambda). In addition, Julia runs fast. Its only drawback in my view is that the error messages emitted by the compiler or the runtime are really not clear (like most languages that compile to Java code).</p>

<pre><code>for test in [[3, [1,4,2,3,5]], [4, [9,0,6,2,3,8,5]]]
    i = test[1]
    nums = test[2]
    println( "i = $i, num = $nums =&gt; ", filter((x) -&gt; x &gt; i, nums))
end
</code></pre>

<p>Output:</p>

<pre><code>$ julia ./trim_list.jl
i = 3, num = [1, 4, 2, 3, 5]: [4, 5]
i = 4, num = [9, 0, 6, 2, 3, 8, 5]: [9, 6, 8, 5]
</code></pre>

<h4>Trim List in Go</h4>

<pre><code>package main

import "fmt"

func main() {
    tests := [2][2][8]int{{{3}, {1, 4, 2, 3, 5}}, 
                          {{4}, {9, 0, 6, 2, 3, 8, 5}}
                         }
    for j := 0; j &lt; len(tests); j++ {
        i := tests[j][0][0]
        fmt.Printf("i = %d; nums = ", i)
        nums := tests[j][1]
        fmt.Print(nums, "; =&gt; ")
        for k := 0; k &lt; len(nums); k++ {
            if nums[k] &gt; i {
                fmt.Printf("%d ", nums[k])
            }
        }
        fmt.Println("")
    }
}
</code></pre>

<p>Output:</p>

<pre><code>i = 3; nums = [1 4 2 3 5 0 0 0]; =&gt; 4 5 
i = 4; nums = [9 0 6 2 3 8 5 0]; =&gt; 9 6 8 5
</code></pre>

<h4>Trim List in Kotlin</h4>

<p>Declaring a multidimensional array in Kotlin is a pain in the neck (as well as in Scala, and it is even worse in Nim). Besides that, the implementation is quite straight forward.</p>

<pre><code>import java.util.Arrays

fun main() {
    val tests  = arrayOf(arrayOf(intArrayOf(3,), 
                                 intArrayOf(1,4,2,3,5)),
                         arrayOf(intArrayOf(4,), 
                                 intArrayOf(9,0,6,2,3,8,5))
                        )

    for (test in tests) {
        print(Arrays.deepToString(test) + "  =&gt;  ")
        var i = test[0][0]
        var nums = test[1];
        for (j in nums) {
            if (j &gt; i) {
                print(j.toString() + " ")
            }
        }
        println("")

    }
}
</code></pre>

<p>Output:</p>

<pre><code>[[3], [1, 4, 2, 3, 5]]  =&gt;  4 5 
[[4], [9, 0, 6, 2, 3, 8, 5]]  =&gt;  9 6 8 5
</code></pre>

<h4>Trim List in Lua</h4>

<pre><code>tests = {{{3}, {1,4,2,3,5}}, {{4}, {9,0,6,2,3,8,5}}}
for _, test in ipairs(tests) do
    local i = test[1][1]
    local nums = test[2]
    io.write("i= ", i, "; nums= ", table.concat(nums, " "), " =&gt; ")
    for _, j in ipairs(nums) do
        if j &gt; i then
            io.write(j, " ")
        end
    end
    print("")
end
</code></pre>

<p>Output:</p>

<pre><code>i= 3; nums= 1 4 2 3 5 =&gt; 4 5 
i= 4; nums= 9 0 6 2 3 8 5 =&gt; 9 6 8 5
</code></pre>

<h4>Trim List in Pascal</h4>

<p>In Pascal, since I declared the third dimension of the <code>tests</code> array to be <code>0..6</code>, I had to fill the empty slots with zeroes. If there is a better way, I do not know it (I learned and used Pascal about 33 years ago and almost did not use it since, please forgive my ignorance). It not, then it is a major weakness of the language. Otherwise, the syntax is a bit verbose, but very clear.</p>

<pre><code>program TrimList;

const tests : array[0..1,0..1,0..6] of integer =
    (((3,0,0,0,0,0,0), (1,4,2,3,5,0,0)), ((4,0,0,0,0,0,0), (9,0,6,2,3,8,5)));

var
    i, j, k: integer;
    nums: array of integer;

begin
    for j := 0 to length(tests) - 1 do
    begin
        i := tests[j][0][0];
        write('i = ', i, '; nums = ');
        nums := tests[j][1];
        for k := 0 to length(nums) - 1 do
        begin
            write(nums[k], ' ');
        end;
        write(' =&gt; ');
        for k := 0 to length(nums) - 1 do
        begin
            if nums[k] &gt; i then
                write(nums[k], ' ');
        end;
        writeln('')
    end;
end.
</code></pre>

<p>Output:</p>

<pre><code>i = 3; nums = 1 4 2 3 5 0 0  =&gt; 4 5 
i = 4; nums = 9 0 6 2 3 8 5  =&gt; 9 6 8 5
</code></pre>

<h4>Trim List in Python</h4>

<p>About 19 years ago, I took up Perl and stopped writing in Python (my favorite language for a few years at that point), because I felt Perl was superior. I still think so, but I must admit Python is fairly expressive and concise.</p>

<pre><code>for test in [3, [1,4,2,3,5]], [4, [9,0,6,2,3,8,5]]:
  i = test[0]
  nums = test[1]
  print(i, nums, " =&gt; ", list(filter(lambda n: n&gt;i, nums)))
</code></pre>

<p>Output:</p>

<pre><code>$ python3 ./trim_list.py
3 [1, 4, 2, 3, 5]  =&gt;  [4, 5]
4 [9, 0, 6, 2, 3, 8, 5]  =&gt;  [9, 6, 8, 5]
</code></pre>

<h4>Trim List in Ring</h4>

<pre><code>for test in [[3, [1,4,2,3,5]], [4, [9,0,6,2,3,8,5]]]
    i = test[1]
    nums = test[2]
    see "i = " + i + " ; nums = " 
    for j in nums
        see "" + j + " "
    next
    see " =&gt; "
    for j in nums
        if j &gt; i
            see "" + j + " "
        ok
    next
    see " " +nl
next
</code></pre>

<p>Output:</p>

<pre><code>$ ring  ./trim_list.ring
i = 3 ; nums = 1 4 2 3 5  =&gt; 4 5
i = 4 ; nums = 9 0 6 2 3 8 5  =&gt; 9 6 8 5
</code></pre>

<h4>Trim List in Ruby</h4>

<pre><code>for test in [ [3, [1,4,2,3,5]], [4, [9,0,6,2,3,8,5]] ]
    i = test[0]
    nums = test[1]
    print "i = #{i}, nums = #{nums} =&gt; ", nums.select {|n| n &gt; i}
    puts " "
end
</code></pre>

<p>Output:</p>

<pre><code>i = 3, nums = [1, 4, 2, 3, 5] =&gt; [4, 5] 
i = 4, nums = [9, 0, 6, 2, 3, 8, 5] =&gt; [9, 6, 8, 5]
</code></pre>

<h4>Trim List in Scala</h4>

<p>As I said above, declaring multidimensional arrays is a pain in the neck in Scala. And its typing system can be a straitjacket. It&#8217;s a pity because Scala has very nice features in terms of combining object-oriented and functional programming paradigms.</p>

<pre><code>object trimList extends App {
  val tests: List[List[List[Int]]] = List(
    List(List(3), List(1, 4, 2, 3, 5)),
    List(List(4), List(9, 0, 6, 2, 3, 8, 5))
  )
  for (test &lt;- tests) {
    val i = test(0)(0)
    val nums = test(1)
    print(s"i: $i, nums: " + nums.mkString(" "))
    println(" =&gt; " + nums.filter(_ &gt; i).mkString(" "))
  }
}
</code></pre>

<p>Output:</p>

<pre><code>i: 3, nums: 1 4 2 3 5 =&gt; 4 5
i: 4, nums: 9 0 6 2 3 8 5 =&gt; 9 6 8 5
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on September 11, 2022. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_6">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlancar.wordpress.com/2022/09/01/list-of-new-cpan-distributions-aug-2022/">List of new CPAN distributions – Aug 2022</a></h2>
<a href="https://perlancar.wordpress.com/" class="badge badge-primary" style="float: left">Perlancar</a>

              <p class="text-right"><small>Published by perlancar
 on Thursday 01 September 2022 03:01</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><table>
<tr>
<th>dist</th>
<th>author</th>
<th>first_version</th>
<th>latest_version</th>
<th>abstract</th>
</tr>
<tr>
<td><a href="https://metacpan.org/release/API-Octopart">API-Octopart</a></td>
<td><a href="https://metacpan.org/author/EWHEELER">EWHEELER</a></td>
<td>1.001</td>
<td>1.001</td>
<td>Simple inteface for querying part status across vendors at octopart.com.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Acme-CPANModules-WordListBundle-Proverbs">Acme-CPANModules-WordListBundle-Proverbs</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>All proverbs WordList modules (in all languages)</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Algorithm-Graphs-Reachable-Tiny">Algorithm-Graphs-Reachable-Tiny</a></td>
<td><a href="https://metacpan.org/author/AAHAZRED">AAHAZRED</a></td>
<td>0.01</td>
<td>0.03</td>
<td>Compute rechable nodes in a graph.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Alien-Build-Plugin-Fetch-HostAllowList">Alien-Build-Plugin-Fetch-HostAllowList</a></td>
<td><a href="https://metacpan.org/author/PLICEASE">PLICEASE</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Require that Alien::Build based aliens only fetch from an allow list of hosts</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Alien-Build-Plugin-Fetch-HostBlockList">Alien-Build-Plugin-Fetch-HostBlockList</a></td>
<td><a href="https://metacpan.org/author/PLICEASE">PLICEASE</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Reject any Alien::Build fetch requests going to hosts in the block list</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Alien-Libdogecoin">Alien-Libdogecoin</a></td>
<td><a href="https://metacpan.org/author/CHROMATIC">CHROMATIC</a></td>
<td>v0.1.1</td>
<td>v0.1.1.1</td>
<td>Discover or download and install libdogecoin</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-FontUtils">App-FontUtils</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Command-line utilities related fonts and font files</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-Games-Keno">App-Games-Keno</a></td>
<td><a href="https://metacpan.org/author/TYUPYRCML">TYUPYRCML</a></td>
<td>1.222380</td>
<td>1.222380</td>
<td>Plays Keno</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-InvestSim">App-InvestSim</a></td>
<td><a href="https://metacpan.org/author/MATHIAS">MATHIAS</a></td>
<td>v0.8.0</td>
<td>v1.0.1</td>
<td>Simulateur d&#039;investissement locatif</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-Keno">App-Keno</a></td>
<td><a href="https://metacpan.org/author/TYUPYRCML">TYUPYRCML</a></td>
<td>1.222380</td>
<td>1.222380</td>
<td>Plays Keno</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-Perl-Module-Examples">App-Perl-Module-Examples</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Tool for creating examples from Perl module POD documentation.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-Schema-Deploy">App-Schema-Deploy</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.02</td>
<td>Base class and script for Schema deploy.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bencher-Scenarios-Data-Walk-More">Bencher-Scenarios-Data-Walk-More</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Scenarios to benchmark Data::Walk::More</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bundle-DadaMail-IncludedInDistribution">Bundle-DadaMail-IncludedInDistribution</a></td>
<td><a href="https://metacpan.org/author/JJSIMONI">JJSIMONI</a></td>
<td>v0.0.1</td>
<td>v0.0.2</td>
<td>CPAN Bundle of modules used in Dada Mail that are included within the distribution.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Cache-CodeBlock">Cache-CodeBlock</a></td>
<td><a href="https://metacpan.org/author/LNATION">LNATION</a></td>
<td>0.01</td>
<td>0.02</td>
<td>caching via a code block</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Check-Fork">Check-Fork</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.03</td>
<td>Check fork functionality.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Check-Socket">Check-Socket</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.02</td>
<td>Check socket functionality.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Chemistry-File-CML">Chemistry-File-CML</a></td>
<td><a href="https://metacpan.org/author/MERKYS">MERKYS</a></td>
<td>0.10</td>
<td>0.11</td>
<td>CML reader</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/ControlBreak">ControlBreak</a></td>
<td><a href="https://metacpan.org/author/PUCKERING">PUCKERING</a></td>
<td>1.00</td>
<td>v0.22.243</td>
<td>Compare values during iteration to detect changes</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/CryptoTron-AddrTools">CryptoTron-AddrTools</a></td>
<td><a href="https://metacpan.org/author/ZTENRETEP">ZTENRETEP</a></td>
<td>0.01</td>
<td>0.05</td>
<td>Perl extension for blah blah blah</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Cucumber-Test-Release-Automation">Cucumber-Test-Release-Automation</a></td>
<td><a href="https://metacpan.org/author/CUKEBOT">CUKEBOT</a></td>
<td>0.0.0</td>
<td>v0.0.39</td>
<td>Dummy project for testing release automation</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Data-Sah-FilterBundle-Phone">Data-Sah-FilterBundle-Phone</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Sah filters related to phone numbers</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Date-Holidays-BQ">Date-Holidays-BQ</a></td>
<td><a href="https://metacpan.org/author/WATERKIP">WATERKIP</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Bonaire&#039;s official holidays</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Date-Holidays-US">Date-Holidays-US</a></td>
<td><a href="https://metacpan.org/author/MRDVT">MRDVT</a></td>
<td>0.01</td>
<td>0.02</td>
<td>Date::Holidays Adapter for US Federal holidays</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Devel-MAT-Tool-Future">Devel-MAT-Tool-Future</a></td>
<td><a href="https://metacpan.org/author/PEVANS">PEVANS</a></td>
<td>0.01</td>
<td>0.01</td>
<td>analyse Future logic</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/English-Name">English-Name</a></td>
<td><a href="https://metacpan.org/author/LEONT">LEONT</a></td>
<td>0.001</td>
<td>0.002</td>
<td>${^ENGLISH_NAME} for magic variables</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Feature-Compat-Class">Feature-Compat-Class</a></td>
<td><a href="https://metacpan.org/author/PEVANS">PEVANS</a></td>
<td>0.01</td>
<td>0.01</td>
<td>make class syntax available</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Finance-Libdogecoin">Finance-Libdogecoin</a></td>
<td><a href="https://metacpan.org/author/CHROMATIC">CHROMATIC</a></td>
<td>1.20220814.2215</td>
<td>1.20220815.1712</td>
<td>Use the libdogecoin shared library from Perl!</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Future-XS">Future-XS</a></td>
<td><a href="https://metacpan.org/author/PEVANS">PEVANS</a></td>
<td>0.01</td>
<td>0.03</td>
<td>experimental XS implementation of Future</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Glitch">Glitch</a></td>
<td><a href="https://metacpan.org/author/LNATION">LNATION</a></td>
<td>0.01</td>
<td>0.06</td>
<td>The great new Glitch!</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/HTTP-Curl">HTTP-Curl</a></td>
<td><a href="https://metacpan.org/author/KNI">KNI</a></td>
<td>1.03</td>
<td>1.04</td>
<td>HTTP interface for Net::Curl (clone HTTP::Any::Curl)</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/HV-Monitor">HV-Monitor</a></td>
<td><a href="https://metacpan.org/author/VVELOX">VVELOX</a></td>
<td>v0.0.1</td>
<td>v0.0.2</td>
<td>A generalized module for gathering stats for a hypervisor.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Hydrogen">Hydrogen</a></td>
<td><a href="https://metacpan.org/author/TOBYINK">TOBYINK</a></td>
<td>0.001</td>
<td>0.015</td>
<td>utilities for the simplest elements of Perl</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Iss-Ah-Predictor">Iss-Ah-Predictor</a></td>
<td><a href="https://metacpan.org/author/CHRISTOPH">CHRISTOPH</a></td>
<td>v0.1.0</td>
<td>v0.1.0</td>
<td>ISS AH Predictor</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Math-Permutation">Math-Permutation</a></td>
<td><a href="https://metacpan.org/author/CYFUNG">CYFUNG</a></td>
<td>0.01</td>
<td>0.01</td>
<td>pure Perl implementation of functions related to the permutations </td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Mojolicious-Plugin-Access">Mojolicious-Plugin-Access</a></td>
<td><a href="https://metacpan.org/author/CARELINE">CARELINE</a></td>
<td>0.001</td>
<td>0.002</td>
<td>Mojolicious::Plugin::Access Control remote ip access your App</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Mooish-AttributeBuilder">Mooish-AttributeBuilder</a></td>
<td><a href="https://metacpan.org/author/BRTASTIC">BRTASTIC</a></td>
<td>0.001</td>
<td>0.002</td>
<td>build Mooish attribute definitions with less boilerplate</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Net-HTTP2">Net-HTTP2</a></td>
<td><a href="https://metacpan.org/author/FELIPE">FELIPE</a></td>
<td>0.01_01</td>
<td>0.01_01</td>
<td>HTTP/2 in Perl, simplified.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Net-MBE">Net-MBE</a></td>
<td><a href="https://metacpan.org/author/ARTHAS">ARTHAS</a></td>
<td>0.2.0</td>
<td>0.2.2</td>
<td>Perl library to access Mailboxes Etc (MBE) online webservices</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Net-Wait">Net-Wait</a></td>
<td><a href="https://metacpan.org/author/JJATRIA">JJATRIA</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Wait on startup until the specified ports are listening</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Optimization-NSGAII">Optimization-NSGAII</a></td>
<td><a href="https://metacpan.org/author/DRUBINO">DRUBINO</a></td>
<td>0.01</td>
<td>0.01</td>
<td>non dominant sorting genetic algorithm for multi-objective optimization</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Perl-Critic-Policy-Modules-RequireExplicitPackage-ObjectPad">Perl-Critic-Policy-Modules-RequireExplicitPackage-ObjectPad</a></td>
<td><a href="https://metacpan.org/author/DERIV">DERIV</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Always make the package/Object::Pad class explicit.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Perl-Critic-Policy-Variables-ProhibitNumericNamesWithLeadingZero">Perl-Critic-Policy-Variables-ProhibitNumericNamesWithLeadingZero</a></td>
<td><a href="https://metacpan.org/author/WYANT">WYANT</a></td>
<td>0.001</td>
<td>0.002</td>
<td>Don&#039;t use numeric variable names with leading zeroes.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/PickLE">PickLE</a></td>
<td><a href="https://metacpan.org/author/NATHANPC">NATHANPC</a></td>
<td>v0.1.0</td>
<td>v0.1.0</td>
<td>An electronic component pick list application and file parser library.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Plack-App-GitHubPages-Faux">Plack-App-GitHubPages-Faux</a></td>
<td><a href="https://metacpan.org/author/PLICEASE">PLICEASE</a></td>
<td>0.02</td>
<td>0.02</td>
<td>PSGI app to test your GitHub Pages site</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Sah-Schemas-Re">Sah-Schemas-Re</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Various regular-expression schemas</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/ScalarTypes-NumericTypes">ScalarTypes-NumericTypes</a></td>
<td><a href="https://metacpan.org/author/ZTENRETEP">ZTENRETEP</a></td>
<td>0.01</td>
<td>0.11</td>
<td>Perl extension for identifyling special types of numbers</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Schema-Abstract">Schema-Abstract</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.03</td>
<td>Abstract class for Schema modules.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/TableDataBundle-Locale-JP-City">TableDataBundle-Locale-JP-City</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Collection of TableData:: modules that contain list of cities in Japan</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Term-ANSIColor-Concise">Term-ANSIColor-Concise</a></td>
<td><a href="https://metacpan.org/author/UTASHIRO">UTASHIRO</a></td>
<td>2.00_03</td>
<td>2.01</td>
<td>Produce ANSI terminal sequence by concise notation</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Terminal-Control">Terminal-Control</a></td>
<td><a href="https://metacpan.org/author/ZTENRETEP">ZTENRETEP</a></td>
<td>0.01</td>
<td>0.06</td>
<td>Perl extension for terminal control</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Test-Pod-CoverageChange">Test-Pod-CoverageChange</a></td>
<td><a href="https://metacpan.org/author/BINARY">BINARY</a></td>
<td>0.002</td>
<td>0.003</td>
<td>Test Perl files for POD coverage and syntax changes</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Test-Sah-Filter">Test-Sah-Filter</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Test Data::Sah::Filter::* modules in distribution</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Voo">Voo</a></td>
<td><a href="https://metacpan.org/author/ECARROLL">ECARROLL</a></td>
<td>42.42</td>
<td>42.43</td>
<td>Run functions at compile time, not runtime!</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/WebService-eBay">WebService-eBay</a></td>
<td><a href="https://metacpan.org/author/TYUPYRCML">TYUPYRCML</a></td>
<td>0.001</td>
<td>0.005</td>
<td>Interface with the eBay API</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/XML-LibXML-xmlsec">XML-LibXML-xmlsec</a></td>
<td><a href="https://metacpan.org/author/ESTRELOW">ESTRELOW</a></td>
<td>0.01</td>
<td>0.03</td>
<td>XML signing/encription using xmlsec library</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/XML-LibXMLSec">XML-LibXMLSec</a></td>
<td><a href="https://metacpan.org/author/DAKKAR">DAKKAR</a></td>
<td>0.010</td>
<td>0.010</td>
<td>bindings to some of xmlsec1</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/XML-XPath-Helper-String">XML-XPath-Helper-String</a></td>
<td><a href="https://metacpan.org/author/AAHAZRED">AAHAZRED</a></td>
<td>0.01</td>
<td>1.01</td>
<td>Helper functions for xpath expression</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/app-paperback">app-paperback</a></td>
<td><a href="https://metacpan.org/author/MONACCI">MONACCI</a></td>
<td>0</td>
<td>1.11</td>
<td>imposition of PDF pages for signature printing and bounding</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/perl-Test-Pod-CoverageChange">perl-Test-Pod-CoverageChange</a></td>
<td><a href="https://metacpan.org/author/DERIV">DERIV</a></td>
<td>0.002</td>
<td>0.002</td>
<td>Test Perl files for POD coverage and syntax changes</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/perl-app-paperback">perl-app-paperback</a></td>
<td><a href="https://metacpan.org/author/MONACCI">MONACCI</a></td>
<td>0.33</td>
<td>0.33</td>
<td>imposition of PDF pages for signature printing and bounding</td>
</tr>
</table>
<h3>Stats</h3>
<p>Number of new CPAN distributions this period: <b>61</b></p>
<p>Number of authors releasing new CPAN distributions this period: <b>38</b></p>
<p>Authors by number of new CPAN distributions this period: </p>
<table>
<tr>
<th>No</th>
<th>Author</th>
<th>Distributions</th>
</tr>
<tr>
<td>1</td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>7</td>
</tr>
<tr>
<td>2</td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>5</td>
</tr>
<tr>
<td>3</td>
<td><a href="https://metacpan.org/author/TYUPYRCML">TYUPYRCML</a></td>
<td>3</td>
</tr>
<tr>
<td>4</td>
<td><a href="https://metacpan.org/author/PEVANS">PEVANS</a></td>
<td>3</td>
</tr>
<tr>
<td>5</td>
<td><a href="https://metacpan.org/author/ZTENRETEP">ZTENRETEP</a></td>
<td>3</td>
</tr>
<tr>
<td>6</td>
<td><a href="https://metacpan.org/author/PLICEASE">PLICEASE</a></td>
<td>3</td>
</tr>
<tr>
<td>7</td>
<td><a href="https://metacpan.org/author/DERIV">DERIV</a></td>
<td>2</td>
</tr>
<tr>
<td>8</td>
<td><a href="https://metacpan.org/author/LNATION">LNATION</a></td>
<td>2</td>
</tr>
<tr>
<td>9</td>
<td><a href="https://metacpan.org/author/AAHAZRED">AAHAZRED</a></td>
<td>2</td>
</tr>
<tr>
<td>10</td>
<td><a href="https://metacpan.org/author/MONACCI">MONACCI</a></td>
<td>2</td>
</tr>
<tr>
<td>11</td>
<td><a href="https://metacpan.org/author/CHROMATIC">CHROMATIC</a></td>
<td>2</td>
</tr>
<tr>
<td>12</td>
<td><a href="https://metacpan.org/author/MERKYS">MERKYS</a></td>
<td>1</td>
</tr>
<tr>
<td>13</td>
<td><a href="https://metacpan.org/author/TOBYINK">TOBYINK</a></td>
<td>1</td>
</tr>
<tr>
<td>14</td>
<td><a href="https://metacpan.org/author/ECARROLL">ECARROLL</a></td>
<td>1</td>
</tr>
<tr>
<td>15</td>
<td><a href="https://metacpan.org/author/JJSIMONI">JJSIMONI</a></td>
<td>1</td>
</tr>
<tr>
<td>16</td>
<td><a href="https://metacpan.org/author/MATHIAS">MATHIAS</a></td>
<td>1</td>
</tr>
<tr>
<td>17</td>
<td><a href="https://metacpan.org/author/UTASHIRO">UTASHIRO</a></td>
<td>1</td>
</tr>
<tr>
<td>18</td>
<td><a href="https://metacpan.org/author/JJATRIA">JJATRIA</a></td>
<td>1</td>
</tr>
<tr>
<td>19</td>
<td><a href="https://metacpan.org/author/NATHANPC">NATHANPC</a></td>
<td>1</td>
</tr>
<tr>
<td>20</td>
<td><a href="https://metacpan.org/author/KNI">KNI</a></td>
<td>1</td>
</tr>
<tr>
<td>21</td>
<td><a href="https://metacpan.org/author/WYANT">WYANT</a></td>
<td>1</td>
</tr>
<tr>
<td>22</td>
<td><a href="https://metacpan.org/author/EWHEELER">EWHEELER</a></td>
<td>1</td>
</tr>
<tr>
<td>23</td>
<td><a href="https://metacpan.org/author/ESTRELOW">ESTRELOW</a></td>
<td>1</td>
</tr>
<tr>
<td>24</td>
<td><a href="https://metacpan.org/author/CHRISTOPH">CHRISTOPH</a></td>
<td>1</td>
</tr>
<tr>
<td>25</td>
<td><a href="https://metacpan.org/author/FELIPE">FELIPE</a></td>
<td>1</td>
</tr>
<tr>
<td>26</td>
<td><a href="https://metacpan.org/author/DRUBINO">DRUBINO</a></td>
<td>1</td>
</tr>
<tr>
<td>27</td>
<td><a href="https://metacpan.org/author/CYFUNG">CYFUNG</a></td>
<td>1</td>
</tr>
<tr>
<td>28</td>
<td><a href="https://metacpan.org/author/WATERKIP">WATERKIP</a></td>
<td>1</td>
</tr>
<tr>
<td>29</td>
<td><a href="https://metacpan.org/author/PUCKERING">PUCKERING</a></td>
<td>1</td>
</tr>
<tr>
<td>30</td>
<td><a href="https://metacpan.org/author/MRDVT">MRDVT</a></td>
<td>1</td>
</tr>
<tr>
<td>31</td>
<td><a href="https://metacpan.org/author/LEONT">LEONT</a></td>
<td>1</td>
</tr>
<tr>
<td>32</td>
<td><a href="https://metacpan.org/author/CARELINE">CARELINE</a></td>
<td>1</td>
</tr>
<tr>
<td>33</td>
<td><a href="https://metacpan.org/author/CUKEBOT">CUKEBOT</a></td>
<td>1</td>
</tr>
<tr>
<td>34</td>
<td><a href="https://metacpan.org/author/DAKKAR">DAKKAR</a></td>
<td>1</td>
</tr>
<tr>
<td>35</td>
<td><a href="https://metacpan.org/author/BINARY">BINARY</a></td>
<td>1</td>
</tr>
<tr>
<td>36</td>
<td><a href="https://metacpan.org/author/ARTHAS">ARTHAS</a></td>
<td>1</td>
</tr>
<tr>
<td>37</td>
<td><a href="https://metacpan.org/author/VVELOX">VVELOX</a></td>
<td>1</td>
</tr>
<tr>
<td>38</td>
<td><a href="https://metacpan.org/author/BRTASTIC">BRTASTIC</a></td>
<td>1</td>
</tr>
</table>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_7">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/marcosrobertosilva/solving-bin-packing-problem-using-perl-and-neos-server-k75">Solving Bin Packing Problem using Perl and NEOS Server</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Marcos Roberto Silva
 on Thursday 01 September 2022 01:17</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>The bin packing problem is an optimization problem, in which items of different sizes must be packed into a finite number of bins or containers, each of a fixed given capacity, in a way that minimizes the number of bins used. The problem has many applications, such as filling up containers, loading trucks with weight capacity constraints, creating file backups in media and technology mapping in FPGA semiconductor chip design. Source: <a href="https://en.wikipedia.org/wiki/Bin_packing_problem">Wikipedia</a></p>

<p>Here we demonstrate the use of Perl programming language to model and solve a small instance of the bin packing problem using <a href="https://www.ibm.com/analytics/cplex-optimizer">CPLEX</a> as a solver engine, via NEOS Server service.</p>

<p>The <strong>NEOS Server</strong> is a free internet-based service for solving numerical optimisation problems. Hosted by the Wisconsin Institute for Discovery at the University of Wisconsin in Madison, the NEOS Server provides access to more than 60 state-of-the-art solvers in more than a dozen optimisation categories. Solvers hosted by the University of Wisconsin in Madison run on distributed high-performance machines enabled by the HTCondor software; remote solvers run on machines at Arizona State University, the University of Klagenfurt in Austria, and the University of Minho in Portugal. Source: <a href="https://neos-server.org/neos/">NEOS Server website</a></p>

<p><iframe width="710" height="399" src="https://www.youtube.com/embed/XfSZqIPHcq8">
</iframe>
</p>

<h2>
  
  
  NEOS Server and Perl
</h2>

<p>To the best of my knowledge, there is no module or interface available for NEOS Server in Perl, but since it's possible to interface NEOS Server using XML-RPC, below the function developed to submit optimisation problems:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">sub </span><span class="nf">solve_model_using_neos</span>
<span class="p">{</span>
    <span class="k">my</span> <span class="nv">$xml_job</span> <span class="o">=</span> <span class="vg">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="k">my</span> <span class="nv">$neos</span> <span class="o">=</span> <span class="nn">XML::</span><span class="nv">RPC</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">('</span><span class="s1">https://neos-server.org:3333</span><span class="p">');</span>

    <span class="k">my</span> <span class="nv">$alive</span> <span class="o">=</span> <span class="nv">$neos</span><span class="o">-&gt;</span><span class="nv">call</span><span class="p">(</span> <span class="p">'</span><span class="s1">ping</span><span class="p">',</span> <span class="p">);</span>
    <span class="nb">die</span> <span class="p">"</span><span class="s2">Error: Neos Server not available!</span><span class="p">"</span> <span class="k">if</span> <span class="nv">$alive</span> <span class="o">!~</span> <span class="p">"</span><span class="s2">NeosServer is alive</span><span class="p">";</span>

    <span class="c1"># submit job for solution</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$job_number</span><span class="p">,</span> <span class="nv">$job_pwd</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@</span><span class="p">{</span> <span class="nv">$neos</span><span class="o">-&gt;</span><span class="nv">call</span><span class="p">('</span><span class="s1">submitJob</span><span class="p">',</span> <span class="nv">$xml_job</span><span class="p">)</span> <span class="p">};</span>

    <span class="c1"># Get the job status</span>
    <span class="k">my</span> <span class="nv">$job_status</span> <span class="o">=</span> <span class="nv">$neos</span><span class="o">-&gt;</span><span class="nv">call</span><span class="p">('</span><span class="s1">getJobStatus</span><span class="p">',</span> <span class="p">(</span><span class="nv">$job_number</span><span class="p">,</span> <span class="nv">$job_pwd</span><span class="p">));</span>
    <span class="k">print</span> <span class="p">"</span><span class="s2">Status: </span><span class="si">$job_status</span><span class="se">\n</span><span class="p">";</span>

    <span class="c1"># Possible status: "Done", "Running", "Waiting", "Unknown Job", or "Bad Password"</span>
    <span class="k">my</span> <span class="nv">@valid_status</span> <span class="o">=</span> <span class="p">('</span><span class="s1">Done</span><span class="p">',</span> <span class="p">'</span><span class="s1">Unknown Job</span><span class="p">',</span> <span class="p">'</span><span class="s1">Bad Password</span><span class="p">');</span>
    <span class="k">while</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">grep</span><span class="p">(</span> <span class="sr">/^$job_status$/</span><span class="p">,</span> <span class="nv">@valid_status</span> <span class="p">)</span> <span class="p">)</span> 
    <span class="p">{</span>
        <span class="nv">$job_status</span> <span class="o">=</span> <span class="nv">$neos</span><span class="o">-&gt;</span><span class="nv">call</span><span class="p">('</span><span class="s1">getJobStatus</span><span class="p">',</span> <span class="p">(</span><span class="nv">$job_number</span><span class="p">,</span> <span class="nv">$job_pwd</span><span class="p">));</span>
        <span class="k">print</span> <span class="p">"</span><span class="s2">Job: </span><span class="si">$job_number</span><span class="s2"> =&gt; status: </span><span class="si">$job_status</span><span class="se">\n</span><span class="p">";</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">(</span><span class="nv">$job_number</span><span class="p">,</span> <span class="nv">$job_pwd</span><span class="p">,</span> <span class="nv">$job_status</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

</div>



<p>This function receives as an argument a xml string with some parameters that can be passed together with the model, and returns the job id, password and the status of the submission. The job id and password are necessary for all subsequent operations, such as, downloading the results for example.</p>

<p>More details about the syntax can be seen in the <a href="https://neos-server.org/neos/solvers/milp:CPLEX/LP.html">NEOS Server web interface</a>, where it's possible also to do a "dry run" and generate only the xml file for analysis.</p>

<p>The model itself was developed in CPLEX LP file format, that is a simple text file where you can write mathematical equations directly, such as the objective function and constraints that are part of the model. The rules to create a CPLEX LP file format can be seen for example in <a href="http://lpsolve.sourceforge.net/5.0/CPLEX-format.htm">this link</a>.</p>

<h2>
  
  
  Example model
</h2>



<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="c1"># Given a set of items I = {1,...,m} with weight w[i] &gt; 0, </span>
<span class="c1"># the Bin Packing Problem (BPP) is to pack the items into </span>
<span class="c1"># bins of capacity c in such a way that the number of bins </span>
<span class="c1"># used is minimal.</span>
<span class="c1">#</span>
<span class="c1"># Extracted from GLPK distribution (https://www.gnu.org/software/glpk/)</span>
<span class="c1"># Inspired in GNU MathProg version developed by Andrew Makhorin &lt;mao@gnu.org&gt;</span>
<span class="k">sub </span><span class="nf">generate_bin_packing_problem</span>
<span class="p">{</span>
    <span class="k">my</span> <span class="nv">$c</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1"># capacity of each bin</span>
    <span class="k">my</span> <span class="nv">$m</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>   <span class="c1"># number of items to pack (6 items)</span>

    <span class="c1"># weight of each item.</span>
    <span class="k">my</span> <span class="nv">%w</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">2</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">4</span> <span class="o">=&gt;</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">5</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">6</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="p">);</span>

    <span class="c1"># - "greedy" estimation of the upper bound in terms of </span>
    <span class="c1"># the number of bins needed</span>
    <span class="k">my</span> <span class="nv">$accum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">$n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1"># upper bound of the number of bins needed.</span>
    <span class="k">foreach</span> <span class="k">my</span> <span class="nv">$item</span> <span class="p">(</span><span class="nb">keys</span> <span class="nv">%w</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$accum</span> <span class="o">+</span> <span class="nv">$w</span><span class="p">{</span><span class="nv">$item</span><span class="p">}</span> <span class="o">&gt;</span> <span class="nv">$c</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nv">$accum</span> <span class="o">=</span> <span class="nv">$w</span><span class="p">{</span><span class="nv">$item</span><span class="p">};</span>
            <span class="nv">$n</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nv">$accum</span> <span class="o">+=</span> <span class="nv">$w</span><span class="p">{</span><span class="nv">$item</span><span class="p">};</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1"># Create objective function</span>
    <span class="c1"># Minimize the number of used bins</span>
    <span class="k">my</span> <span class="nv">$model</span> <span class="o">=</span> <span class="p">"</span><span class="s2">Minimize</span><span class="se">\n</span><span class="p">";</span>
    <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> obj:</span><span class="p">";</span>
    <span class="k">for</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="nv">$n</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> + used(</span><span class="si">$_</span><span class="s2">)</span><span class="p">";</span>
    <span class="p">}</span>
    <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="se">\n</span><span class="p">";</span>
    <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2">Subject To</span><span class="se">\n</span><span class="p">";</span>

    <span class="c1"># Each item must be inserted in one bin</span>
    <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$item</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$item</span> <span class="o">&lt;=</span> <span class="nv">$m</span><span class="p">;</span> <span class="nv">$item</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> one(</span><span class="si">$item</span><span class="s2">):</span><span class="p">";</span>
        <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$bin</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$bin</span> <span class="o">&lt;=</span> <span class="nv">$n</span><span class="p">;</span> <span class="nv">$bin</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> + x(</span><span class="si">$item</span><span class="s2">,</span><span class="si">$bin</span><span class="s2">)</span><span class="p">";</span>
        <span class="p">}</span>
        <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> = 1</span><span class="se">\n</span><span class="p">";</span>
    <span class="p">}</span>

    <span class="c1"># Constraint:</span>
    <span class="c1"># Respect the capacity of each bin, i.e., the sum of</span>
    <span class="c1"># the weight put in each bin must be lower than or </span>
    <span class="c1"># equal to the bin capacity.</span>
    <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$bin</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$bin</span> <span class="o">&lt;=</span> <span class="nv">$n</span><span class="p">;</span> <span class="nv">$bin</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> lim(</span><span class="si">$bin</span><span class="s2">):</span><span class="p">";</span>
        <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$item</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$item</span> <span class="o">&lt;=</span> <span class="nv">$m</span><span class="p">;</span> <span class="nv">$item</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> + </span><span class="si">$w</span><span class="s2">{</span><span class="si">$item</span><span class="s2">} x(</span><span class="si">$item</span><span class="s2">,</span><span class="si">$bin</span><span class="s2">)</span><span class="p">";</span>
        <span class="p">}</span>
        <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> - </span><span class="si">$c</span><span class="s2"> used(</span><span class="si">$bin</span><span class="s2">) &lt;= 0</span><span class="se">\n</span><span class="p">";</span>
    <span class="p">}</span>

    <span class="c1"># Constraint:</span>
    <span class="c1"># Define the bounds for each variable, in this case, </span>
    <span class="c1"># all variables are binary, with lower bound equals </span>
    <span class="c1"># to 0 and upper bound equals to 1.</span>
    <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="se">\n</span><span class="s2">Bounds</span><span class="se">\n</span><span class="p">";</span>
    <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$bin</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$bin</span> <span class="o">&lt;=</span> <span class="nv">$n</span><span class="p">;</span> <span class="nv">$bin</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> 0 &lt;= used(</span><span class="si">$bin</span><span class="s2">) &lt;= 1</span><span class="se">\n</span><span class="p">";</span>
        <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$item</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$item</span> <span class="o">&lt;=</span> <span class="nv">$m</span><span class="p">;</span> <span class="nv">$item</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> 0 &lt;= x(</span><span class="si">$item</span><span class="s2">,</span><span class="si">$bin</span><span class="s2">) &lt;= 1</span><span class="se">\n</span><span class="p">";</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1"># Constraint:</span>
    <span class="c1"># Explicitly say to the solvers that the variables </span>
    <span class="c1"># are integers, i.e., no factional value is allowed.</span>
    <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="se">\n</span><span class="s2">Generals</span><span class="se">\n</span><span class="p">";</span>
    <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$bin</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$bin</span> <span class="o">&lt;=</span> <span class="nv">$n</span><span class="p">;</span> <span class="nv">$bin</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> used(</span><span class="si">$bin</span><span class="s2">)</span><span class="se">\n</span><span class="p">";</span>
        <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$item</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$item</span> <span class="o">&lt;=</span> <span class="nv">$m</span><span class="p">;</span> <span class="nv">$item</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nv">$model</span> <span class="o">.=</span> <span class="p">"</span><span class="s2"> x(</span><span class="si">$item</span><span class="s2">,</span><span class="si">$bin</span><span class="s2">)</span><span class="se">\n</span><span class="p">";</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$model</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

</div>



<p>The entire code has around 200 lines and is available in <a href="https://github.com/marcosrobertosilva/bpp-neos-perl">this</a> github repository.</p>

<p>To summarise, this code: (i) generates the optimization problem, (ii) create the xml string for submission in NEOS Server, (iii) download CPLEX log and the results, (iv) parse the result obtained in XML format, and print in console the value of the variables together with the status returned by CPLEX.</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_8">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/579.html">#579 - Looking for that motivation</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 29 August 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there!</p>
<p><a href="https://perlweekly.com/archive/577.html">Last time</a> I mentioned the numbers I collect with the number of visitors to CPAN and I was wondering about the increased activity starting in August 2011. I got a few comments in email and some on <a href="https://www.reddit.com/r/perl/comments/wosxyi/perl_weekly_issue_577_optimism_and_numbers/">Reddit</a>.</p>
<p>Probably the best explanation is what I received from Neil Bowers:</p>
<p>Have a look at the <a href="https://neilb.org/2022/02/07/cpan-report-2022.html">CPAN report I did in February</a>. If you look at the new user signups, you'll see a jump in 2012, and also looking at that chart you'll see that 2012, 2013, and 2014 seem to buck a trend.</p>
<p>In 2012 Intermediate Perl was released, which told the reader to sign up for a PAUSE account and release a test module. If I remember right, brian d foy ran a tutorial at YAPC::NA the previous year, where he also got people to sign up (not sure if the tutorial was 2011 or 2012). We had the first CPAN Day in 2014, which also resulted in a big bump in CPAN releases. That may have helped 2014 stay up above the trend.</p>
<p>The question now, what could be a new motivation to increase activity and if there could be one that is sustainable?</p>
<p>Enjoy your week!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_9">
            <div class="card-header">
              <h2 class="card-title"><a href="https://theweeklychallenge.org/blog/review-challenge-173/">Colin Crain › Perl Weekly Review #173</a></h2>
<a href="https://theweeklychallenge.org/blog/" class="badge badge-primary" style="float: left">The Weekly Challenge</a>

              <p class="text-right"><small>Published
 on Monday 29 August 2022 00:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">( &hellip;continues from previous week. )
Welcome to the Perl review pages for Week 173 of The Weekly Challenge! Here we will take the time to discuss the submissions offered up by the team, factor out some common methodologies that came up in those solutions, and highlight some of the unique approaches and unusual code created.
 ●︎ Why do we do these challenges? I suppose any reasonable answer to that question would come from a field as wide ranging and varied as the people who choose to join the team.       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_10">
            <div class="card-header">
              <h2 class="card-title"><a href="https://theweeklychallenge.org/blog/recap-challenge-179/">RECAP - The Weekly Challenge - 179</a></h2>
<a href="https://theweeklychallenge.org/blog/" class="badge badge-primary" style="float: left">The Weekly Challenge</a>

              <p class="text-right"><small>Published
 on Monday 29 August 2022 00:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">TABLE OF CONTENTS  01. HEADLINES 02. STAR CONTRIBUTORS 03. CONTRIBUTION STATS 04. GUESTS 05. LANGUAGES 06. CENTURION CLUB 07. DAMIAN CONWAY&rsquo;s CORNER 08. ANDREW SHITOV&rsquo;s CORNER 09. PERL SOLUTIONS 10. RAKU SOLUTIONS 11. PERL &amp; RAKU SOLUTIONS HEADLINES  Thank you Team PWC for your continuous support and encouragement.
STAR CONTRIBUTORS  Following members shared solutions to both tasks in Perl and Raku as well as blogged about it.       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_11">
            <div class="card-header">
              <h2 class="card-title"><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-180/">The Weekly Challenge - 180</a></h2>
<a href="https://theweeklychallenge.org/blog/" class="badge badge-primary" style="float: left">The Weekly Challenge</a>

              <p class="text-right"><small>Published
 on Monday 29 August 2022 00:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">TABLE OF CONTENTS  01. HEADLINES 02. SPONSOR 03. RECAP 04. PERL REVIEW 05. RAKU REVIEW 06. CHART 07. NEW MEMBERS 08. GUESTS 09. TASK #1: First Unique Character 10. TASK #2: Trim List HEADLINES  Welcome to Week #180 of the weekly challenge.
Today, we are giving away Token #3 to Robert DiCicco for the book, Learning Perl Exercises by brian d foy. I will share the details with you in a separate email.       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_12">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2022/08/perl-weekly-challenge-179-ordinal-numbers-and-unicode-sparkline.html">Perl Weekly Challenge 179: Ordinal Numbers and Unicode Sparkline</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Sunday 28 August 2022 20:28</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 179 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-179/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few of days from now (on Aug. 28, 2022 at 23:59). This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: Ordinal Number Spelling</h2>

<p><em>You are given a positive number, <code>$n</code>.</em></p>

<p><em>Write a script to spell the ordinal number.</em></p>

<p><em>For example,</em></p>

<pre><code>11 =&gt; eleventh
62 =&gt; sixty-second
99 =&gt; ninety-ninth
</code></pre>

<p>Hum, this task is not very interesting, since it has more to do with English than with computer science. I&#8217;m not going to enumerate dozens of numeral or ordinal English names. So, contrary to what I usually do, I&#8217;ll use an off-the-shelf module to complete this task.</p>

<h3>Ordinal Number Spelling in Raku</h3>

<p>Here, we use the <code>Lingua::EN::Numbers</code> Raku module:</p>

<pre><code>use Lingua::EN::Numbers;

for 11, 62, 99 -&gt; $num {
    say "$num =&gt; ", ordinal($num);
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ raku ./ordinal_numbers.raku
11 =&gt; eleventh
62 =&gt; sixty-second
99 =&gt; ninety-ninth
</code></pre>

<h3>Ordinal Number Spelling in Perl</h3>

<p>The Perl module we&#8217;re going to use is also called <code>Lingua::EN::Numbers</code>, but it&#8217;s not the same package as the Raku module used above.</p>

<pre><code>use strict;
use warnings;
use feature qw/say/;

use Lingua::EN::Numbers qw/num2en_ordinal/;

for my $num (11, 62, 99) {
    say "$num =&gt; ", ordinal($num);
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ perl ./ordinal_numbers.pl
11 =&gt; eleventh
62 =&gt; sixty-second
99 =&gt; ninety-ninth
</code></pre>

<h2>Task 2: Unicode Sparkline</h2>

<p><em>You are given a list of positive numbers, <code>@n</code>.</em></p>

<p><em>Write a script to print sparkline in Unicode for the given list of numbers.</em></p>

<p>Here, I regret to have to say that my friend Mohammad has been a bit sloppy, since he did not explain anything about sparklines (I had never heard about sparklines before). A sparkline is a very small graph of successive values laid out horizontally where the height of the line is proportional to the values in succession. See this <a href="https://en.wikipedia.org/wiki/Sparkline">Wikipedia Page</a> for additional information.</p>

<p>The <a href="https://www.rosettacode.org/wiki/Sparkline_in_unicode">Rosetta Code Web site</a> provides additional information about Unicode sparklines:</p>

<blockquote>
  <p>Use the following series of Unicode characters to create a program that takes a series of numbers separated by one or more whitespace or comma characters and generates a sparkline-type bar graph of the values on a single line of output.</p>

<p>The eight characters: &#8216;▁▂▃▄▅▆▇█&#8217; (Unicode values U+2581 through U+2588). </p>
</blockquote>

<p>We have eight Unicode characters of growing size, so the problem essentially boils down to scaling the input sequence to eight steps.</p>

<h3>Unicode Sparkline in Raku</h3>

<pre><code>my @bars = map {.chr}, 0x2581 .. 0x2588;
for &lt; 2 4 6 8 10 12 10 8 6 4 2&gt;, &lt;0 1 19 20&gt;, 
    &lt;0 999 4000 4999 7000 7999&gt; -&gt; @test {
    my ($min, $max) = @test.minmax[0,*-1];
    say "@test[]; min: $min; max: $max.";
    say join '', @bars[ map { @bars * ($_ - $min) / ($max - $min) min @bars.end }, @test], "\n";
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ raku ./sparkline.raku
2 4 6 8 10 12 10 8 6 4 2; min: 2; max: 12.
▁▂▄▅▇█▇▅▄▂▁

0 1 19 20; min: 0; max: 20.
▁▁██

0 999 4000 4999 7000 7999; min: 0; max: 7999.
▁▁▅▅██
</code></pre>

<h3>Unicode Sparkline in Perl</h3>

<pre><code>use strict;
use warnings;
use feature qw/say/;

binmode(STDOUT, ":utf8");
my @bars = map chr, 0x2581 .. 0x2588;

for my $test ([&lt; 2 4 6 8 10 12 10 8 6 4 2&gt;], 
    [&lt;0 1 19 20&gt;], [&lt;0 999 4000 4999 7000 7999&gt;]) {
    my @test = @$test;
    my ($min, $max) = (sort {$a &lt;=&gt; $b} @$test)[0, $#test];
    my $out = "";
    for my $item (@test) {
        my $h = @bars * ($item - $min) / ($max - $min);
        $h = $#bars if $h &gt; $#bars;
        $out .= $bars[int($h)];
    }
    say "@test; min: $min; max: $max.";
    say $out, "\n";
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ perl sparkline.pl
2 4 6 8 10 12 10 8 6 4 2; min: 2; max: 12.
▁▂▄▅▇█▇▅▄▂▁

0 1 19 20; min: 0; max: 20.
▁▁██

0 999 4000 4999 7000 7999; min: 0; max: 7999.
▁▁▅▅██
</code></pre>

<h3>Unicode Sparkline in Julia</h3>

<pre><code>function sparkline(test)
    bars = '\u2581':'\u2588'
    bar_count = length(bars)
    min, max = extrema(test)
    out = ""
    for item in test
        h = 1 + bar_count * (item - min) / (max - min)
        h &gt; bar_count &amp;&amp; (h = bar_count)
        out = out * string(bars[Int(floor(h))])
    end
    return out * "\n"
end

tests = [ [2, 4, 6, 8, 10, 12, 10, 8, 6, 4, 2],
    [0, 1, 19, 20], [0, 999, 4000, 4999, 7000, 7999] ]
for test in tests
    println(test, "\n")
    println( sparkline(test))
end
</code></pre>

<p>Output:</p>

<pre><code>$ julia ./sparkline.jl
[2, 4, 6, 8, 10, 12, 10, 8, 6, 4, 2]

▁▂▄▅▇█▇▅▄▂▁

[0, 1, 19, 20]

▁▁██

[0, 999, 4000, 4999, 7000, 7999]

▁▁▅▅██
</code></pre>

<h3>Unicode Sparkline in Python</h3>

<pre><code>def sparkline(test):
  bars = [chr(bar) for bar in range(9601, 9608+1)]
  minim = min(test)
  maxim = max(test)
  scale = maxim - minim
  length = len(bars)
  line = ""
  for item in test:
    line += bars[min(int((item-minim) / scale * length), length - 1)]
  return line

tests = [ [2, 4, 6, 8, 10, 12, 10, 8, 6, 4, 2], \
  [0, 1, 19, 20], [0, 999, 4000, 4999, 7000, 7999] ]

for test in tests:
  print(test)
  print(sparkline(test), "\n")
</code></pre>

<p>Output:</p>

<pre><code>$ python3 sparkline.py
[2, 4, 6, 8, 10, 12, 10, 8, 6, 4, 2]
▁▂▄▅▇█▇▅▄▂▁

[0, 1, 19, 20]
▁▁██

[0, 999, 4000, 4999, 7000, 7999]
▁▁▅▅██
</code></pre>

<h3>Unicode Sparkline in Ruby</h3>

<pre><code>bars = ('▁'..'█').to_a 
tests = [ [1, 2, 3, 4, 5, 6, 7, 8, 7, 6, 5, 4, 3, 2, 1],
    [0, 1, 19, 20], [0, 999, 4000, 4999, 7000, 7999] ]
for test in tests
    min, max = test.minmax
    puts test.join(" ")
    puts "min: %.2f; max: %.2f"% [min, max]
    scale = (max - min) / (bars.size - 1)
    line = ""
    for item in test
        h = bars.size * (item - min) / (max - min)
        if h &gt;= bars.size
            h = bars.size - 1
        end
        line += bars[h]
    end
    puts line
    puts " "
end
</code></pre>

<p>Output:</p>

<pre><code>1 2 3 4 5 6 7 8 7 6 5 4 3 2 1
min: 1.00; max: 8.00
▁▂▃▄▅▆▇█▇▆▅▄▃▂▁

0 1 19 20
min: 0.00; max: 20.00
▁▁██

0 999 4000 4999 7000 7999
min: 0.00; max: 7999.00
▁▁▅▅██
</code></pre>

<h3>Unicode Sparkline in Scala</h3>

<pre><code>object sparkLine extends App {

  def sparkline(test: Array[Int]): String = {
    val bars = ('\u2581' to '\u2588')
    var outl = ""
    for (item &lt;- test) {
      var h = bars.length * (item - test.min) / (test.max - test.min)
      if (h &gt;= bars.length) { h = bars.length - 1 }
      outl = outl + bars(h)
    }
    return outl
  }
  val tests = Array(
    Array(1, 2, 3, 4, 5, 6, 7, 8, 7, 6, 5, 4, 3, 2, 1),
    Array(0, 1, 19, 20),
    Array(0, 999, 4000, 4999, 7000, 7999)
  )
  for (test &lt;- tests) {
    println(test.mkString(" "))
    println("")
    println(sparkline(test))
    println("")
  }
}
</code></pre>

<p>Output:</p>

<pre><code>1 2 3 4 5 6 7 8 7 6 5 4 3 2 1

▁▂▃▄▅▆▇█▇▆▅▄▃▂▁

0 1 19 20

▁▁██

0 999 4000 4999 7000 7999

▁▁▅▅██
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on September 4, 2022. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_13">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/simongreennet/the-ordinal-sparkline-dn5">The Ordinal Sparkline</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Simon Green
 on Sunday 28 August 2022 08:43</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><h2>
  
  
  Weekly challenge 179
</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-179/">Challenge</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/tree/master/challenge-179/sgreen">My solution</a></p>

<h2>
  
  
  Task 1: Ordinal Number Spelling
</h2>

<h3>
  
  
  Task
</h3>

<p>You are given a positive number, <code>$n</code>. Write a script to spell the ordinal number.</p>

<h3>
  
  
  My solution
</h3>

<p>This turned out to be a little more complex than I thought it was, especially around some edge cases. Sure there are Python and Perl modules that already do this, but that's not the spirit of completing these challenges.</p>

<p>I start by defining four lists (arrays in Perl). <code>numbers</code> has the words for the first 19 numbers, so one, two, three, etc. <code>tens</code> has the words for twenty, thirty, etc. The <code>ordinal</code> list has the ordinal words for the first 19 numbers, like first, second, third. Finally the <code>thousands</code> list has the words we use for thousand, million and billion. I'm not handling anything 10<sup>12</sup> or larger.</p>

<p>Next I split up the numbers into blocks of three from the right. So 12345 becomes <code>[345, 12]</code>.</p>

<p>Then it's time to print out the words for each block.</p>

<ol>
<li>If the number is 0 (for example the middle block in 1,000,234), do nothing</li>
<li>If the number is evenly divisible by 100, print the words for that number.</li>
<li>If the number is greater than 100, print the words for the hundreds number and the word ' and '. Change the number to be the remainder from 100.</li>
<li>If the number is greater than 19, print the tens words, and change the number to be the remainder from 10.</li>
<li>Print the number between one and nineteen. If this is the first block, use the <code>ordinal</code> list, otherwise use the <code>numbers</code> list.</li>
<li>Finally, if this is not the first block, add the appropriate thousands word.</li>
</ol>

<p>There is also an edge case where the solution is divisible by 100. In this case, we have never use the <code>ordinal</code> list. When this occurs, I add the string 'th' to the end of the string.</p>

<p>When writing this blog, I also realized that we also didn't print the ordinal word if the number is divisible by 10 (except hundred and ten). I've added some code to also handle this. Thankfully for all the <code>tens</code> words we can replace 'y' with 'ieth' to get the right word.</p>

<p>Then it's a matter of pieces the bits together to produce the final string.</p>

<h3>
  
  
  Examples
</h3>



<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./ch-1.py 11
eleventh

$ ./ch-1.py 62
sixty second

$ ./ch-1.py 99
ninety ninth
</code></pre>

</div>



<h2>
  
  
  Task 2: Unicode Sparkline
</h2>

<h3>
  
  
  Task
</h3>

<p>You are given a list of positive numbers, <code>@n</code>.</p>

<p>Write a script to print sparkline in Unicode for the given list of numbers.</p>

<h3>
  
  
  My solution
</h3>

<p>First off, I'll give attribute of the solution to <a href="https://rosettacode.org/wiki/Sparkline_in_unicode#Python">Rosetta Code</a>, under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license.</p>

<p>Thankfully both Python 3 and Perl support unicode out of the box, so we don't need to do anything special to support it.</p>

<p>The code defines the following variables:</p>

<ul>
<li>
<code>bar</code> the string <code>▁▂▃▄▅▆▇█</code> (I use a list for the Perl solution), and <code>barcount</code> the length of the list.</li>
<li>
<code>mn</code> and <code>mx</code> the minimum and maximum values from the list.</li>
<li>
<code>extent</code> the difference between the two values.</li>
</ul>

<p>It then goes through each value of <code>@n</code> and uses the equation <code>(n - mn) / extent * barcount</code> to work out which bar to display.</p>

<h3>
  
  
  Examples
</h3>



<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./ch-2.py 1 2 3 4 5 6 7 8
▁▂▃▄▅▆▇█

$ ./ch-2.py 1 8 2 7 3 6 10
▁▇▁▆▂▅█
</code></pre>

</div>



       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_14">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/08/cdvii-9-great-cpan-modules-released.html">(cdvii) 9 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 27 August 2022 23:26</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br/><br/><ol><li><a href='https://metacpan.org/release/PETDANCE/ack-v3.6.0' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>App::Ack</span></b></a> - A grep-like program for searching source code <ul>  <li>Version: <strong>v3.6.0</strong> on 2022-08-21</li>  <li>Votes: 126</li>  <li>Previous version: v3.5.0 was 1 year, 5 months, 8 days before</li></ul></li><li><a href='https://metacpan.org/release/MIK/CryptX-0.077' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>CryptX</span></b></a> - Cryptographic toolkit <ul>  <li>Version: <strong>0.077</strong> on 2022-08-21</li>  <li>Votes: 45</li>  <li>Previous version: 0.076 was 7 months, 14 days before</li></ul></li><li><a href='https://metacpan.org/release/TOBYINK/Exporter-Tiny-1.004000' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Exporter::Tiny</span></b></a> - an exporter with the features of Sub::Exporter but only core dependencies <ul>  <li>Version: <strong>1.004000</strong> on 2022-08-26</li>  <li>Votes: 21</li>  <li>Previous version: 1.002002 was 2 years, 4 months, 2 days before</li></ul></li><li><a href='https://metacpan.org/release/ETJ/GraphViz-2.25' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>GraphViz</span></b></a> - Interface to AT&T's GraphViz. Deprecated. See GraphViz2 <ul>  <li>Version: <strong>2.25</strong> on 2022-08-20</li>  <li>Votes: 14</li>  <li>Previous version: 2.25 was  before</li></ul></li><li><a href='https://metacpan.org/release/MICKEY/MetaCPAN-Client-2.030000' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>MetaCPAN::Client</span></b></a> - A comprehensive, DWIM-featured client to the MetaCPAN API <ul>  <li>Version: <strong>2.030000</strong> on 2022-08-22</li>  <li>Votes: 23</li>  <li>Previous version: 2.029000 was 1 year, 8 months, 2 days before</li></ul></li><li><a href='https://metacpan.org/release/KIMOTO/SPVM-0.9645' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>SPVM</span></b></a> - SPVM Language <ul>  <li>Version: <strong>0.9645</strong> on 2022-08-25</li>  <li>Votes: 26</li>  <li>Previous version: 0.9643 was 7 days before</li></ul></li><li><a href='https://metacpan.org/release/PEVANS/Struct-Dumb-0.13' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Struct::Dumb</span></b></a> - make simple lightweight record-like structures <ul>  <li>Version: <strong>0.13</strong> on 2022-08-27</li>  <li>Votes: 13</li>  <li>Previous version: 0.12 was 2 years, 4 months, 7 days before</li></ul></li><li><a href='https://metacpan.org/release/PEVANS/Tickit-0.73' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Tickit</span></b></a> - Terminal Interface Construction KIT <ul>  <li>Version: <strong>0.73</strong> on 2022-08-26</li>  <li>Votes: 24</li>  <li>Previous version: 0.72 was 1 year, 8 days before</li></ul></li><li><a href='https://metacpan.org/release/SIMBABQUE/WWW-Mechanize-2.15' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>WWW::Mechanize</span></b></a> - Handy web browsing in a Perl object <ul>  <li>Version: <strong>2.15</strong> on 2022-08-21</li>  <li>Votes: 93</li>  <li>Previous version: 2.14 was 6 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_15">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/08/dxx-metacpan-weekly-report.html">(dxx) metacpan weekly report - Try::Tiny</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 27 August 2022 23:25</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This is the weekly favourites list of CPAN distributions. Votes count: 90</p><p>Week's winner (+3): <b><a href="https://metacpan.org/module/Try::Tiny">Try::Tiny</a></b></p><p>Build date: 2022/08/27 21:22:13 GMT</p><br /><p>Clicked for <u>first time</u>:</p><ul><li><a href="https://metacpan.org/module/Acme::Don::t" target="_blank">Acme::Don::t</a> - The opposite of do</li><li><a href="https://metacpan.org/module/Alias" target="_blank">Alias</a> - aspirations for Alias</li><li><a href="https://metacpan.org/module/App::pnc" target="_blank">App::pnc</a> - Simple netcat clone implemented in Perl.</li><li><a href="https://metacpan.org/module/App::YoutubeDlIf" target="_blank">App::YoutubeDlIf</a> - Download videos using youtube-dl with extra selection/filtering</li><li><a href="https://metacpan.org/module/Devel::Cover::Report::Codecov" target="_blank">Devel::Cover::Report::Codecov</a> - Backend for Codecov reporting of coverage statistics</li><li><a href="https://metacpan.org/module/Feature::Compat::Class" target="_blank">Feature::Compat::Class</a> - make class syntax available</li><li><a href="https://metacpan.org/module/Google::reCAPTCHA::v3" target="_blank">Google::reCAPTCHA::v3</a> - A simple Perl API for Google reCAPTCHA v3</li><li><a href="https://metacpan.org/module/JSON::Patch" target="_blank">JSON::Patch</a> - JSON Patch (rfc6902) for perl structures</li><li><a href="https://metacpan.org/module/Math::Round::Fair" target="_blank">Math::Round::Fair</a> - distribute rounding errors fairly</li><li><a href="https://metacpan.org/module/Optimization::NSGAII" target="_blank">Optimization::NSGAII</a> - non dominant sorting genetic algorithm for multi-objective optimization</li><li><a href="https://metacpan.org/module/SVG::Parser" target="_blank">SVG::Parser</a> - XML Parser for SVG documents</li><li><a href="https://metacpan.org/module/Term::Screen" target="_blank">Term::Screen</a> - A Simple all perl Term::Cap based screen positioning module</li></ul><br /><p><u>Increasing</u> its reputation:</p><ul><li><a href="https://metacpan.org/module/AnyEvent::FTP" target="_blank">AnyEvent::FTP</a> (+1=5)</li><li><a href="https://metacpan.org/module/AnyEvent::WebSocket::Server" target="_blank">AnyEvent::WebSocket::Server</a> (+1=4)</li><li><a href="https://metacpan.org/module/Apache::Solr" target="_blank">Apache::Solr</a> (+1=2)</li><li><a href="https://metacpan.org/module/App::cpanminus" target="_blank">App::cpanminus</a> (+1=268)</li><li><a href="https://metacpan.org/module/App::week" target="_blank">App::week</a> (+1=3)</li><li><a href="https://metacpan.org/module/Cache::Memcached" target="_blank">Cache::Memcached</a> (+1=8)</li><li><a href="https://metacpan.org/module/Cache::Memcached::Fast" target="_blank">Cache::Memcached::Fast</a> (+1=20)</li><li><a href="https://metacpan.org/module/Carp" target="_blank">Carp</a> (+1=67)</li><li><a href="https://metacpan.org/module/CGI::Simple" target="_blank">CGI::Simple</a> (+1=9)</li><li><a href="https://metacpan.org/module/Config::INI::Tiny" target="_blank">Config::INI::Tiny</a> (+1=2)</li><li><a href="https://metacpan.org/module/Cpanel::JSON::XS" target="_blank">Cpanel::JSON::XS</a> (+1=41)</li><li><a href="https://metacpan.org/module/Dancer2" target="_blank">Dancer2</a> (+1=130)</li><li><a href="https://metacpan.org/module/Data::Util" target="_blank">Data::Util</a> (+1=9)</li><li><a href="https://metacpan.org/module/Data::UUID" target="_blank">Data::UUID</a> (+2=29)</li><li><a href="https://metacpan.org/module/Data::UUID::MT" target="_blank">Data::UUID::MT</a> (+1=6)</li><li><a href="https://metacpan.org/module/DBD::BlackHole" target="_blank">DBD::BlackHole</a> (+1=2)</li><li><a href="https://metacpan.org/module/DBD::mysql" target="_blank">DBD::mysql</a> (+1=52)</li><li><a href="https://metacpan.org/module/Dist::Zilla" target="_blank">Dist::Zilla</a> (+1=178)</li><li><a href="https://metacpan.org/module/Exception::Base" target="_blank">Exception::Base</a> (+1=2)</li><li><a href="https://metacpan.org/module/File::Map" target="_blank">File::Map</a> (+1=18)</li><li><a href="https://metacpan.org/module/File::Rsync" target="_blank">File::Rsync</a> (+1=14)</li><li><a href="https://metacpan.org/module/forks::BerkeleyDB" target="_blank">forks::BerkeleyDB</a> (+1=4)</li><li><a href="https://metacpan.org/module/Gazelle" target="_blank">Gazelle</a> (+1=25)</li><li><a href="https://metacpan.org/module/Getopt::Long::Descriptive" target="_blank">Getopt::Long::Descriptive</a> (+1=51)</li><li><a href="https://metacpan.org/module/IO::Pipely" target="_blank">IO::Pipely</a> (+1=5)</li><li><a href="https://metacpan.org/module/IO::Prompt" target="_blank">IO::Prompt</a> (+1=9)</li><li><a href="https://metacpan.org/module/JSON::XS" target="_blank">JSON::XS</a> (+1=111)</li><li><a href="https://metacpan.org/module/Log::Log4perl" target="_blank">Log::Log4perl</a> (+1=94)</li><li><a href="https://metacpan.org/module/Mail::SpamAssassin::4.0.0::rc1" target="_blank">Mail::SpamAssassin::4.0.0::rc1</a> (+1=0)</li><li><a href="https://metacpan.org/module/Math::Complex" target="_blank">Math::Complex</a> (+1=8)</li><li><a href="https://metacpan.org/module/MIME::Base64" target="_blank">MIME::Base64</a> (+1=23)</li><li><a href="https://metacpan.org/module/Minilla" target="_blank">Minilla</a> (+1=56)</li><li><a href="https://metacpan.org/module/Mojo::MySQL5" target="_blank">Mojo::MySQL5</a> (+1=4)</li><li><a href="https://metacpan.org/module/Mojo::Pg" target="_blank">Mojo::Pg</a> (+1=69)</li><li><a href="https://metacpan.org/module/Mojolicious" target="_blank">Mojolicious</a> (+2=474)</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::Authorization" target="_blank">Mojolicious::Plugin::Authorization</a> (+1=10)</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::Loco" target="_blank">Mojolicious::Plugin::Loco</a> (+1=3)</li><li><a href="https://metacpan.org/module/Moo" target="_blank">Moo</a> (+2=292)</li><li><a href="https://metacpan.org/module/MooX::TO_JSON" target="_blank">MooX::TO_JSON</a> (+1=5)</li><li><a href="https://metacpan.org/module/Music::AtonalUtil" target="_blank">Music::AtonalUtil</a> (+1=3)</li><li><a href="https://metacpan.org/module/new" target="_blank">new</a> (+1=7)</li><li><a href="https://metacpan.org/module/Object::Pad" target="_blank">Object::Pad</a> (+1=31)</li><li><a href="https://metacpan.org/module/OpenAPI::Client" target="_blank">OpenAPI::Client</a> (+1=15)</li><li><a href="https://metacpan.org/module/OptArgs" target="_blank">OptArgs</a> (+1=14)</li><li><a href="https://metacpan.org/module/OptArgs2" target="_blank">OptArgs2</a> (+1=6)</li><li><a href="https://metacpan.org/module/PAR::Packer" target="_blank">PAR::Packer</a> (+1=40)</li><li><a href="https://metacpan.org/module/Parallel::ForkManager" target="_blank">Parallel::ForkManager</a> (+1=93)</li><li><a href="https://metacpan.org/module/Parallel::Loops" target="_blank">Parallel::Loops</a> (+1=4)</li><li><a href="https://metacpan.org/module/Path::Class" target="_blank">Path::Class</a> (+1=82)</li><li><a href="https://metacpan.org/module/PathTools" target="_blank">PathTools</a> (+1=76)</li><li><a href="https://metacpan.org/module/Perl::Build" target="_blank">Perl::Build</a> (+1=21)</li><li><a href="https://metacpan.org/module/Perl::Critic" target="_blank">Perl::Critic</a> (+1=122)</li><li><a href="https://metacpan.org/module/Perl::MinimumVersion" target="_blank">Perl::MinimumVersion</a> (+2=21)</li><li><a href="https://metacpan.org/module/PerlIO::gzip" target="_blank">PerlIO::gzip</a> (+1=12)</li><li><a href="https://metacpan.org/module/Pod::Coverage" target="_blank">Pod::Coverage</a> (+1=12)</li><li><a href="https://metacpan.org/module/Promise::XS" target="_blank">Promise::XS</a> (+1=8)</li><li><a href="https://metacpan.org/module/Quantum::Superpositions" target="_blank">Quantum::Superpositions</a> (+1=7)</li><li><a href="https://metacpan.org/module/SPVM" target="_blank">SPVM</a> (+1=26)</li><li><a href="https://metacpan.org/module/strictures" target="_blank">strictures</a> (+1=21)</li><li><a href="https://metacpan.org/module/Term::ANSIColor" target="_blank">Term::ANSIColor</a> (+1=57)</li><li><a href="https://metacpan.org/module/Test::Exception" target="_blank">Test::Exception</a> (+1=39)</li><li><a href="https://metacpan.org/module/Test::Simple" target="_blank">Test::Simple</a> (+1=179)</li><li><a href="https://metacpan.org/module/threads" target="_blank">threads</a> (+1=13)</li><li><a href="https://metacpan.org/module/threads::shared" target="_blank">threads::shared</a> (+1=9)</li><li><a href="https://metacpan.org/module/Time::HiRes" target="_blank">Time::HiRes</a> (+1=60)</li><li><a href="https://metacpan.org/module/Time::Piece" target="_blank">Time::Piece</a> (+1=53)</li><li><a href="https://metacpan.org/module/Try::Tiny" target="_blank">Try::Tiny</a> (+3=170)</li><li><a href="https://metacpan.org/module/Types::Interface" target="_blank">Types::Interface</a> (+1=2)</li><li><a href="https://metacpan.org/module/Unix::setuid" target="_blank">Unix::setuid</a> (+1=2)</li><li><a href="https://metacpan.org/module/URI::db" target="_blank">URI::db</a> (+1=10)</li><li><a href="https://metacpan.org/module/WWW::Mechanize" target="_blank">WWW::Mechanize</a> (+1=93)</li><li><a href="https://metacpan.org/module/YAML" target="_blank">YAML</a> (+1=67)</li></ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_16">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/08/dxlviii-stackoverflow-perl-report.html">(dxlviii) stackoverflow perl report</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 27 August 2022 23:20</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>These are the five most rated questions at <a href="http://www.stackoverflow.com">Stack Overflow</a> last week.<br/>Between brackets: [<b>question score</b> / answers count]<br/>Build date: 2022-08-27 21:20:02 GMT</p><hr/><ol><li><a href="http://stackoverflow.com/questions/73484935" target="_blank">What does `/regex/o` really mean (once there was once, but it seems gone now)?</a> - [<b>5</b>/2]</li><li><a href="http://stackoverflow.com/questions/73449292" target="_blank">Regex (or bash), get pipes between quotes (perl)</a> - [<b>2</b>/6]</li><li><a href="http://stackoverflow.com/questions/73448911" target="_blank">How to get date of two month old date from current date</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/73455057" target="_blank">DbiX::Class / Creating tree of test data without persisting</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/73511956" target="_blank">How can I format boolean operators with perltidy?</a> - [<b>2</b>/1]</li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_17">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/al_newkirk/2022/08/introducing-venus-a-new-world-for-perl-5.html">Introducing Venus, a new world for Perl 5</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by awncorp
 on Thursday 25 August 2022 05:52</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <h2>Abstract</h2>

<p>Programming in Perl is choices all the way down. Perl is a multi-paradigm programming language which means that Perl can support the development of software using different programming paradigms, e.g. functional programming, object-oriented programming, and more.</p>

<p>Programming languages are culture, and culture follows philosophy. Philosophy is how every culture provides itself with justification for its decisions, values, beliefs, and worldview.</p>

<h2>Perl's philosophy</h2>

<p>Perl's philosophy is TIMTOWTDI, i.e. “there’s more than one way to do it”. You might even say that Perl takes the position of not taking a position, and this disposition applies to the topic of a standard library as well.</p>

<p>To be clear, what some will call Perl's standard library is little more than a grab bag of functions, pragmas, and packages shipped together with the core. This collection is a mix of functional and object-oriented styles and is intentionally lightweight.</p>

<p>It’s probably worth mentioning that the Raku team has also adopted this posture (and tradition).</p>

<p><strong>What if Perl had a standard library?</strong></p>

<p>Not so fast. Let’s say we agree to provide a robust standard library, what paradigm should that library use? Should that library be written in C to maximize performance, or be written in Perl itself? Should the library be readable and serve as an example of how to Perl, or simply be a means to an end? Decisions, decisions.</p>

<p><strong>CPAN in lieu of a standard library</strong></p>

<p>Perl and its CPAN are overwhelmingly object-oriented, and here's where the TIMTOWTDI motto is on full display. This is both a gift and curse, simultaneously the source of Perl's greatest strengths and its greatest weaknesses. Although, even in the face of such an abundance of choice there have been a handful of CPAN distributions that have become de facto standards for the community. Still, the paradox of choice is real and paralyzing, and it’s really hard to find and/or create unity amongst all of the diversity.</p>

<p>Sustained object-orientation in Perl is difficult because the concept and mechanisms were bolted onto the language as an afterthought, and because it's optional, so one has to oscillate between this paradigm and others, i.e. some things are objects, most things are not, so when using Perl you have to constantly reaffirm your object-orientation.</p>

<h2>The TL;DR</h2>

<p>An OO standard library would make it a lot easier to write Perl in a way that avoids having to come up with similar or the same solutions to common computing tasks. It would make code easier to read and write and eliminate a lot of decision fatigue, especially that which comes with the "search for a library" or "write this library myself" obstacle, which is exactly the type of situation the NIH (not invented here) crowd enjoy. It would make downstream applications more performant and have fewer dependencies. So, is TIMTOWTDI a gift or a curse? Is convention over configuration a straightjacket? Is the Python "batteries included" motto best or bloat?</p>

<h2>What's in a standard library</h2>

<p>Typically a standard library will have routines to access the file system, and perform I/O operations; routines that work with the data types of the language; routines that allow manipulating memory; routines that enable concurrency/parallelism; routines to handle math, and date and time operations; and routines for error handling and assertions. Often, to ensure optimal performance, these routines are written in very low-level code, e.g. C.</p>

<p><strong>What makes a good standard library</strong></p>

<p>I believe a good standard library should have all of the standard fares, but should also be well organized, be dogfooding itself, and be written as to be readable in ways that help to enforce that derivative programs are idiomatic. In other words, be prescriptive, which Perl tries not to be.</p>

<p>A good standard library should have the goal of helping to reduce the number of decisions that an engineer is required to make without compromising flexibility or the don't repeat yourself (DRY) principles.</p>

<p>A standard library should answer the call and respond to what are people building (in the here and now), or what they're trying to build. What they don't have that they wish they did; what they want to adopt from other languages and frameworks which are successful in ways that we desire our software to be. To facilitate developer ergonomics.</p>

<h2>Enter Venus</h2>

<p>Introducing Venus, an attempt at establishing an opinionated idiomatic non-core object-oriented standard library for Perl 5, without years of navel-gazing, committee legislation, infighting, or stalling.</p>

<p>Venus has a simple modular architecture, robust library of classes, methods, and traits (roles), supports pure-Perl autoboxing, advanced exception handling, backward-compatible "true" and "false" keyword functions, simple package introspection, command-line options parsing, and much more.</p>

<p>The project motto and ethic is to "be a compliment, not a cudgel". This ethic is a kind of guiding principle that governs decision-making. The Venus system is strictly complimentary, all features are optional and opt-in (even autoboxing; especially autoboxing). This system can be easily extended without monkey-patching (i.e. via plugins), and useful behaviors can be reused outside of the system via traits (roles).</p>

<p><strong>Some Features</strong></p>

<ul>
<li>Supports Perl 5.18.0+</li>
<li>Backward-compatible Booleans</li>
<li>Composable Standards</li>
<li>Exception Handling</li>
<li>Fast Object-Orientation</li>
<li>Package Reflection</li>
<li>Perl-Perl Autoboxing</li>
<li>Pluggable Standard Library</li>
<li>Robust Documentation</li>
<li>Utility Classes</li>
<li>Value Classes</li>
<li>Zero Dependencies</li>
</ul>

<p><strong>Guiding Principles</strong></p>

<ul>
<li>The standard library should be a standard</li>
<li>The library should have zero-dependencies</li>
<li>The library should be prescriptive yet malleable</li>
<li>The library should service two major categories of need: values and utilities</li>
<li>The library should support wrapping all major native data types</li>
<li>The value class methods should use idiomatic pure-Perl algorithms</li>
<li>The library should leverage roles and interfaces to maximize behavior-portability</li>
<li>The library should expose and make use of the raw materials in the Perl core</li>
<li>The library classes can be easily extended (i.e. subclassed)</li>
<li>The library should allow plugins and discourage monkey-patching</li>
<li>The library should provide mechanisms for error handling (throwing, catching, etc)</li>
<li>The library should provide DMMT support for JSON and YAML</li>
<li>The library should be consistent in namings and conventions to increase predictability</li>
<li>The library should ease the multi-paradigm identity crisis</li>
<li>The library should provide robust documentation with maximal test coverage</li>
</ul>

<h2>The World Tour</h2>

<p>All Venus packages are classes and can usually be thought to belong in one of four categories; core classes, value classes, utility classes, or abstract behaviors (roles).</p>

<h3>CORE CLASSES</h3>

<p><strong>Venus</strong> - The main module which exports a handful of useful functions that
come standard with most other languages.</p>

<pre><code>package main;

use Venus qw(
  catch
  error
  raise
);

# the "catch" function for trapping exceptions, e.g. the "error" function
my ($error, $result) = catch {
  error;
};

# the "true" and "false" keyword functions
if ($result and $result eq false) {
  true;
}

# the "raise" function for raising custom exceptions
if (false) {
  raise 'MyApp::Error';
}

# and much more!
true ne false;
</code></pre>

<p><strong>Venus::Class</strong> - The class builder module which uses the Mars architecture
and supports integrating superclasses, mixins, roles, and interfaces.</p>

<pre><code>package Person;

use Venus::Class 'attr';

attr 'fname';
attr 'lname';

package User;

use Venus::Class 'attr', 'base';

base 'Person';

attr 'email';

package main;

my $user = User-&gt;new(
  fname =&gt; 'Elliot',
  lname =&gt; 'Alderson',
);

# bless({fname =&gt; 'Elliot', lname =&gt; 'Alderson'}, 'User')
</code></pre>

<p><strong>Venus::Mixin</strong> - The mixin builder module which uses the Mars architecture
and supports is essentially an exporter builder that supports dynamic exports.</p>

<pre><code>package Access;

use Venus::Mixin;

sub login {
  # ...
}

sub logout {
  # ...
}

sub EXPORT {
  ['login', 'logout']
}

package User;

use Venus::Class 'attr', 'mixin';

mixin 'Access';

attr 'email';
attr 'password';

package main;

my $user = User-&gt;new(
  fname =&gt; 'Elliot',
  lname =&gt; 'Alderson',
);

# bless({fname =&gt; 'Elliot', lname =&gt; 'Alderson'}, 'User')

# $user-&gt;login;

# undef

# $user-&gt;logout;

# undef
</code></pre>

<p><strong>Venus::Role</strong> - The role builder module which uses the Mars architecture and
supports integrating superclasses, mixins, roles, and interfaces.</p>

<pre><code>package Authenticable;

use Venus::Role 'error';

sub AUDIT {
  my ($self, $from) = @_;

  error "${from} missing the email attribute" if !$from-&gt;can('email');
  error "${from} missing the password attribute" if !$from-&gt;can('password');
}

package User;

use Venus::Class 'attr', 'with';

with 'Authenticable';

attr 'email';

package main;

# Exception! "User missing the password attribute"
</code></pre>

<h3>VALUE CLASSES</h3>

<p><strong>Venus::Array</strong> - The Array class provides methods for manipulating
array references.</p>

<pre><code>package main;

use Venus::Array;

my $array = Venus::Array-&gt;new([1..4]);

# bless({'value' =&gt; [1, 2, 3, 4]}, 'Venus::Array')

$array-&gt;count;

# 4

# $array-&gt;all(sub{ $_ &gt; 0 });
# $array-&gt;any(sub{ $_ &gt; 0 });
# $array-&gt;each(sub{ $_ &gt; 0 });
# $array-&gt;grep(sub{ $_ &gt; 0 });
# $array-&gt;map(sub{ $_ &gt; 0 });
# $array-&gt;none(sub{ $_ &lt; 0 });
# $array-&gt;one(sub{ $_ == 0 });
# $array-&gt;random;
</code></pre>

<p><strong>Venus::Boolean</strong> - The Boolean class provides methods for representing
and operating on boolean values.</p>

<pre><code>package main;

use Venus::Boolean;

my $boolean = Venus::Boolean-&gt;new(1);

# bless({'value' =&gt; 1}, 'Venus::Boolean')

$boolean-&gt;negate;

# 0
</code></pre>

<p><strong>Venus::Code</strong> - The Code class provides methods for manipulating
code references.</p>

<pre><code>package main;

use Venus::Code;

my $code = Venus::Code-&gt;new(sub {1});

# bless({'value' =&gt; sub {...}}, 'Venus::Code')

$code-&gt;call;

# 1
</code></pre>

<p><strong>Venus::Float</strong> - The Float class provides methods for manipulating
floating-point numbers.</p>

<pre><code>package main;

use Venus::Float;

my $float = Venus::Float-&gt;new(1.23);

# bless({'value' =&gt; '1.23'}, 'Venus::Float')

$float-&gt;int;

# 1
</code></pre>

<p><strong>Venus::Hash</strong> - The Hash class provides methods for manipulating
hash references.</p>

<pre><code>use Venus::Hash;

my $hash = Venus::Hash-&gt;new({1..8});

# bless({'value' =&gt; {'1' =&gt; 2, '3' =&gt; 4, '5' =&gt; 6, '7' =&gt; 8}}, 'Venus::Hash')

$hash-&gt;count;

# 4

# $hash-&gt;all(sub{ $_ &gt; 0 });
# $hash-&gt;any(sub{ $_ &gt; 0 });
# $hash-&gt;each(sub{ $_ &gt; 0 });
# $hash-&gt;grep(sub{ $_ &gt; 0 });
# $hash-&gt;map(sub{ $_ &gt; 0 });
# $hash-&gt;none(sub{ $_ &lt; 0 });
# $hash-&gt;one(sub{ $_ == 0 });
# $hash-&gt;random;
</code></pre>

<p><strong>Venus::Number</strong> - The Number class provides methods for manipulating
numeric values.</p>

<pre><code>package main;

use Venus::Number;

my $number = Venus::Number-&gt;new(1_000);

# bless({'value' =&gt; 1000}, 'Venus::Number')

$number-&gt;abs;

# 1000
</code></pre>

<p><strong>Venus::Regexp</strong> - The Regexp class provides methods for manipulating
regular expression references.</p>

<pre><code>package main;

use Venus::Regexp;

my $regexp = Venus::Regexp-&gt;new(
  qr/(?&lt;greet&gt;\w+) (?&lt;username&gt;\w+)/u,
);

# bless({'value' =&gt; qr/(?&lt;greet&gt;\w+) (?&lt;username&gt;\w+)/u}, 'Venus::Regexp')

$regexp-&gt;search('hello venus')-&gt;captures;

# ['hello', 'venus']
</code></pre>

<p><strong>Venus::Scalar</strong> - The Scalar class provides methods for manipulating
scalar references.</p>

<pre><code>package main;

use Venus::Scalar;

my $scalar = Venus::Scalar-&gt;new;

# bless({'value' =&gt; \''}, 'Venus::Scalar')

${$scalar}

# ""
</code></pre>

<p><strong>Venus::String</strong> - The String class provides methods for manipulating
string values.</p>

<pre><code>package main;

use Venus::String;

my $string = Venus::String-&gt;new('hello world');

# bless({'value' =&gt; 'hello world'}, 'Venus::String')

$string-&gt;camelcase;

# "helloWorld"
</code></pre>

<p><strong>Venus::Undef</strong> - The Undef class provides methods for representing
undefined values.</p>

<pre><code>package main;

use Venus::Undef;

my $undef = Venus::Undef-&gt;new;

# bless({'value' =&gt; undef}, 'Venus::Undef')

$undef-&gt;defined;

# 0
</code></pre>

<h3>UTILITY CLASSES</h3>

<p><strong>Venus::Args</strong> - The Args class provides methods for accessing and
manipulating <code>@ARGS</code> values.</p>

<pre><code>package main;

use Venus::Args;

my $args = Venus::Args-&gt;new(
  named =&gt; { flag =&gt; 0, command =&gt; 1 }, # optional
  value =&gt; ['--help', 'execute'],
);

# bless({....}, 'Venus::Args')

$args-&gt;flag;

# "--help"

# $args-&gt;get(0); # $ARGV[0]
# $args-&gt;get(1); # $ARGV[1]
# $args-&gt;action; # $ARGV[1]
# $args-&gt;exists(0); # exists $ARGV[0]
# $args-&gt;exists('flag'); # exists $ARGV[0]
# $args-&gt;get('flag'); # $ARGV[0]
</code></pre>

<p><strong>Venus::Box</strong> - The Box class is a proxy class provides a mechanism for
autoboxing the return values of its proxied objects.</p>

<pre><code>package main;

use Venus::Box;

my $box = Venus::Box-&gt;new(
  value =&gt; {},
);

# bless({'value' =&gt; bless({'value' =&gt; {}}, 'Venus::Hash')}, 'Venus::Box')

$box-&gt;keys-&gt;count-&gt;unbox;

# 0
</code></pre>

<p><strong>Venus::Data</strong> - The Data class provides methods for accessing and
manipulating POD data (and data sections) in the file or the <code>__DATA__</code> token.</p>

<pre><code>package main;

use Venus::Data;

my $data = Venus::Data-&gt;new;

# bless({...}, 'Venus::Data')

$data-&gt;value($data-&gt;space-&gt;format('label', 't/%s.t'));

# /path/to/t/Venus_Data.t

$data-&gt;find(undef, 'name');

# {
#   'data' =&gt; ['Venus::Data'],
#   'index' =&gt; 1,
#   'list' =&gt; undef,
#   'name' =&gt; 'name'
# }
</code></pre>

<p><strong>Venus::Date</strong> - The Date class provides methods for manipulating date
and time values.</p>

<pre><code>package main;

use Venus::Date;

my $date = Venus::Date-&gt;new(570672000);

# bless({...}, 'Venus::Date')

$date-&gt;string;

# '1988-02-01T00:00:00Z'
</code></pre>

<p><strong>Venus::Error</strong> - The Error class provides methods for throwing
exceptions.</p>

<pre><code>package main;

use Venus::Error;

my $error = Venus::Error-&gt;new;

# bless({...}, 'Venus::Error')

$error-&gt;throw;

# Exception!
</code></pre>

<p><strong>Venus::Json</strong> - The Json class provides methods for encoding and
decoding JSON data.</p>

<pre><code>package main;

use Venus::Json;

my $json = Venus::Json-&gt;new(
  value =&gt; { name =&gt; ['Ready', 'Robot'], version =&gt; 0.12, stable =&gt; !!1, }
);

# bless({...}, 'Venus::Json')

$json-&gt;encode;

# {"name": ["Ready", "Robot"], "stable": true, "version": 0.12}
</code></pre>

<p><strong>Venus::Match</strong> - The Match class provides an object-oriented switch
mechanism (or dispatch table).</p>

<pre><code>package main;

use Venus::Match;

my $match = Venus::Match-&gt;new(5);

# bless({...}, 'Venus::Match')

$match-&gt;when(sub{$_ &lt; 5})-&gt;then(sub{"&lt; 5"});
$match-&gt;when(sub{$_ &gt; 5})-&gt;then(sub{"&gt; 5"});
$match-&gt;none(sub{"?"});

my $result = $match-&gt;result;

# "?"
</code></pre>

<p><strong>Venus::Name</strong> - The Name class provides methods for parsing and
formatting package namespace strings.</p>

<pre><code>package main;

use Venus::Name;

my $name = Venus::Name-&gt;new('Foo/Bar');

# bless({'value' =&gt; 'Foo/Bar'}, 'Venus::Name')

$name-&gt;package;

# "Foo::Bar"
</code></pre>

<p><strong>Venus::Opts</strong> - The Opts class provides methods for accessing and
manipulating <code>@ARGS</code> values that are passed as command-line options.</p>

<pre><code>package main;

use Venus::Opts;

my $opts = Venus::Opts-&gt;new(
  value =&gt; ['--resource', 'users', '--help'],
  specs =&gt; ['resource|r=s', 'help|h'],
  named =&gt; { method =&gt; 'resource' } # optional
);

# bless({...}, 'Venus::Opts')

$opts-&gt;method;

# "users"

# $opts-&gt;method; # $resource
# $opts-&gt;get('resource'); # $resource

# $opts-&gt;help; # $help
# $opts-&gt;get('help'); # $help
</code></pre>

<p><strong>Venus::Path</strong> - The Path class provides methods for operating on paths.</p>

<pre><code>package main;

use Venus::Path;

my $path = Venus::Path-&gt;new('t/data/planets');

# bless({'value' =&gt; 't/data/planets'}, 'Venus::Path')

my $planets = $path-&gt;files;

# [
#   bless({...}, 'Venus::Path'),
#   bless({...}, 'Venus::Path'),
#   ...,
# ]

# my $mercury = $path-&gt;child('mercury');
# my $content = $mercury-&gt;read;
</code></pre>

<p><strong>Venus::Process</strong> - The Process class provides methods for forking and
managing processes.</p>

<pre><code>package main;

use Venus::Process;

my $parent = Venus::Process-&gt;new;

# bless({'value' =&gt; 2179356}, 'Venus::Process')

my $process = $parent-&gt;fork;

if ($process) {
  # do something in child process ...
  $process-&gt;exit;
}
else {
  # do something in parent process ...
  $parent-&gt;wait(-1);
}

# $parent-&gt;exit;
</code></pre>

<p><strong>Venus::Random</strong> - The Random class provides an object-oriented interface for
Perl's pseudo-random number generator (or PRNG) which produces a deterministic
sequence of bits which approximate true randomness.</p>

<pre><code>package main;

use Venus::Random;

my $random = Venus::Random-&gt;new(42);

# bless({'value' =&gt; 42}, 'Venus::Random')

my $bit = $random-&gt;bit;

# 1

my $number = $random-&gt;range(10, 50);

# 24
</code></pre>

<p><strong>Venus::Replace</strong> - The Replace class provides methods for manipulating
regular expression replacement data.</p>

<pre><code>package main;

use Venus::Replace;

my $replace = Venus::Replace-&gt;new(
  string =&gt; 'hello world',
  regexp =&gt; '(world)',
  substr =&gt; 'universe',
);

# bless({...}, 'Venus::Replace')

$replace-&gt;captures;

# "world"
</code></pre>

<p><strong>Venus::Search</strong> - The Search class provides methods for manipulating regexp
search data.</p>

<pre><code>package main;

use Venus::Search;

my $search = Venus::Search-&gt;new(
  string =&gt; 'hello world',
  regexp =&gt; '(hello)',
);

# bless({...}, 'Venus::Search')

$search-&gt;captures;

# "hello"
</code></pre>

<p><strong>Venus::Space</strong> - The Space class provides methods for parsing and
manipulating package namespaces.</p>

<pre><code>package main;

use Venus::Space;

my $space = Venus::Space-&gt;new('foo/bar');

# bless({'value' =&gt; 'Foo::Bar'}, 'Venus::Space')

$space-&gt;package;

# Foo::Bar
</code></pre>

<p><strong>Venus::Template</strong> - The Template class provides minimalist template rendering
functionality.</p>

<pre><code>package main;

use Venus::Template;

my $template = Venus::Template-&gt;new(
  'From: &lt;{{ email }}&gt;',
);

# bless({...}, 'Venus::Template')

$template-&gt;render;

# "From: &lt;&gt;"
</code></pre>

<p><strong>Venus::Throw</strong> - The Throw class provides a mechanism for generating and
raising errors (exception objects).</p>

<pre><code>package main;

use Venus::Throw;

my $throw = Venus::Throw-&gt;new;

# bless({'parent' =&gt; 'Venus::Error'}, 'Venus::Throw')

$throw-&gt;error;

# Exception!
</code></pre>

<p><strong>Venus::Try</strong> - The Try class provides an object-oriented interface for
performing complex try/catch operations.</p>

<pre><code>package main;

use Venus::Try;

my $try = Venus::Try-&gt;new;

# bless({...}, 'Venus::Try')

$try-&gt;call(sub {
  my (@args) = @_;

  # try something

  return 2 * 3 * 4;
});

$try-&gt;catch('Example::Error', sub {
  my ($caught) = @_;

  # caught an error (exception)

  return;
});

$try-&gt;default(sub {
  my ($caught) = @_;

  # catch the uncaught

  return;
});

$try-&gt;finally(sub {
  my (@args) = @_;

  # always run after try/catch

  return;
});

my @args;

my $result = $try-&gt;result(@args);

# 24
</code></pre>

<p><strong>Venus::Type</strong> - The Type class provides methods for casting native data types
to objects and the reverse.</p>

<pre><code>package main;

use Venus::Type;

my $type = Venus::Type-&gt;new([]);

# bless({'value' =&gt; []}, 'Venus::Type')

my $object = $type-&gt;deduce;

# bless({'value' =&gt; []}, 'Venus::Array')

my $code = $type-&gt;code;

# "ARRAY"
</code></pre>

<p><strong>Venus::Vars</strong> - The Vars class provides methods for accessing <code>%ENV</code> items.</p>

<pre><code>package main;

use Venus::Vars;

my $vars = Venus::Vars-&gt;new(
  value =&gt; { USER =&gt; 'awncorp', HOME =&gt; '/home/awncorp', },
  named =&gt; { iam =&gt; 'USER', root =&gt; 'HOME', },
);

# bless({....}, 'Venus::Vars')

$vars-&gt;iam;

# "awncorp"

# $vars-&gt;root; # $ENV{HOME}
# $vars-&gt;home; # $ENV{HOME}
# $vars-&gt;get('home'); # $ENV{HOME}
# $vars-&gt;get('HOME'); # $ENV{HOME}

# $vars-&gt;iam; # $ENV{USER}
# $vars-&gt;user; # $ENV{USER}
# $vars-&gt;get('user'); # $ENV{USER}
# $vars-&gt;get('USER'); # $ENV{USER}
</code></pre>

<p><strong>Venus::Yaml</strong> - The Yaml class provides methods for encoding and decoding
YAML data.</p>

<pre><code>package main;

use Venus::Yaml;

my $yaml = Venus::Yaml-&gt;new(
  value =&gt; { name =&gt; ['Ready', 'Robot'], version =&gt; 0.12, stable =&gt; !!1, }
);

# bless({...}, 'Venus::Yaml')

$yaml-&gt;encode;

# "---\nname:\n- Ready\n- Robot\nstable: true\nversion: 0.12\n"
</code></pre>

<h2>Why Try Venus</h2>

<ul>
<li>You're doing OO in Perl 5</li>
<li>You're interested in modern idiomatic Perl</li>
<li>You're looking for an architectural standard</li>
<li>You're partial to convention over configuration</li>
<li>You're in need of power and performance</li>
</ul>

<h2>Inspiration</h2>

<ul>
<li>https://github.com/ruby/ruby</li>
<li>https://github.com/crystal-lang/crystal</li>
<li>https://github.com/elixir-lang/elixir</li>
<li>https://github.com/python/cpython</li>
</ul>

<h2>Sources</h2>

<p><a href="https://github.com/awncorp/venus">Venus: OO Standard Library for Perl 5 - Github</a></p>

<p><a href="https://news.ycombinator.com/item?id=28975453">To learn a new language, read its standard library - Hacker News</a></p>

<p><a href="https://www.reddit.com/r/ProgrammingLanguages/comments/7mzfr6/is_the_standard_library_of_any_major_programming/">Is the standard library of any major programming language a liability? - ProgrammingLanguages</a></p>

<h2>End Quote</h2>

<p>"Most software today is very much like an Egyptian pyramid with millions of bricks piled on top of each other, with no structural integrity, but just done by brute force and thousands of slaves." - Alan Kay</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_18">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/nicholasbhubbard/how-i-use-emacs-to-write-perl-40e6">How I use Emacs to write Perl</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Nicholas Hubbard
 on Wednesday 24 August 2022 23:42</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This post is about how I use Emacs to write Perl. I do not claim to have the best Perl setup of all time or anything like that. The features I need to write Perl effectively are syntax highlighting, auto-indentation, linting, and code navigation.</p>

<p>I personally like to build my own IDE by bringing together unrelated packages, which is in contrast to full blown IDE packages, such as <a href="https://metacpan.org/pod/Devel::PerlySense">Devel::PerlySense</a> or <a href="https://metacpan.org/pod/Perl::LanguageServer">Perl::LanguageServer</a>. These packages just aren't for me.</p>

<p><a id="orga25e1f5"></a></p>

<h1>
  
  
  Basics
</h1>

<p>By default Emacs uses perl-mode instead of the more advanced cperl-mode. Both packages are built-in, so to use cperl-mode instead of perl-mode all you have to do is add the following line to your config.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight common_lisp"><code><span class="p">(</span><span class="nv">fset</span> <span class="ss">'perl-mode</span> <span class="ss">'cperl-mode</span><span class="p">)</span>
</code></pre>

</div>



<p>The cperl-mode that was released with Emacs 28 improved the syntax highlighting for regular expressions and heredocs. It also fixed an annoying bug where array variable names in comments were highlighted with the array face instead of the comment face.</p>

<p>If you are using an Emacs version less than 28 then I would recommend downloading the <a href="https://github.com/emacs-mirror/emacs/blob/emacs-28/lisp/progmodes/cperl-mode.el">cperl-mode off the Emacs 28 branch</a>. I personally place this file in <code>~/.emacs.d/cperl-mode/cperl-mode.el</code>, then I load it with the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight common_lisp"><code><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'load-path</span> <span class="s">"~/.emacs.d/cperl-mode"</span><span class="p">)</span>
<span class="p">(</span><span class="nb">require</span> <span class="ss">'cperl-mode</span><span class="p">)</span>
</code></pre>

</div>



<p>By default cperl-mode replaces trailing whitespace with underscores. I cannot imagine why you would want this. To turn it off add the following line to your config.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight common_lisp"><code><span class="p">(</span><span class="k">setq</span> <span class="nv">cperl-invalid-face</span> <span class="no">nil</span><span class="p">)</span>
</code></pre>

</div>



<p>cperl-mode indents code by 2 spaces by default. You can modify this by setting the <code>cperl-indent-level</code> variable.</p>

<p>You probably want multi-line statements wrapped in parens to be indented like a block. For example by default cperl-mode indents this hash declaration in a strange way.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">my</span> <span class="nv">%hash</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">'</span><span class="s1">foo</span><span class="p">'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">'</span><span class="s1">bar</span><span class="p">'</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
            <span class="p">'</span><span class="s1">baz</span><span class="p">'</span> <span class="o">=&gt;</span> <span class="mi">3</span>
           <span class="p">);</span>
</code></pre>

</div>



<p>To fix this add the following to your config.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight common_lisp"><code><span class="p">(</span><span class="k">setq</span> <span class="nv">cperl-indent-parens-as-block</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">cperl-close-paren-offset</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">cperl-indent-level</span><span class="p">))</span>
</code></pre>

</div>



<p>Now our hash declaration indents nicely!<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">my</span> <span class="nv">%hash</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">'</span><span class="s1">foo</span><span class="p">'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">'</span><span class="s1">bar</span><span class="p">'</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">'</span><span class="s1">baz</span><span class="p">'</span> <span class="o">=&gt;</span> <span class="mi">3</span>
<span class="p">);</span>
</code></pre>

</div>



<p><a id="org3c40091"></a></p>

<h1>
  
  
  Linting
</h1>

<p>Linting our Perl code helps us easily find bugs caused by typos. My favorite Emacs linting package is <a href="https://www.flycheck.org/en/latest/">Flycheck</a>, which comes with built-in support for Perl.</p>

<p>By default Flycheck checks your code with the Perl interpreter, but it also comes with integration with <a href="https://metacpan.org/pod/Perl::Critic">Perl::Critic</a>. Personally I have only used the former.</p>

<p>I like to lint the file everytime I save, and I like to display any errors immediately. Here is how I accomplish this with Flycheck.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight common_lisp"><code><span class="p">(</span><span class="nb">require</span> <span class="ss">'flycheck</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">flycheck-check-syntax-automatically</span> <span class="o">'</span><span class="p">(</span><span class="nv">mode-enabled</span> <span class="nv">save</span><span class="p">))</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">flycheck-display-errors-delay</span> <span class="mf">0.1</span><span class="p">)</span>
</code></pre>

</div>



<p>To enable flycheck mode in cperl-mode, simply turn it on with a hook.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>(add-hook 'cperl-mode-hook 'flycheck-mode)
</code></pre>

</div>



<p>Now Emacs will underline any syntax errors, and you can view the message in the echo area by placing your cursor on the erroneus code.</p>

<p>I cannot tell you how many simple errors you will catch just by using Flycheck!</p>

<p><a id="org063479d"></a></p>

<h1>
  
  
  Code Navigation
</h1>

<p>For jumping between function definitions I use <a href="https://github.com/jacktasia/dumb-jump">dumb-jump</a>, which usually <strong>just works</strong>. I configure dumb-jump to use <a href="https://github.com/ggreer/the_silver_searcher">ag</a> for its searching which makes it work very quickly.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight common_lisp"><code><span class="p">(</span><span class="nb">require</span> <span class="ss">'dumb-jump</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">dumb-jump-force-searcher</span> <span class="ss">'ag</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'xref-backend-functions</span> <span class="nf">#'</span><span class="nv">dumb-jump-xref-activate</span><span class="p">)</span>
</code></pre>

</div>



<p>I can then use dumb-jump by calling the <code>xref-find-definitions</code> function while my cursor is on the symbol I want to search for. This function is bound to <code>M-.</code> by default.</p>

<p><a id="orgde68f03"></a></p>

<h1>
  
  
  Shell
</h1>

<p>A lot of people use <code>M-x compile</code> to run their code, and one of the various debugger packages to run the Perl debugger. Personally I just use plain old <a href="https://www.gnu.org/software/bash/">Bash</a> with the built-in <code>M-x shell</code>. This makes my work flow when it comes to running and debugging quite similar to that of a classic Perl vimmer who does all their work in a terminal.</p>

<p>I use the wonderful <a href="https://github.com/riscy/shx-for-emacs">shx</a> package for making <code>M-x shell</code> a more usable shell interface, and I use <a href="https://github.com/kyagi/shell-pop-el">shell-pop</a> for popping up shell buffers that are automatically cd'd to the current files directory.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>(require 'shx)
(add-hook 'shell-mode-hook 'shx-mode)

(require 'shell-pop)
(setq shell-pop-autocd-to-working-dir t)
(global-set-key (kbd "M-SPC") 'shell-pop)
</code></pre>

</div>



<p><a id="org3936e96"></a></p>

<h1>
  
  
  Closing Thoughts
</h1>

<p>Every 3rd-party package I described in this post is useful not only for Perl, but for programming in any language. This gives a uniform experience across different programming languages. If I instead used one of the Perl IDE packages then I wouldn't get the same uniform experience when using other languages.</p>

<p><a id="orgd51f8f0"></a></p>

<h1>
  
  
  See Also
</h1>

<ul>
<li>  <a href="https://www.emacswiki.org/emacs/CPerlMode">CPerl Documentation</a>  - Offical documentation for cperl-mode</li>
<li>  <a href="https://metacpan.org/pod/Perl::LanguageServer">Perl::LanguageServer</a> - Language server for Perl</li>
<li>  <a href="https://metacpan.org/pod/Devel::PerlySense">Devel::PerlySense</a>    - Perl IDE features for Emacs</li>
<li>  <a href="https://metacpan.org/pod/Emacs::PDE">Emacs::PDE</a>           - Elisp extensions for Perl development</li>
</ul>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_19">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/jmeneghin/get-gc-content-1971">Get GC Content</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Jennifer Meneghin
 on Wednesday 24 August 2022 19:21</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>I wrote a Perl script that calculates GC content for all the sequences in a fasta file back in 2010 for the Reysenbach Lab, and it was made publicly available soon after. You can find get_gc_content.pl on GitHub (<a href="https://github.com/jmeneghin/perl-for-reysenbach-lab">https://github.com/jmeneghin/perl-for-reysenbach-lab</a>)</p>

<p>Here is a published article that uses my script:<br>
Schilling, T., Hoppert, M., and Hertel, R. 2018. Genomic Analysis of the Recent Viral Isolate vB_BthP-Goe4 Reveals Increased Diversity of φ29-Like Phages. Viruses, 10(11), 624, doi: 10.3390/v10110624.</p>

<p>And also a PhD Dissertation:<br>
Quistad, S. D. 2015. Viruses, Corals and the Origin of Metazoans. UC San Diego, San Diego, CA.</p>

<p>From a programming prospective, A DNA sequence is a sequence of As, Gs, Cs and Ts. The GC content of a sequence is the number of Gs + the number of Cs divided by the total number of As, Gs, Cs and Ts in the sequence (i.e. the length of the sequence), multiplied by 100% to get a percentage.</p>

<p>Actual DNA is double stranded, but when we look at the sequence on a computer, we don’t need to look at the second strand because base pairs only form naturally between G and C, and A and T. So if you have a G on one strand you know you have a C on the other at the same location.</p>

<p>If you are counting both strands, the total number of Gs and Cs should be the same, overall. Similarly, the total number of As and Ts should be the same, overall. And since there are only two groups here, if I give you the percentage of Gs and Cs on the first strand, it will be the same as the second strand, and also equal to 1 minus the percentage of As and Ts on the first and second strand. So it’s a nice summary statistic.</p>

<p>This script takes a fasta file as its first (and only) parameter. It returns a tab delimited file (gc_out.txt): column 1 = header ID (everything between “&gt;” and the first space in the header), column 2 = gc content for the fasta entry, column 3 = the total nucleotide count, and columns 4, 5, 6, and 7 = the number of A’s, G’s, C’s and T’s for each fasta record. Any other extraneous symbols (such as spaces or Ns that stand for unknown) are not included in the calculation.</p>

<p>Many articles have been published about the role of GC content in the evolution of genomes, including studies on bacteria, plants, and animals including humans.</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_20">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/dancer2-configuration">Dancer2: Configuration</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Wednesday 24 August 2022 08:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
Part of the Dancer2 video course available both to <a href="/pro">Pro</a> subscribers and attendees of the <a href="https://leanpub.com/c/dancer">Perl Dancer course</a> on Leanpub.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_21">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/578.html">#578 - Corinna MVP</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 22 August 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there,</p>
<p>Belated Happy Independence Day to all fellow Indians. We celebrated 75th Anniversary of Independence on <strong>15th August</strong>, a proud moment for all of us.</p>
<p>Ever since the release of <strong>Perl v5.36</strong>, everyone is looking forward to the next big thing in the pipeline, <strong>Corinna</strong>. I am sure, you don't need an introduction but if you do then you can take a look at this <a href="https://github.com/Ovid/Cor">official documentation</a>. <strong>Curtis Poe</strong> recently shared the latest update about the <strong>Corinna (MVP)</strong> as accepted by The Perl Steering Committee as detailed in the <a href="https://github.com/Ovid/Cor/blob/master/rfc/mvp.md">document</a>.</p>
<p>Do you follow the latest release to <strong>CPAN</strong> on <a href="https://metacpan.org/recent">MetaCPAN</a>?</p>
<p>I noticed one particular distribution, <a href="https://metacpan.org/dist/WWW-Mechanize">WWW::Mechanize</a>, currently maintained by a friend of mine and colleague at work, <strong>Julien Fiegehenn</strong>. He is on the mission to clear pending issues. He shared the news recently that pull request queue is empty in this <a href="https://twitter.com/simbabque/status/1559267485764816896">Twitter thread</a>. I noticed the distribution has <strong>92.50% coverage</strong>. If you have spare time and would like to contribute then please do help get <strong>100% coverage</strong>.</p>
<p>Perl jobs in London seems getting back on track. Couple of days ago, I received an email about <a href="https://perl.careers/jobs/perl_programmer_business_owner_uk_eu_remote">Perl role in London</a> by Perl Careers. The title of the post caught my eye, <strong>Perl Developer and Business Owner?</strong>.</p>
<p>Last but not the least, I would like to recommend <a href="https://leanpub.com/learning_perl_exercises">Learning Perl Exercises</a> by <strong>brian d foy</strong>. I am sure, you will find it handy.</p>
<p>Enjoy the rest of the newsletter.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_22">
            <div class="card-header">
              <h2 class="card-title"><a href="https://theweeklychallenge.org/blog/review-challenge-172/">Colin Crain › Perl Weekly Review #172</a></h2>
<a href="https://theweeklychallenge.org/blog/" class="badge badge-primary" style="float: left">The Weekly Challenge</a>

              <p class="text-right"><small>Published
 on Monday 22 August 2022 00:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">( &hellip;continues from previous week. )
Welcome to the Perl review pages for Week 172 of The Weekly Challenge! Here we will take the time to discuss the submissions offered up by the team, factor out some common methodologies that came up in those solutions, and highlight some of the unique approaches and unusual code created.
 ●︎ Why do we do these challenges? I suppose any reasonable answer to that question would be from a field as wide ranging and varied as the people who choose to join the team.       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_23">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/08/cdvi-15-great-cpan-modules-released.html">(cdvi) 15 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 20 August 2022 23:58</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br/><br/><ol><li><a href='https://metacpan.org/release/PLICEASE/Alien-Build-2.59' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Alien::Build</span></b></a> - Build external dependencies for use in CPAN <ul>  <li>Version: <strong>2.59</strong> on 2022-08-16</li>  <li>Votes: 22</li>  <li>Previous version: 2.56 was 3 days before</li></ul></li><li><a href='https://metacpan.org/release/OLIVER/App-Netdisco-2.055000' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>App::Netdisco</span></b></a> - An open source web-based network management tool. <ul>  <li>Version: <strong>2.055000</strong> on 2022-08-17</li>  <li>Votes: 14</li>  <li>Previous version: 2.053007 was 8 days before</li></ul></li><li><a href='https://metacpan.org/release/PABLROD/Chart-Plotly-0.042' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Chart::Plotly</span></b></a> - Generate html/javascript charts from perl data using javascript library plotly.js <ul>  <li>Version: <strong>0.042</strong> on 2022-08-15</li>  <li>Votes: 15</li>  <li>Previous version: 0.041 was 1 year, 9 months, 14 days before</li></ul></li><li><a href='https://metacpan.org/release/DROLSKY/DateTime-TimeZone-2.53' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>DateTime::TimeZone</span></b></a> - Time zone object base class and factory <ul>  <li>Version: <strong>2.53</strong> on 2022-08-14</li>  <li>Votes: 18</li>  <li>Previous version: 2.52 was 4 months, 28 days before</li></ul></li><li><a href='https://metacpan.org/release/PEVANS/IO-Async-0.802' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>IO::Async</span></b></a> - Asynchronous event-driven programming <ul>  <li>Version: <strong>0.802</strong> on 2022-08-15</li>  <li>Votes: 68</li>  <li>Previous version: 0.801 was 8 months before</li></ul></li><li><a href='https://metacpan.org/release/JHTHORSEN/JSON-Validator-5.10' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>JSON::Validator</span></b></a> - Validate data against a JSON schema <ul>  <li>Version: <strong>5.10</strong> on 2022-08-17</li>  <li>Votes: 30</li>  <li>Previous version: 5.08 was 4 months, 23 days before</li></ul></li><li><a href='https://metacpan.org/release/BINGOS/Module-CoreList-5.20220820' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Module::CoreList</span></b></a> - what modules shipped with versions of perl <ul>  <li>Version: <strong>5.20220820</strong> on 2022-08-20</li>  <li>Votes: 38</li>  <li>Previous version: 5.20220720 was 30 days before</li></ul></li><li><a href='https://metacpan.org/release/JHTHORSEN/Mojolicious-Plugin-OpenAPI-5.07' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Mojolicious::Plugin::OpenAPI</span></b></a> - OpenAPI / Swagger plugin for Mojolicious <ul>  <li>Version: <strong>5.07</strong> on 2022-08-17</li>  <li>Votes: 41</li>  <li>Previous version: 5.05 was 4 months, 23 days before</li></ul></li><li><a href='https://metacpan.org/release/SYP/Net-Curl-0.52' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Net::Curl</span></b></a> - Perl interface for libcurl <ul>  <li>Version: <strong>0.52</strong> on 2022-08-17</li>  <li>Votes: 16</li>  <li>Previous version: 0.51 was 1 month, 9 days before</li></ul></li><li><a href='https://metacpan.org/release/JHTHORSEN/OpenAPI-Client-1.05' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>OpenAPI::Client</span></b></a> - A client for talking to an Open API powered server <ul>  <li>Version: <strong>1.05</strong> on 2022-08-17</li>  <li>Votes: 14</li>  <li>Previous version: 1.04 was 2 months, 14 days before</li></ul></li><li><a href='https://metacpan.org/release/KARASIK/Prima-1.66' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Prima</span></b></a> - a perl graphic toolkit <ul>  <li>Version: <strong>1.66</strong> on 2022-08-20</li>  <li>Votes: 34</li>  <li>Previous version: 1.65 was 4 months before</li></ul></li><li><a href='https://metacpan.org/release/KIMOTO/SPVM-0.9643' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>SPVM</span></b></a> - SPVM Language <ul>  <li>Version: <strong>0.9643</strong> on 2022-08-18</li>  <li>Votes: 26</li>  <li>Previous version: 0.9638 was 8 days before</li></ul></li><li><a href='https://metacpan.org/release/ABW/Template-Toolkit-3.101' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Template::Toolkit</span></b></a> - comprehensive template processing system <ul>  <li>Version: <strong>3.101</strong> on 2022-08-16</li>  <li>Votes: 137</li>  <li>Previous version: 3.100 was 3 months, 20 days before</li></ul></li><li><a href='https://metacpan.org/release/TOBYINK/Type-Tiny-1.016008' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Type::Tiny</span></b></a> - tiny, yet Moo(se)-compatible type constraint <ul>  <li>Version: <strong>1.016008</strong> on 2022-08-14</li>  <li>Votes: 131</li>  <li>Previous version: 1.016007 was 10 days before</li></ul></li><li><a href='https://metacpan.org/release/SIMBABQUE/WWW-Mechanize-2.14' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>WWW::Mechanize</span></b></a> - Handy web browsing in a Perl object <ul>  <li>Version: <strong>2.14</strong> on 2022-08-15</li>  <li>Votes: 93</li>  <li>Previous version: 2.13 was 17 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_24">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2022/08/perl-weekly-challenge-177-damm-algorithm-and-palindromic-prime-cyclops.html">Perl Weekly Challenge 177: Damm Algorithm and Palindromic Prime Cyclops</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Thursday 18 August 2022 19:19</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 177 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-177/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few of days from now (on Aug. 14, 2022 at 23:59). This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: Damm Algorithm</h2>

<p><em>You are given a positive number, <code>$n</code>.</em></p>

<p><em>Write a script to validate the given number against the included check digit.</em></p>

<p><em>Please checkout the <a href="https://en.wikipedia.org/wiki/Damm_algorithm">wikipedia page</a> for information.</em></p>

<p><em>Example 1</em></p>

<pre><code>Input: $n = 5724
Output: 1 as it is valid number
</code></pre>

<p><em>Example 2</em></p>

<pre><code>Input: $n = 5727
Output: 0 as it is invalid number
</code></pre>

<p>The algorithm is a check digit algorithm named after H. Michael Damm, who presented it in 2004.</p>

<p>The process is quite simple. We&#8217;ll use the quasi-group table provided in the afore-mentioned Wikipedia article:</p>

<pre><code>0 3 1 7 5 9 8 6 4 2
7 0 9 2 1 5 4 8 6 3
4 2 0 6 8 7 1 3 5 9
1 7 5 0 9 8 3 4 2 6
6 1 2 3 0 4 5 9 7 8
3 6 7 4 2 0 9 5 8 1
5 8 6 9 7 2 0 1 3 4
8 9 4 5 3 6 2 0 1 7
9 4 3 8 6 1 7 2 0 5
2 5 8 1 4 3 6 7 9 0
</code></pre>

<h3>Damm Algorithm in Raku</h3>

<p>The process is simple. We start with a temporary value of 0. For each digit in the input number, we look up the table with the temporary variable and the digit, and set the temporary variable to the integer found in the table. At the end, the number is valid is the temporary variable is 0. For our test, we will use the two examples provided in the task specification, and we will test all numbers in the <code>5700..5800</code> range.</p>

<pre><code>my @damm =  &lt; 0 3 1 7 5 9 8 6 4 2 &gt;,
            &lt; 7 0 9 2 1 5 4 8 6 3 &gt;,
            &lt; 4 2 0 6 8 7 1 3 5 9 &gt;,
            &lt; 1 7 5 0 9 8 3 4 2 6 &gt;,
            &lt; 6 1 2 3 0 4 5 9 7 8 &gt;,
            &lt; 3 6 7 4 2 0 9 5 8 1 &gt;,
            &lt; 5 8 6 9 7 2 0 1 3 4 &gt;,
            &lt; 8 9 4 5 3 6 2 0 1 7 &gt;,
            &lt; 9 4 3 8 6 1 7 2 0 5 &gt;,
            &lt; 2 5 8 1 4 3 6 7 9 0 &gt;;

sub is-valid ($n) {
    my $t = 0;
    $t = @damm[$t][$_] for $n.comb;
    return $t == 0;
}

for 5724, 5727 -&gt; $test {
    say $test, is-valid($test) ?? " is valid." !! " is not valid.";
}
say "\nValid numbers between 5700 and 5800 are: ";
for 5700..5800 -&gt; $i {
    print "$i " if is-valid $i;
}
say "";
</code></pre>

<p>This program displays the following output: </p>

<pre><code>$ raku ./damm-algo.raku
5724 is valid.
5727 is not valid.

Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h3>Damm Algorithm in Perl</h3>

<p>The algorithm for finding the check digit is the same as the one for testing whether a number is valid. So, rather than simply testing the validity directly as we did in Raku, we&#8217;ll write a <code>find_check</code> subroutine to find the check digit. Then, a number will be valid if its check digit is 0. Thus, we sort of get the two functions for the price of one. Besides that, the process is essentially the same as in Raku. Check the Raku section above is you need further explanations.</p>

<pre><code>use strict;
use warnings;
use feature qw/say/;

my @damm =  (
[ &lt; 0 3 1 7 5 9 8 6 4 2 &gt; ],
[ &lt; 7 0 9 2 1 5 4 8 6 3 &gt; ],
[ &lt; 4 2 0 6 8 7 1 3 5 9 &gt; ],
[ &lt; 1 7 5 0 9 8 3 4 2 6 &gt; ],
[ &lt; 6 1 2 3 0 4 5 9 7 8 &gt; ],
[ &lt; 3 6 7 4 2 0 9 5 8 1 &gt; ],
[ &lt; 5 8 6 9 7 2 0 1 3 4 &gt; ],
[ &lt; 8 9 4 5 3 6 2 0 1 7 &gt; ],
[ &lt; 9 4 3 8 6 1 7 2 0 5 &gt; ],
[ &lt; 2 5 8 1 4 3 6 7 9 0 &gt; ] );

sub find_check {
    my $n = shift;
    my $t = 0;
    $t = $damm[$t][$_] for split //, $n;
    return $t;
}

sub is_valid {
    my $n = shift;
    return find_check($n) == 0;
}

for my $test (5724, 5727) {
    say $test, is_valid($test) ? " is valid." : " is not valid.";
}
say "\nValid numbers between 5700 and 5800 are: ";
for my $i (5700..5800) {
    print "$i " if is_valid $i;
}
say "";
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ perl  ./damm-algo.pl
5724 is valid.
5727 is not valid.

Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h3>Damm Algorithm in Other Languages</h3>

<p>We now present the same Damm algorithm in the following 18 guest languages (in alphabetic order):</p>

<ul>
<li>awk</li>
<li>C</li>
<li>D</li>
<li>Dart</li>
<li>Go</li>
<li>Java</li>
<li>JavaScript</li>
<li>Julia</li>
<li>Kotlin</li>
<li>Lua</li>
<li>Nim</li>
<li>Pascal</li>
<li>Python</li>
<li>Ring</li>
<li>Ruby</li>
<li>Rust</li>
<li>Scala</li>
<li>Tcl</li>
</ul>

<p>From now on, for all guest language implementations, the test will consist in listing the valid numbers between 5700 and 5800, a range that includes the two test cases (5724 and 5727) suggested in the task specification.</p>

<h4>Damm Algorithm in awk</h4>

<p>The awk programming language has minimal support for arrays. It doesn&#8217;t seem to support two-dimensional arrays, and iniitializing arrays in a pain in the neck (there may be some way, but the documentation is scarce). So we implement the <code>damm</code> lookup array as an array of strings and initialize it by initializing each item in the array (in the <code>populate_damm</code> function). Then we use the <code>substr</code> built-in function to retrieve the wanted value from the strings.</p>

<pre><code>function is_valid(n) {
    t = 0
    for (j = 1; j &lt;= length(n); j++) {
        t = substr(damm[t],substr(n, j, 1) + 1 ,1)
    }
    return t == 0
}
function populate_damm() {
    damm[0] = "0317598642"
    damm[1] = "7092154863"
    damm[2] = "4206871359"
    damm[3] = "1750983426"
    damm[4] = "6123045978"
    damm[5] = "3674209581"
    damm[6] = "5869720134"
    damm[7] = "8945362017"
    damm[8] = "9438617205"
    damm[9] = "2581436790"
}
BEGIN {
    populate_damm()
    print("Valid numbers between 5700 and 5800 are: ")
    for (i  = 5700; i&lt;= 5800; i++) {
        if (is_valid(i)) {
            printf("%d ", i)
        }
    }
}
</code></pre>

<p>Output:</p>

<pre><code>$ awk -f ./damm-algo.awk
Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<p>Note that I was thinking about a <em>bc</em> implementation of the Damm algorithm, but I gave up the idea because the situation with arrays (and also documentation) is worse that in awk.</p>

<h4>Damm Algorithm in C</h4>

<p>Not much to say, the code is quite clear. Just note that, in the <code>temp = damm[temp][str[i] - '0'];</code> code line, we need to subtract the Ascii value of 0 (48) from the value in the <code>str</code> integer-to-string conversion in order to get proper subscripts. We will have to do the same in a number of other guest language implementations. </p>

<pre><code>#include &lt;stdio.h&gt;

const char damm[10][10] = {
        {0, 3, 1, 7, 5, 9, 8, 6, 4, 2},
        {7, 0, 9, 2, 1, 5, 4, 8, 6, 3},
        {4, 2, 0, 6, 8, 7, 1, 3, 5, 9},
        {1, 7, 5, 0, 9, 8, 3, 4, 2, 6},
        {6, 1, 2, 3, 0, 4, 5, 9, 7, 8},
        {3, 6, 7, 4, 2, 0, 9, 5, 8, 1},
        {5, 8, 6, 9, 7, 2, 0, 1, 3, 4},
        {8, 9, 4, 5, 3, 6, 2, 0, 1, 7},
        {9, 4, 3, 8, 6, 1, 7, 2, 0, 5},
        {2, 5, 8, 1, 4, 3, 6, 7, 9, 0},
    };

int is_valid(int num) {
    int temp = 0;
    char str[10];
    int len = sprintf(str, "%d", num);   // convert input int to string
    str[len] = '\0';
    for (int i = 0; i &lt; len; i++) {
         temp = damm[temp][str[i] - '0'];
    }
    return temp == 0;
}

int main() {
    printf("%s\n", "Valid numbers between 5700 and 5800 are: ");
    for (int i = 5700; i &lt; 5800; i++) {
        if (is_valid(i)) 
            printf("%d ", i);
    }
    printf("%s\n", "");
}
</code></pre>

<p>Output:</p>

<pre><code>$ ./a.out
Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in D</h4>

<p>As usual, the D syntax is very similar to the C syntax, but D is just a bit simpler to use than C.</p>

<pre><code>import std.stdio;
import std.conv;

auto damm = [
    [0, 3, 1, 7, 5, 9, 8, 6, 4, 2],
    [7, 0, 9, 2, 1, 5, 4, 8, 6, 3],
    [4, 2, 0, 6, 8, 7, 1, 3, 5, 9],
    [1, 7, 5, 0, 9, 8, 3, 4, 2, 6],
    [6, 1, 2, 3, 0, 4, 5, 9, 7, 8],
    [3, 6, 7, 4, 2, 0, 9, 5, 8, 1],
    [5, 8, 6, 9, 7, 2, 0, 1, 3, 4],
    [8, 9, 4, 5, 3, 6, 2, 0, 1, 7],
    [9, 4, 3, 8, 6, 1, 7, 2, 0, 5],
    [2, 5, 8, 1, 4, 3, 6, 7, 9, 0],
];

bool is_valid (int num) {
    string str = to!string(num, 10);
    int temp = 0;
    foreach (ch; str) {
        temp = damm[temp][ch - '0'];
    }
    return temp == 0;
}

void main() {
    writeln("Valid numbers between 5700 and 5800 are: ");
    for (int i = 5700; i &lt; 5800; i++) {
        if (is_valid(i)) 
            printf("%d ", i);
    }
    writeln("");
}
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are: 
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Dart</h4>

<p>Like in awk, I haven&#8217;t found a good way to declare and initialize two-dimensional arrays in Dart, and the documentation is quite sparse. So I used the same solution as in awk: an array of strings.</p>

<pre><code>import "dart:io";

var damm = [ "0317598642",
             "7092154863",
             "4206871359",
             "1750983426",
             "6123045978",
             "3674209581",
             "5869720134",
             "8945362017",
             "9438617205",
             "2581436790" ];

void main() {
    print("Valid numbers between 5700 and 5800 are:");
    for (int i = 5700; i &lt;= 5800; i++ ) {
        if (is_valid(i)) {
            stdout.write("$i ");
        }
    }
    stdout.write("\n");
}
bool is_valid(n) {
    var digits = n.toString().split("");
    int temp = 0;
    var len = digits.length;
    for (int i = 0; i &lt; len; i++) { 
        var row = damm[temp];
        var idx = int.parse(digits[i]);
        temp = int.parse(row[idx]);
    }
    return temp == 0;
}
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Go</h4>

<pre><code>import (
    "fmt"
    "strconv"
)

var damm = [10][10] int {
    {0, 3, 1, 7, 5, 9, 8, 6, 4, 2},
    {7, 0, 9, 2, 1, 5, 4, 8, 6, 3},
    {4, 2, 0, 6, 8, 7, 1, 3, 5, 9},
    {1, 7, 5, 0, 9, 8, 3, 4, 2, 6},
    {6, 1, 2, 3, 0, 4, 5, 9, 7, 8},
    {3, 6, 7, 4, 2, 0, 9, 5, 8, 1},
    {5, 8, 6, 9, 7, 2, 0, 1, 3, 4},
    {8, 9, 4, 5, 3, 6, 2, 0, 1, 7},
    {9, 4, 3, 8, 6, 1, 7, 2, 0, 5},
    {2, 5, 8, 1, 4, 3, 6, 7, 9, 0},
}

func is_valid(num int) bool {
    var n_str = strconv.Itoa(num)
    var temp = 0
    for _, ch := range n_str {
        temp = damm[temp][ch-'0']
    }
    return temp == 0
}

func main() {
    fmt.Println("Valid numbers between 5700 and 5800 are:")
    for i := 5700; i &lt;= 5800; i++ {
        if is_valid(i) {
            fmt.Printf("%d ", i)
        }
    }
    fmt.Println("")
}
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Java</h4>

<pre><code>public class DammCheckDigit {
    private static final int[][] damm = 
        { {0, 3, 1, 7, 5, 9, 8, 6, 4, 2},
          {7, 0, 9, 2, 1, 5, 4, 8, 6, 3},
          {4, 2, 0, 6, 8, 7, 1, 3, 5, 9},
          {1, 7, 5, 0, 9, 8, 3, 4, 2, 6},
          {6, 1, 2, 3, 0, 4, 5, 9, 7, 8},
          {3, 6, 7, 4, 2, 0, 9, 5, 8, 1},
          {5, 8, 6, 9, 7, 2, 0, 1, 3, 4},
          {8, 9, 4, 5, 3, 6, 2, 0, 1, 7},
          {9, 4, 3, 8, 6, 1, 7, 2, 0, 5},
          {2, 5, 8, 1, 4, 3, 6, 7, 9, 0} };

    private static boolean is_valid(Integer num) {
        char[] n = num.toString().toCharArray();
        int temp = 0;
        for (char ch : n) {
            temp = damm[temp][ch - '0'];
        }
        return temp == 0;
    }

    public static void main(String[] args) {
        System.out.printf("%s", "Valid numbers between 5700 and 5800 are:");
        for(int i = 5700; i &lt;= 5800; i++) {
            if (is_valid(i))  System.out.printf("%d ", i);
        }
        System.out.printf("%s", "\n");
    }
}
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in JavaScript</h4>

<pre><code>damm = [ [0, 3, 1, 7, 5, 9, 8, 6, 4, 2],
         [7, 0, 9, 2, 1, 5, 4, 8, 6, 3],
         [4, 2, 0, 6, 8, 7, 1, 3, 5, 9],
         [1, 7, 5, 0, 9, 8, 3, 4, 2, 6],
         [6, 1, 2, 3, 0, 4, 5, 9, 7, 8],
         [3, 6, 7, 4, 2, 0, 9, 5, 8, 1],
         [5, 8, 6, 9, 7, 2, 0, 1, 3, 4],
         [8, 9, 4, 5, 3, 6, 2, 0, 1, 7],
         [9, 4, 3, 8, 6, 1, 7, 2, 0, 5],
         [2, 5, 8, 1, 4, 3, 6, 7, 9, 0] ];

function is_valid (n) {
    let digits = n.toString().split("")
    var temp = 0
    for (var i = 0; i &lt; digits.length; i++) {
        temp = damm[temp][digits[i]]
    }
    return temp == 0
}

console.log("Valid numbers between 5700 and 5800 are:")
for (var i = 5700; i &lt;= 5800; i++) {
    if (is_valid(i)) {
        process.stdout.write(i + " ")
    }
}
console.log("")
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Julia</h4>

<p>Julia array indices start at 1, not 0, so the crucial code line (<code>temp = damm[temp + 1][d - '0' + 1]</code>) needs to add 1 to the array subscripts when retrieving values from the <code>damm</code> matrix.</p>

<pre><code>function is_valid(num)
    damm = (
        (0, 3, 1, 7, 5, 9, 8, 6, 4, 2),
        (7, 0, 9, 2, 1, 5, 4, 8, 6, 3),
        (4, 2, 0, 6, 8, 7, 1, 3, 5, 9),
        (1, 7, 5, 0, 9, 8, 3, 4, 2, 6),
        (6, 1, 2, 3, 0, 4, 5, 9, 7, 8),
        (3, 6, 7, 4, 2, 0, 9, 5, 8, 1),
        (5, 8, 6, 9, 7, 2, 0, 1, 3, 4),
        (8, 9, 4, 5, 3, 6, 2, 0, 1, 7),
        (9, 4, 3, 8, 6, 1, 7, 2, 0, 5),
        (2, 5, 8, 1, 4, 3, 6, 7, 9, 0))
    temp = 0
    str = string(num)
    for d in str
        temp = damm[temp + 1][d - '0' + 1]
    end
    return temp == 0
end

println("Valid numbers between 5700 and 5800 are: ")
for i in 5700:5800
    if is_valid(i)
        print("$i ")
    end
end
println("")
</code></pre>

<p>Output:</p>

<pre><code>$ julia ./damm-algo.jl
Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Kotlin</h4>

<p>Declaring and initializing a matrix in Kotlin is somewhat painful, but the code is otherwise fairly straight forward.</p>

<pre><code>val damm = arrayOf(
    intArrayOf(0, 3, 1, 7, 5, 9, 8, 6, 4, 2),
    intArrayOf(7, 0, 9, 2, 1, 5, 4, 8, 6, 3),
    intArrayOf(4, 2, 0, 6, 8, 7, 1, 3, 5, 9),
    intArrayOf(1, 7, 5, 0, 9, 8, 3, 4, 2, 6),
    intArrayOf(6, 1, 2, 3, 0, 4, 5, 9, 7, 8),
    intArrayOf(3, 6, 7, 4, 2, 0, 9, 5, 8, 1),
    intArrayOf(5, 8, 6, 9, 7, 2, 0, 1, 3, 4),
    intArrayOf(8, 9, 4, 5, 3, 6, 2, 0, 1, 7),
    intArrayOf(9, 4, 3, 8, 6, 1, 7, 2, 0, 5),
    intArrayOf(2, 5, 8, 1, 4, 3, 6, 7, 9, 0)
)

fun is_valid(num: Int): Boolean {
    val n_str = num.toString()
    var temp = 0
    for (d in n_str) {
        temp = damm[temp][d - '0']
    }
    return temp == 0
}

fun main() {
    println("Valid numbers between 5700 and 5800 are: ")
    for (i in 5700..5800) {
        if (is_valid(i)) print("$i ")
    }
    println("")
}
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are: 
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Lua</h4>

<p>Like in Julia, Lua array indices start at 1, not 0, so the crucial code line (<code>temp = damm[temp + 1][ch + 1]</code>) needs to add 1 to the array subscripts when retrieving values from the <code>damm</code> matrix.</p>

<pre><code>local damm = {
    {0,3,1,7,5,9,8,6,4,2},
    {7,0,9,2,1,5,4,8,6,3},
    {4,2,0,6,8,7,1,3,5,9},
    {1,7,5,0,9,8,3,4,2,6},
    {6,1,2,3,0,4,5,9,7,8},
    {3,6,7,4,2,0,9,5,8,1},
    {5,8,6,9,7,2,0,1,3,4},
    {8,9,4,5,3,6,2,0,1,7},
    {9,4,3,8,6,1,7,2,0,5},
    {2,5,8,1,4,3,6,7,9,0}
}
function is_valid(num)
    local n_str = tostring(num)
    local temp = 0
    for ch in n_str:gmatch"." do
        temp = damm[temp + 1][ch + 1]
    end
    return temp == 0
end

print("Valid numbers between 5700 and 5800 are: ")
for i = 5700, 5800 do
    if is_valid(i) then
        io.write(i, " ")
    end
end
print("")
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are: 
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Nim</h4>

<p>Remember that Nim control flow is indentation-based, like Python.</p>

<pre><code>import strutils

let damm = [ [0, 3, 1, 7, 5, 9, 8, 6, 4, 2],
             [7, 0, 9, 2, 1, 5, 4, 8, 6, 3],
             [4, 2, 0, 6, 8, 7, 1, 3, 5, 9],
             [1, 7, 5, 0, 9, 8, 3, 4, 2, 6],
             [6, 1, 2, 3, 0, 4, 5, 9, 7, 8],
             [3, 6, 7, 4, 2, 0, 9, 5, 8, 1],
             [5, 8, 6, 9, 7, 2, 0, 1, 3, 4],
             [8, 9, 4, 5, 3, 6, 2, 0, 1, 7],
             [9, 4, 3, 8, 6, 1, 7, 2, 0, 5],
             [2, 5, 8, 1, 4, 3, 6, 7, 9, 0] ]

proc is_valid(num: int): bool =
  let n_str = intToStr(num)
  var temp = 0
  for i in 0..len(n_str) - 1:
    temp = damm[temp][int(n_str[i]) - 48]
  return temp == 0

echo "Valid numbers between 5700 and 5800 are:"
for i in 5700..5800:
  if is_valid(i):
    stdout.write i, " "
echo ""
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Pascal</h4>

<p>I&#8217;m not particularly fond of Pascal, which I found too verbose (at least, by today&#8217;s criteria), and I&#8217;ve never used it for real-life projects (well, except some quite small Delphi projects a number of decades ago). But, having said that, I must add that Pascal is nonetheless a soft point for me, as it is the first language that I learned in my IS studies (although I had programmed as an autodidact before starting my studies, in Basic, in C, and in the pseudo-assembler of programmable pocket calculators). Pascal is quite clean (perhaps too clean) and it is with Pascal that I first learned the tenets of structured programming.  Other languages that I used at the time and found interesting were Fortran, Ada, Prolog, Caml, and especially Modula-2 (or, was it Modula-3? Quite possibly both, one after the other. I&#8217;m not quite sure). I might try implementations in some of these languages some day, although I have forgotten most about them. Another  language that I also (vaguely) learned at the time of my early studies is Cobol, but I disliked it so much that it is very unlikely that I will ever try to code something in it in the future.</p>

<pre><code>program DammCheckDigit;
uses
  sysutils;

const damm : array[0..9,0..9] of integer =
    ( (0,3,1,7,5,9,8,6,4,2),
      (7,0,9,2,1,5,4,8,6,3),
      (4,2,0,6,8,7,1,3,5,9),
      (1,7,5,0,9,8,3,4,2,6),
      (6,1,2,3,0,4,5,9,7,8),
      (3,6,7,4,2,0,9,5,8,1),
      (5,8,6,9,7,2,0,1,3,4),
      (8,9,4,5,3,6,2,0,1,7),
      (9,4,3,8,6,1,7,2,0,5),
      (2,5,8,1,4,3,6,7,9,0) );

function is_valid(num : integer) : boolean;
var
    temp, i : integer;
    n_str : string;
begin
    n_str := inttostr(num);
    temp := 0;
    for i := 0 to length(n_str) do
    begin
        temp := damm[temp, ord(n_str[i]) - ord ('0')];
    end;
    is_valid := temp=0;
end;

var
    i : integer;
begin
    writeln('Valid numbers between 5700 and 5800 are:');
    for i := 5700 to 5800 do
    begin
        if is_valid(i) then
             write(i, ' ');
    end;
    writeln
end.

{
Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797 
}
</code></pre>

<h4>Damm Algorithm in Python</h4>

<pre><code>damm = (
    (0, 3, 1, 7, 5, 9, 8, 6, 4, 2),
    (7, 0, 9, 2, 1, 5, 4, 8, 6, 3),
    (4, 2, 0, 6, 8, 7, 1, 3, 5, 9),
    (1, 7, 5, 0, 9, 8, 3, 4, 2, 6),
    (6, 1, 2, 3, 0, 4, 5, 9, 7, 8),
    (3, 6, 7, 4, 2, 0, 9, 5, 8, 1),
    (5, 8, 6, 9, 7, 2, 0, 1, 3, 4),
    (8, 9, 4, 5, 3, 6, 2, 0, 1, 7),
    (9, 4, 3, 8, 6, 1, 7, 2, 0, 5),
    (2, 5, 8, 1, 4, 3, 6, 7, 9, 0)
)

def is_valid(num: int) -&gt; bool:
  temp = 0
  for d in str(num):
    temp = damm[temp][int(d)] 
  return temp == 0

print("Valid numbers between 5700 and 5800 are:")
for i in range(5700, 5801):
  if is_valid(i):
    print(i, end=' ')
print("")
</code></pre>

<p>Output:</p>

<pre><code>$ python3 ./damm-algo.py
Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Ring</h4>

<p>Like in Julia and Lua, array indices start at 1, not 0, so the crucial code line (<code>temp = damm[temp + 1][ch - '0' + 1]</code>) needs to add 1 to the array subscripts when retrieving values from the <code>damm</code> matrix.</p>

<pre><code>damm = [ [0, 3, 1, 7, 5, 9, 8, 6, 4, 2],
         [7, 0, 9, 2, 1, 5, 4, 8, 6, 3],
         [4, 2, 0, 6, 8, 7, 1, 3, 5, 9],
         [1, 7, 5, 0, 9, 8, 3, 4, 2, 6],
         [6, 1, 2, 3, 0, 4, 5, 9, 7, 8],
         [3, 6, 7, 4, 2, 0, 9, 5, 8, 1],
         [5, 8, 6, 9, 7, 2, 0, 1, 3, 4],
         [8, 9, 4, 5, 3, 6, 2, 0, 1, 7],
         [9, 4, 3, 8, 6, 1, 7, 2, 0, 5],
         [2, 5, 8, 1, 4, 3, 6, 7, 9, 0] ]

see "Valid numbers between 5700 and 5800 are:" + nl
for i = 5700 to 5800
    if is_valid(i)
        see "" + i + " "
    ok
next
see " " + nl

func is_valid(num)
    temp = 0
    n = string(num)
    for ch in n
        temp = damm[temp + 1][ch - '0' + 1]
    next
    return temp = 0
</code></pre>

<p>Output:</p>

<pre><code>$ ring ./damm-algo.ring
Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Ruby</h4>

<p>The Ruby implementation is very simple and very concise, thanks to the built-in <code>digits</code> function. Note, however, that this function returns the digits in an inverse order, so we need to reverse it.</p>

<pre><code>def is_valid (n)
    damm = [ [0,3,1,7,5,9,8,6,4,2],
             [7,0,9,2,1,5,4,8,6,3],
             [4,2,0,6,8,7,1,3,5,9],
             [1,7,5,0,9,8,3,4,2,6],
             [6,1,2,3,0,4,5,9,7,8],
             [3,6,7,4,2,0,9,5,8,1],
             [5,8,6,9,7,2,0,1,3,4],
             [8,9,4,5,3,6,2,0,1,7],
             [9,4,3,8,6,1,7,2,0,5],
             [2,5,8,1,4,3,6,7,9,0] ]
    temp = 0
    for ch in n.digits.reverse
        temp = damm[temp][ch]
    end
    return temp == 0
end

puts("Valid numbers between 5700 and 5800 are:")
for i in 5700..5800
    if is_valid(i)
        printf("%d ", i)
    end
end
puts("")
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Rust</h4>

<pre><code>fn is_valid(num: u32) -&gt; bool {
    static DAMM: [[u8; 10]; 10] = [
        [0, 3, 1, 7, 5, 9, 8, 6, 4, 2],
        [7, 0, 9, 2, 1, 5, 4, 8, 6, 3],
        [4, 2, 0, 6, 8, 7, 1, 3, 5, 9],
        [1, 7, 5, 0, 9, 8, 3, 4, 2, 6],
        [6, 1, 2, 3, 0, 4, 5, 9, 7, 8],
        [3, 6, 7, 4, 2, 0, 9, 5, 8, 1],
        [5, 8, 6, 9, 7, 2, 0, 1, 3, 4],
        [8, 9, 4, 5, 3, 6, 2, 0, 1, 7],
        [9, 4, 3, 8, 6, 1, 7, 2, 0, 5],
        [2, 5, 8, 1, 4, 3, 6, 7, 9, 0],
    ];

    let mut temp = 0;
    let n_str = num.to_string();
    let digits = n_str.bytes();
    for i in digits {
        temp = DAMM[temp as usize][i as usize - 48];
    };
    return temp == 0
}

fn main() {
    println!("{}", "Valid numbers between 5700 and 5800 are:");
    for i in 5700..5800 {
        if is_valid(i) {
            print!("{} ", i);
        }
    }
    println!("{}", " ");
}
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Scala</h4>

<pre><code>object DammCheckDigit extends App {
  var damm =
    Vector(
      Vector(0, 3, 1, 7, 5, 9, 8, 6, 4, 2),
      Vector(7, 0, 9, 2, 1, 5, 4, 8, 6, 3),
      Vector(4, 2, 0, 6, 8, 7, 1, 3, 5, 9),
      Vector(1, 7, 5, 0, 9, 8, 3, 4, 2, 6),
      Vector(6, 1, 2, 3, 0, 4, 5, 9, 7, 8),
      Vector(3, 6, 7, 4, 2, 0, 9, 5, 8, 1),
      Vector(5, 8, 6, 9, 7, 2, 0, 1, 3, 4),
      Vector(8, 9, 4, 5, 3, 6, 2, 0, 1, 7),
      Vector(9, 4, 3, 8, 6, 1, 7, 2, 0, 5),
      Vector(2, 5, 8, 1, 4, 3, 6, 7, 9, 0)
    )

  def is_valid(num: Int): Boolean = {
    val num_str = num.toString.getBytes
    var temp = 0
    for (ch &lt;- num_str) {
      temp = damm(temp)(ch - '0')
    }
    return temp == 0
  }

  println("Valid numbers between 5700 and 5800 are:")
  for (i &lt;- 5700 to 5800) {
    if (is_valid(i)) {
      printf("%d ", i)
    }
  }
  println("")
}
</code></pre>

<p>Output:</p>

<pre><code>Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h4>Damm Algorithm in Tcl</h4>

<p>As in awk and Dart, I haven&#8217;t found a good way to declare and initialize two-dimensional arrays in Tcl, and the documentation is quite sparse. So I used the same solution as in awk and Dart for the conversion matrix: an array of strings. My knowledge of Tcl dates from the 1990s and is very rusty, so I initially had an interpreter error on almost every code line. So, be aware that my implementation certainly doesn’t satisfy the best practices of this language.</p>

<pre><code>proc is_valid {n} {
    set damm(0) "0317598642"
    set damm(1) "7092154863"
    set damm(2) "4206871359"
    set damm(3) "1750983426"
    set damm(4) "6123045978"
    set damm(5) "3674209581"
    set damm(6) "5869720134"
    set damm(7) "8945362017"
    set damm(8) "9438617205"
    set damm(9) "2581436790"

    set temp 0
    foreach ch [split $n {}] {
        set row $damm($temp)
        set temp [ string index $row $ch ]
    }
    return [ expr $temp == 0 ? 1 : 0]
}

puts "Valid numbers between 5700 and 5800 are: "
for {set i 5700} {$i &lt;= 5800} {incr i} {
    if [ is_valid $i ] {
        puts -nonewline  "${i} "
    }
}
puts ""
</code></pre>

<p>Output:</p>

<pre><code>$ tclsh ./damm-algo.tcl
Valid numbers between 5700 and 5800 are:
5708 5719 5724 5735 5743 5756 5762 5770 5781 5797
</code></pre>

<h2>Task 2: Palindromic Prime Cyclops</h2>

<p><em>Write a script to generate first 20 Palindromic Prime Cyclops Numbers.</em></p>

<blockquote>
  <p><em>A cyclops number is a number with an odd number of digits that has a zero in the center only.</em></p>
</blockquote>

<p><em>Output</em></p>

<pre><code>101, 16061, 31013, 35053, 38083, 73037, 74047, 91019, 94049,
1120211, 1150511, 1160611, 1180811, 1190911, 1250521, 1280821,
1360631, 1390931, 1490941, 1520251
</code></pre>

<h3>Palindromic Prime Cyclops in Raku</h3>

<p>In order to reduce the pointless computations, we&#8217;ll only test number ranges with an odd number of digits (<code>100..999, 10000..99999, 1000000..9999999</code>). As it turns out, the process is quite fast (about 2.6 seconds), so that performance enhancement wasn&#8217;t really required. I find it nonetheless better to avoid useless computations.</p>

<pre><code>sub is-cyclops ($n) {
    my $length = $n.chars;
    return False if $length %% 2;
    my $mid = ($length - 1) /2;
    return False if substr($n, $mid, 1) != 0;
    return False if $n.comb[0..$mid-1] ~~ /0/;
    return False if $n.comb[$mid+1..$length-1] ~~ /0/;
    return True;
}

my $count = 0;
for |(100..999), |(10000..99999), |(1000000..9999999) -&gt; $i {
    next unless $i eq $i.flip;
    next unless $i.is-prime;
    if is-cyclops $i {
        print "$i ";
        $count++;
        last if $count == 20;
    }
}
say "";
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ time raku ./cyclops.raku
101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251

real    0m2,573s
user    0m0,015s
sys     0m0,015s
</code></pre>

<h3>Palindromic Prime Cyclops in Perl</h3>

<p>This is a port to Perl of the Raku program above. Since Perl doesn&#8217;t have a built-in <code>is_prime</code> subroutine, we roll out our own.</p>

<pre><code>use strict;
use warnings;
use feature qw/say/;

sub is_cyclops {
    my $n = shift;
    my $len = length $n;
    return 0 if $len % 2 == 0;
    my $mid = ($len - 1) /2;
    return 0 if substr($n, $mid, 1) != 0;
    return 0 if (split //, $n)[0..$mid-1] =~ /0/;
    return 0 if (split //, $n)[$mid+1..$len-1] =~ /0/;
    return 1;
}

sub is_prime {
   my $n = shift;
   return 1 if $n == 2;
   return 0 if $n % 2 == 0;
   return 0 if $n == 1;
   my $p = 3;
   my $sqrt = sqrt $n;
   while ($p &lt;= $sqrt) {
       return 0 if $n % $p == 0;
       $p += 2;
   }
   return 1;
}

my $count = 0;
for my $i (100..999, 10000..99999, 1000000..9999999) {
    next unless $i eq reverse $i;
    next unless is_cyclops $i;
    if (is_prime $i) {
        print "$i ";
        $count++;
        last if $count == 20;
    }
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ perl ./cyclops.pl
101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h3>Palindromic Prime Cyclops in Other Languages</h3>

<p>We now present the same palindromic prime cyclop implementations in the following 8 guest languages:</p>

<ul>
<li>Julia</li>
<li>JavaScript</li>
<li>Kotlin</li>
<li>Lua</li>
<li>Python</li>
<li>Ring</li>
<li>Ruby</li>
<li>Coconut</li>
</ul>

<h4>Palindromic Prime Cyclops in Julia</h4>

<p>I like the concision of Perl and Raku postfix conditionals such as:</p>

<pre><code>return False if substr($n, $mid, 1) != 0;
return False if $n.comb[0..$mid-1] ~~ /0/;
return False if $n.comb[$mid+1..$length-1] ~~ /0/;
return True;
</code></pre>

<p>In most other languages, you would need three code lines for each case, for example in JavaScript:</p>

<pre><code>if (s[mid] != '0') {
    return false
}
if (s.slice(0, mid-1).search('0') &gt;= 0) {
    return false
}
if (s.slice(mid+1).search('0') &gt;= 0) {
    return false
}
return true
</code></pre>

<p>Julia doesn&#8217;t have postfix conditionals, but you can use short-circuit evaluation of the <code>&amp;&amp;</code> and <code>||</code> operators as an alternative to short <code>if</code> statements to reach the same concision.</p>

<p>The short-circuit evaluation, which is common to most imperative programming languages, means that:</p>

<ul>
<li>In the expression a &amp;&amp; b, the subexpression b is only evaluated if a evaluates to true.</li>
<li>In the expression a || b, the subexpression b is only evaluated if a evaluates to false.</li>
</ul>

<p>Instead of <code>if &lt;cond&gt; &lt;statement&gt; end</code>, one can write <code>&lt;cond&gt; &amp;&amp; &lt;statement&gt;</code> (which could be read as: <code>&lt;cond&gt; and then &lt;statement&gt;</code>). Similarly, instead of <code>if ! &lt;cond&gt; &lt;statement&gt; end</code>, one can write <cond> || <statement> (which could be read as: <code>&lt;cond&gt; or else &lt;statement&gt;</code>). This idiomatic alternative to short <code>if</code> statement is frequently used in Julia. Although most languages have the short-circuit behavior of logical operators, not many of them support this construct with an ending statement. Raku and Perl do, but this is not commonly used because the <code>return false if ...</code> is admittedly clearer. In the seven guest languages used here, only Kotlin also supports this construct.</p>

<p>So, in Julia, we will have, for example:</p>

<pre><code>len % 2 == 0 &amp;&amp; return false
...
s[mid] == '0' || return false
</code></pre>

<p>This is our Julia implementation using this concise construct:</p>

<pre><code>using Primes

function is_cyclops(n)
    s = string(n)
    len = length(s)
    len % 2 == 0 &amp;&amp; return false
    mid = Int((len + 1) /2)
    s[mid] == '0' || return false
    if occursin('0', s[1:mid-1]) || occursin('0', s[mid+1:len])
        return false
    end
    return true;
end

count = 0
for i = [101:999; 10000:99999; 1000000:9999999]
    string(i) != reverse(string(i)) &amp;&amp; continue
    is_cyclops(i) || continue
    if isprime(i)
        print("$i ")
        global count += 1
        count &gt;= 20 &amp;&amp; break
    end
end
println("")
</code></pre>

<p>Output:</p>

<pre><code>$ julia ./cyclop.jl
101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h4>Palindromic Prime Cyclops in JavaScript</h4>

<p>JavaScript doesn&#8217;t have a built-in function for prime numbers (just as almost all other guest languages to follow). So we roll out our own <code>is_prime</code> function (ported from the Perl implementation above).</p>

<p>It also doesn&#8217;t seem possible to combine ranges as we&#8217;ve done previously in other languages, so we use a <code>if ... else if ... else if ...</code> construct to simulate range concatenation.</p>

<pre><code>function is_cyclops (n) {
    let s = n.toString()
    let len = s.length
    if (len % 2 == 0) {
        return false
    }

    let mid = (len - 1) / 2
    if (s[mid] != '0') {
        return false
    }

    if (s.slice(0, mid-1).search('0') &gt;= 0) {
        return false
    }
    if (s.slice(mid+1).search('0') &gt;= 0) {
        return false
    }
    return true
}

function is_prime(n) {
    if (n == 2) {
        return true
    }
    if (n &lt; 2 || n % 2 == 0) {
        return false
    }
    var p = 3
    let sqrt_n = Math.sqrt(n)
    while (p &lt;= sqrt_n) {
        if (n % p == 0) {
            return false
        }
        p += 2
    }
    return true
}

var count = 0
var i = 100
while (count &lt; 20) {
    i++
    if (i == 999) {
        i = 10000
    } else if (i == 99999) {
        i = 1000000
    } else if (i &gt;= 9999999) {
        break
    }
    if (i.toString() != i.toString().split("").reverse().join("")) {
        continue;
    }
    if (! is_cyclops(i)) {
        continue;
    }
    if (is_prime(i)) {
        process.stdout.write(i + " ")
        count++
    }
}
console.log("")
</code></pre>

<p>Output:</p>

<pre><code>101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h4>Palindromic Prime Cyclops in Kotlin</h4>

<p>I do not know whether the short-circuit evaluation alternative to short <code>if</code> statement described above in the context of the Julia language is as commonly used in Kotlin as it is in Julia, but, since it works in Kotlin, I&#8217;ll use it here. Also note that we need to implement our own <code>is_prime</code> function in Kotlin.</p>

<pre><code>fun is_prime(n: Int): Boolean {
    n == 2 &amp;&amp; return true
    if (n &lt; 2 || n % 2 == 0) {
        return false
    }
    var p = 3
    val sqrt_n : Int = Math.sqrt(n.toDouble()).toInt()
    while (p &lt;= sqrt_n) {
        n % p == 0 &amp;&amp; return false
        p += 2
    }
    return true
}

fun is_cyclops(num: Int): Boolean {
    val s = num.toString()
    val len = s.length
    len % 2 == 0 &amp;&amp; return false
    val mid = ((len - 1) /2).toInt()
    s[mid] == '0' || return false
    if ('0' in s.slice(0 until mid) or '0' in s.slice(mid+1 until len) {
        return false
    }
    return true
}

fun main() {
    var count = 0
    var i = 100
    while (count &lt; 20) {
        i++
        if (i == 999) {
             i = 10000
        } else if (i == 99999) {
            i = 1000000
        } else if (i &gt;= 9999999) {
            break
        }
        if (i.toString() != i.toString().reversed()) {
            continue;
        }
        if (! is_cyclops(i)) {
            continue;
        }
        if (is_prime(i)) {
            print("$i ")
            count++
        }
    }
    println(" ")
}
</code></pre>

<p>Output:</p>

<pre><code>    101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h4>Palindromic Prime Cyclops in Lua</h4>

<p>Lua doesn&#8217;t have a <code>next</code> or <code>continue</code> statement to  go directly to the next iteration of a loop, because &#8220;the language is designed to be small.&#8221; I&#8217;m not sure it is a very good reason, as, in my humble opinion, this kind of statement is very useful. This is the reason for which we have two <code>goto skip</code> statements in the main part of the program. I know very well what Edsger Dijkstra said in his famous letter to ACM  &#8220;Go To Statement Considered Harmful,&#8221; but Donald Knuth commented that a &#8220;goto forward&#8221; within the same routine wasn&#8217;t that bad. This is the case here. Having said that, I would definitely prefer if Lua had a <code>continue</code> or <code>next</code> statement rather than a <code>goto</code> statement.</p>

<p>We also have to implement a <code>is_prime</code> function here.</p>

<pre><code>local function is_cyclops(num)
    local n_str = tostring(num)
    size = string.len(n_str)
    if size % 2 == 0 then
        return false
    end
    mid = (size + 1) / 2
    if string.sub(n_str, mid, mid ) ~= '0' then
        return false
    end
    if string.sub(n_str, 1, mid-1):find "0" ~= nil then
        return false
    end
    if string.sub(n_str, mid+1, len):find "0" ~= nil then
        return false
    end
    return true
end

local function is_prime(n)
    if n == 2 then
        return true
    end
    if n &lt; 2 or n % 2 == 0 then
        return false
    end
    local p = 3
    sqrt_n = math.sqrt(n)
    while p &lt;= sqrt_n do
        if n % p == 0 then
            return false
        end
        p = p + 2
    end
    return true
end

count = 0
i = 100
while count &lt; 20 do
    i = i + 1
    if i == 999 then
        i = 10000
    elseif i == 99999 then
        i = 1000000
    elseif i &gt;= 9999999 then
        break
    end

    if i ~= tonumber(string.reverse(tostring(i))) then
        goto skip
    end
    if not is_cyclops(i) then
        goto skip
    end
    if is_prime(i) then
        io.write(i, " ")
        count = count + 1
    end
    ::skip::
end
print("")
</code></pre>

<p>Output:</p>

<pre><code>101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h4>Palindromic Prime Cyclops in Python</h4>

<pre><code>import math
from re import search
from itertools import chain

def is_prime(n):
  if n == 2:
    return True
  if n == 0 or n == 1 or n % 2 == 0:
    return False
  p = 3
  sqrt_n = math.sqrt(n)
  while (p &lt;= sqrt_n):
    if ((n % p) == 0):
      return False
    p += 2
  return True

def is_cyclops (num):
  s = str(num)
  size = len(s)
  if size % 2 == 0:
    return False
  mid = int((size - 1) / 2)
  if s[mid] != '0':
    return False
  if search(r"0", s[0:mid-1]) or search(r"0", s[mid+1:size-1]):
    return False
  return True

count = 0
myrange = chain(range(100, 999), range(10000, 99999), range(1000000, 9999999))
for i in myrange:
  if str(i) != str(i)[::-1]:
    continue
  if not is_cyclops(i):
    continue
  if is_prime(i):
    print(i, end=' ')
    count += 1
    if count &gt;= 20: 
      break

print("")
</code></pre>

<p>Output:</p>

<pre><code>$ python3 ./cyclop.py
101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h4>Palindromic Prime Cyclops in Ring</h4>

<p>As far as I can tell, Ring also doesn&#8217;t have <code>continue</code> or <code>next</code> statements (and also no <code>last</code> and no <code>break</code>). Or, at least, I couldn&#8217;t find them (or an equivalent) in the documentation. So I had to use nested <code>if</code> statements, something that I don’t like too much. It also appears that there is no built-in function for reversing a string, so I wrote a <code>is_palindrome</code> function. And also a <code>is_prime</code> function. Also note that the equality operator (<code>==</code> in many languages) is spelled with a single equal sign in Ring, so we have for example <code>if n % p = 0</code>. I wonder how the compiler can distinguish it from the assignment operator, there must be some cases that are ambiguous.</p>

<pre><code>i = 100
count = 0
while count &lt; 20
    i++
    if i = 999
        i = 10000
    ok
    if i = 99999
        i = 1000000
    ok
    if is_palindrome(i)
        if is_cyclops(i)
            if is_prime(i)
                count++
                see "" + i + " "
            ok
       ok
   ok
end
see "" + nl

func is_prime (n)
    if n = 2 
        return true
    ok
    if n &lt; 2 or n % 2 = 0
        return false
    ok
    p = 3
    sqrt_n = sqrt(n)
    while p &lt; sqrt_n
        if n % p = 0
            return false
        ok
        p++
    end
    return true

func is_cyclops(n)
    s = "" + n
    size = len(s)
    if size % 2 = 0
        return false
    ok
    mid = ( size + 1) / 2
    if s[mid] != 0
        return false
    ok

    if substr(left(s, mid-1), "0") &gt; 0
        return false
    ok
    if substr(right(s, mid-1), "0") &gt; 0
        return false
    ok
    return true

func is_palindrome(n)
    s = "" + n
    size = len(s)
    for i = 1 to size/2
        if s[i] != s[size - i + 1]
            return false
        ok
    next
    return true
</code></pre>

<p>Output:</p>

<pre><code>$ ring  ./cyclop.ring
101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h4>Palindromic Prime Cyclops in Ruby</h4>

<p>Ruby has a built-in <code>prime</code> function, so we don&#8217;t need to implement it. I found a way to combine ranges, but I must admit that this is copied from a post on Stack Overflow, I would not have found it by myself.</p>

<pre><code>require 'prime'

def is_cyclops (num) 
    s = num.to_s
    len = s.length;
    if len % 2 == 0 then
        return false
    end
    mid = (len - 1) / 2
    if s[mid] != '0' then
        return false
    end
    if s[0..mid-1][/0/] || s[mid+1..len-1][/0/]
        return false
    end 
    return true
end

count = 0;
range = [ 100..999, 10000..99999, 1000000..9999999 ].map { |r| Array(r) }.inject( :+ )
for i in range
    if i.to_s != i.to_s.reverse || ! is_cyclops(i)
        next
    end
    if i.prime?
        printf("%d ", i)
        count += 1;
        if count == 20
            break
        end
    end
end
puts ""
</code></pre>

<p>Output:</p>

<pre><code>101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h4>Palindromic Prime Cyclops in Coconut (a Functional Extension of Python)</h4>

<p><em>This section on Coconut was added on August 18, 2022.</em></p>

<p>Coconut is a variant of Python built for functional programming. It is actually a kind of extension of Python, and Coconut code is in fact compiled to Python code. The documentation is still somewhat limited, but there is a good <a href="https://coconut.readthedocs.io/en/latest/HELP.html#case-study-1-factorial">Coconut Tutorial</a> and a reference <a href="https://coconut.readthedocs.io/en/latest/DOCS.html">Coconut Documentation</a>.</p>

<p>I was interested in trying to use Coconut for this task essentially because of its support to pipeline style programming. Since we&#8217;re looking for the first twenty integers having a certain set of properties (prime, palindromic, with an odd number of digits, with a 0 in the middle and no other 0, etc.), it is appealing to use a pipeline of filters, one for each of these properties, as done in the last (main) section of the code below.</p>

<pre><code>import math
from re import search

def is_prime(n):
    case n:
        match 0:
            return False
        match 1:
            return False
        match 2:
            return True
        match _ is int if n &gt; 2:
            if n % 2 == 0:
                return False
            p = 3
            sqrt_n = math.sqrt(n)
            while (p &lt;= sqrt_n):
                if (n % p) == 0:
                    return False
                p += 2
            return True

def is_cyclops (num):
  s = str(num)
  size = len(s)
  mid = int((size - 1) / 2)
  if s[mid] != '0':
    return False
  if search(r"0", s[0:mid-1]) or search(r"0", s[mid+1:size-1]):
    return False
  return True

range(100, 999) :: range(10000, 99999) :: range(1000000, 9000000) \
|&gt; filter$( -&gt; str(_) == str(_)[::-1]) \    # palindrome
|&gt; filter$( -&gt; len(str(_)) %2 != 0) \       # odd number of digits
|&gt; filter$(is_cyclops) |&gt; filter$(is_prime) \
|&gt;  list |&gt; .$[:20] |&gt; print
</code></pre>

<p>Output:</p>

<pre><code>101 16061 31013 35053 38083 73037 74047 91019 94049 1120211 1150511 1160611 1180811 1190911 1250521 1280821 1360631 1390931 1490941 1520251
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on August 21, 2022. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_25">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/toby_inkster/2022/08/rfc-new-api-for-typeparams.html">RFC: new API for Type::Params</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Toby Inkster
 on Thursday 18 August 2022 12:53</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>Firstly, I'm not planning on breaking compatibility with Type::Params. The new API would live under a different namespace, such as Type::Params2.</p>

<p>The API for Type::Params is currently:</p>
<pre style="background:#ffe; border:1px solid #cc9; font-size:80%; padding: 4px">
use feature 'state';
use Type::Params qw( compile compile_named_oo );
use Types::Standard -types;

sub function_with_positional_parameters {
  state $check = compile( ArrayRef, Int, Int );
  my ( $list, $start, $end ) = $check->( @_ );

  my @slice = @{$list}[ $start .. $end ];
  return \@slice;
}

sub function_with_named_parameters {
  state $check = compile_named_oo( list => ArrayRef, start => Int, end => Int );
  my ( $arg ) = $check->( @_ );

  my @slice = @{$arg->list}[ $arg->start .. $arg->end ];
  return \@slice;
}
</pre>

<p>Alternatively, there's:</p>
<pre style="background:#ffe; border:1px solid #cc9; font-size:80%; padding: 4px">
use Type::Params qw( wrap_subs compile_named_oo );
use Types::Standard -types;

wrap_subs function_with_positional_parameters => [ ArrayRef, Int, Int ];

sub function_with_positional_parameters {
  my ( $list, $start, $end ) = @_;

  my @slice = @{$list}[ $start .. $end ];
  return \@slice;
}

wrap_subs function_with_named_parameters =>
  compile_named_oo( list => ArrayRef, start => Int, end => Int );

sub function_with_named_parameters {
  my ( $arg ) = @_;

  my @slice = @{$arg->list}[ $arg->start .. $arg->end ];
  return \@slice;
}
</pre>

<p>My suggested API is:</p>
<pre style="background:#efe; border:1px solid #9c9; font-size:80%; padding: 4px">
use feature 'state';
use Type::Params2;
use Types::Standard -types;

sub function_with_positional_parameters {
  state $check = signature(
    pos => [ ArrayRef, Int, Int ],
  );
  my ( $list, $start, $end ) = $check->( @_ );

  my @slice = @{$list}[ $start .. $end ];
  return \@slice;
}

sub function_with_named_parameters {
  state $check = signature(
    named => [ list => ArrayRef, start => Int, end => Int ],
  );
  my ( $arg ) = $check->( @_ );

  my @slice = @{$arg->list}[ $arg->start .. $arg->end ];
  return \@slice;
}
</pre>

<p>It would also support the inside-out technique:</p>
<pre style="background:#efe; border:1px solid #9c9; font-size:80%; padding: 4px">
use Type::Params2;
use Types::Standard -types;

signature_for function_with_positional_parameters => (
  pos => [ ArrayRef, Int, Int ],
);

sub function_with_positional_parameters {
  my ( $list, $start, $end ) = @_;

  my @slice = @{$list}[ $start .. $end ];
  return \@slice;
}

signature_for function_with_named_parameters => (
  named => [ list => ArrayRef, start => Int, end => Int ],
);

sub function_with_named_parameters {
  my ( $arg ) = @_;

  my @slice = @{$arg->list}[ $arg->start .. $arg->end ];
  return \@slice;
}
</pre>

<p>There would be a shortcut for methods:</p>
<pre style="background:#efe; border:1px solid #9c9; font-size:80%; padding: 4px">
signature_for method_with_named_parameters => (
  method => 1,
  named  => [ list => ArrayRef, start => Int, end => Int ],
);

sub method_with_named_parameters {
  my ( $self, $arg ) = @_;

  my @slice = @{$arg->list}[ $arg->start .. $arg->end ];
  return \@slice;
}
</pre>

<p>Comments? Do people think this would be an improvement?</p>
        
           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_26">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/577.html">#577 - Optimism and numbers</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 15 August 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there!</p>
<p>last week Mohammad expressed his optimism about Perl rising again. It's nice to have a gut feeling about that, but I would also like to see the numbers. So I looked at the stats I've been collecting for a while: The number of <a href="https://szabgab.com/cpan-number-of-visits.html">visits to CPAN</a>. More specifically these are the number of "entrances" to MetaCPAN (and in earlier times to SCO as well.) as measured by Google Analytics.</p>
<p>My assumption is that we can measure well the level of Perl usage by the number of visits to <a href="https://metacpan.org/">MetaCPAN</a>.</p>
<p>The number for July 2022 does not indicate any (positive) changes, but it is probably too early to see any effects anyway.</p>
<p>However, looking at the numbers I noticed that there was a nice increase in the activity in 2012. Actually starting in August 2011. This increased activity lasted about a year then the decline continued and by 2014 the activity was below that of the 2011 level.</p>
<p>I could find 2 Perl-related events preceding the increased activity. In May 2011 the release of perl 5.14 and in July the opening of MetaCPAN. Neither seem to explain the change. So I am turning to you:</p>
<p>What other things happened in or out of the Perl community that might explain that sudden increase of visitors to CPAN?</p>
<p>Enjoy your week!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_27">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/dancer2-solution-2-random-redirect">Dancer2: Solution 2 - Random redirect</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Monday 15 August 2022 08:17</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
Part of the Dancer2 video course available both to <a href="/pro">Pro</a> subscribers and attendees of the <a href="https://leanpub.com/c/dancer">Perl Dancer course</a> on Leanpub.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_28">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2022/08/14#pwc177">Cyclops Validation</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 14 August 2022 17:59</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from the weekly challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>You are given a positive number, $n. Write a script to validate the given number 
against the included check digit.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use boolean;

my @damm_matrix;
$damm_matrix[0] = [0, 7, 4, 1, 6, 3, 5, 8, 9, 2];
$damm_matrix[1] = [3, 0, 2, 7, 1, 6, 8, 9, 4, 5];
$damm_matrix[2] = [1, 9, 0, 5, 2, 7, 6, 4, 3, 8];
$damm_matrix[3] = [7, 2, 6, 0, 3, 4, 9, 5, 8, 1];
$damm_matrix[4] = [5, 1, 8, 9, 0, 2, 7, 3, 6, 4];
$damm_matrix[5] = [9, 5 ,7, 8, 4, 0, 2, 6, 1, 3];
$damm_matrix[6] = [8, 4, 1, 3, 5, 9, 0, 2, 7, 6];
$damm_matrix[7] = [6, 8, 3, 4, 9, 5, 1, 0, 2, 7];
$damm_matrix[8] = [4, 6, 5, 2, 7, 8, 3, 1, 0, 9];
$damm_matrix[9] = [2, 3, 9, 6, 8, 1, 4, 7, 5, 0];

sub damm_validation{
    my($x) = @_;
    my @digits = split(//, $x);
    my $interim_digit = 0;
    while(my $d = shift @digits){
        $interim_digit = $damm_matrix[$d][$interim_digit];
    }
    return boolean($interim_digit == 0);
}

MAIN:{
    print damm_validation(5724) . "\n";
    print damm_validation(5727) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
1
0
</code></pre>

<h3>Notes</h3>

<p>Damm Validation really boils down to a series of table lookups. Once that is determined
we need to encode the table and then perform the lookups in a loop. </p>

<h2>Part 2</h2>

<p><em>Write a script to generate first 20 Palindromic Prime Cyclops Numbers.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
no warnings q/recursion/;
use Math::Primality qw/is_prime/;

sub n_cyclops_prime_r{
    my($i, $n, $cyclops_primes) = @_;
    return @{$cyclops_primes} if @{$cyclops_primes} == $n;
    push @{$cyclops_primes}, $i if is_prime($i) && 
                                   length($i) % 2 == 1 &&
                                   join("", reverse(split(//, $i))) == $i &&
                                   (grep {$_ == 0} split(//, $i))   == 1 && 
                                   do{my @a = split(//, $i);
                                      $a[int(@a / 2)]
                                   } == 0;
    n_cyclops_prime_r(++$i, $n, $cyclops_primes);
}

sub n_cyclops_primes{
    my($n) = @_;
    return n_cyclops_prime_r(1, $n, []);
}

MAIN:{
    print join(", ", n_cyclops_primes(20)) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl
101, 16061, 31013, 35053, 38083, 73037, 74047, 91019, 94049, 1120211, 1150511, 1160611, 1180811, 1190911, 1250521, 1280821, 1360631, 1390931, 1490941, 1520251
</code></pre>

<h3>Notes</h3>

<p>I recently saw the word <em>whipupitide</em> used by Dave Jacoby and here is, I think, a good
example of it. We need to determine if a number is prime, palindromic, and cyclops. In 
Perl we can determine all of these conditions very easily. </p>

<p>Just to add a bit of fun I decided to use a recursive loop. Out of necessity this will 
have a rather deep recursive depth, so we'll need to set <code>no warnings q/recursion/</code> or 
else perl will complain when we go deeper than 100 steps. We aren't using too much memory
here, but if that were a concern we could do Perl style 
<a href="https://perldoc.perl.org/functions/goto">tail recursion</a> with a <code>goto __SUB__</code> instead.</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-177/">Challenge 177</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_29">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/08/cdv-18-great-cpan-modules-released-last.html">(cdv) 18 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 13 August 2022 22:12</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br /><br /><ol><li><a href="https://metacpan.org/release/PLICEASE/Alien-Build-2.53" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Alien::Build</span></b></a> - Build external dependencies for use in CPAN <ul>  <li>Version: <strong>2.53</strong> on 2022-08-12</li>  <li>Votes: 22</li>  <li>Previous version: 2.51 was 10 days before</li></ul></li><li><a href="https://metacpan.org/release/OLIVER/App-Netdisco-2.053007" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">App::Netdisco</span></b></a> - An open source web-based network management tool. <ul>  <li>Version: <strong>2.053007</strong> on 2022-08-09</li>  <li>Votes: 14</li>  <li>Previous version: 2.053005 was 5 days before</li></ul></li><li><a href="https://metacpan.org/release/DWHEELER/App-Sqitch-v1.3.0" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">App::Sqitch</span></b></a> - Sensible database change management <ul>  <li>Version: <strong>v1.3.0</strong> on 2022-08-12</li>  <li>Votes: 40</li>  <li>Previous version: v1.2.1 was 8 months, 7 days before</li></ul></li><li><a href="https://metacpan.org/release/RURBAN/Cpanel-JSON-XS-4.32" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Cpanel::JSON::XS</span></b></a> - cPanel fork of JSON::XS, fast and correct serializing <ul>  <li>Version: <strong>4.32</strong> on 2022-08-13</li>  <li>Votes: 40</li>  <li>Previous version: 4.30 was 1 month, 27 days before</li></ul></li><li><a href="https://metacpan.org/release/TURNSTEP/DBD-Pg-3.16.0" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">DBD::Pg</span></b></a> - DBI PostgreSQL interface <ul>  <li>Version: <strong>3.16.0</strong> on 2022-08-08</li>  <li>Votes: 87</li>  <li>Previous version: 3.15.1 was 5 months, 22 days before</li></ul></li><li><a href="https://metacpan.org/release/MSHELOR/Digest-SHA-6.03" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Digest::SHA</span></b></a> - Perl extension for SHA-1/224/256/384/512 <ul>  <li>Version: <strong>6.03</strong> on 2022-08-08</li>  <li>Votes: 23</li>  <li>Previous version: 6.02 was 4 years, 3 months, 18 days before</li></ul></li><li><a href="https://metacpan.org/release/PLICEASE/FFI-Platypus-2.00" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">FFI::Platypus</span></b></a> - Write Perl bindings to non-Perl libraries with FFI. No XS required. <ul>  <li>Version: <strong>2.00</strong> on 2022-08-12</li>  <li>Votes: 57</li>  <li>Previous version: 1.58 was 1 month, 23 days before</li></ul></li><li><a href="https://metacpan.org/release/TODDR/IPC-Run-20220807.0" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">IPC::Run</span></b></a> - system() and background procs w/ piping, redirs, ptys (Unix, Win32) <ul>  <li>Version: <strong>20220807.0</strong> on 2022-08-07</li>  <li>Votes: 35</li>  <li>Previous version: 20200505.0 was 2 years, 3 months, 2 days before</li></ul></li><li><a href="https://metacpan.org/release/ARISTOTLE/Memoize-1.10" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Memoize</span></b></a> - Make functions faster by trading space for time <ul>  <li>Version: <strong>1.10</strong> on 2022-08-11</li>  <li>Votes: 25</li>  <li>Previous version: 1.09 was 10 days before</li></ul></li><li><a href="https://metacpan.org/release/DBOOK/Minion-Backend-SQLite-v5.0.7" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Minion::Backend::SQLite</span></b></a> - SQLite backend for Minion job queue <ul>  <li>Version: <strong>v5.0.7</strong> on 2022-08-13</li>  <li>Votes: 14</li>  <li>Previous version: v5.0.6 was 9 months before</li></ul></li><li><a href="https://metacpan.org/release/PEVANS/Object-Pad-0.68" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Object::Pad</span></b></a> - a simple syntax for lexical field-based objects <ul>  <li>Version: <strong>0.68</strong> on 2022-08-13</li>  <li>Votes: 30</li>  <li>Previous version: 0.66 was 1 month, 7 days before</li></ul></li><li><a href="https://metacpan.org/release/OALDERS/Pithub-0.01039" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Pithub</span></b></a> - Github v3 API <ul>  <li>Version: <strong>0.01039</strong> on 2022-08-08</li>  <li>Votes: 19</li>  <li>Previous version: 0.01038 was 5 days before</li></ul></li><li><a href="https://metacpan.org/release/DCONWAY/PPR-0.001004" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">PPR</span></b></a> - Pattern-based Perl Recognizer <ul>  <li>Version: <strong>0.001004</strong> on 2022-08-08</li>  <li>Votes: 18</li>  <li>Previous version: 0.001002 was 5 days before</li></ul></li><li><a href="https://metacpan.org/release/ARISTOTLE/Proc-Fork-0.807" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Proc::Fork</span></b></a> - simple, intuitive interface to the fork() system call <ul>  <li>Version: <strong>0.807</strong> on 2022-08-10</li>  <li>Votes: 14</li>  <li>Previous version: 0.05 was 20 years, 4 months, 26 days before</li></ul></li><li><a href="https://metacpan.org/release/PEVANS/Scalar-List-Utils-1.63" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Scalar::List::Utils</span></b></a>&nbsp;- Common Scalar and List utility subroutines <ul>  <li>Version: <strong>1.63</strong> on 2022-08-08</li>  <li>Votes: 159</li>  <li>Previous version: 1.62 was 4 months, 22 days before</li></ul></li><li><a href="https://metacpan.org/release/KIMOTO/SPVM-0.9638" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">SPVM</span></b></a> - SPVM Language <ul>  <li>Version: <strong>0.9638</strong> on 2022-08-10</li>  <li>Votes: 26</li>  <li>Previous version: 0.9635 was 6 days before</li></ul></li><li><a href="https://metacpan.org/release/BIGJ/Test-Warn-0.37" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Test::Warn</span></b></a> - Perl extension to test methods for warnings <ul>  <li>Version: <strong>0.37</strong> on 2022-08-13</li>  <li>Votes: 20</li>  <li>Previous version: 0.36 was 4 years, 1 month, 20 days before</li></ul></li><li><a href="https://metacpan.org/release/ISHIGAKI/Text-CSV-2.02" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Text::CSV</span></b></a> - comma-separated values manipulator (using XS or PurePerl) <ul>  <li>Version: <strong>2.02</strong> on 2022-08-07</li>  <li>Votes: 70</li>  <li>Previous version: 2.01 was 1 year, 1 month, 18 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_30">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/576.html">#576 - Perl is on the Rise?</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 08 August 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there,</p>
<p>Personally I have noticed the fresh energy among all <strong>Perl</strong> fans ever since the release of latest <strong>Perl v5.36</strong>. I am telling this based on the amount of positive noise I heard on various public platform. There are still few in the pipeline that would give further push e.g. <strong>Corinna</strong>. If you are interested to know more then please do checkout this <a href="https://github.com/Ovid/Cor/wiki">page</a> maintained by <strong>Curtis Poe</strong>.</p>
<p><a href="https://metacpan.org/recent">MetaCPAN</a> is another place where you can see all the latest cool <strong>Perl</strong> projects. I know plenty of volunteers helping to improve the code base. If you use a distribution and you like it then why not share your experience with the <strong>Perl Community</strong> and submit your proposal to <a href="http://cfp.perladvent.org">Perl Advent Calendar 2022</a>? Or if you have created one then why not share with rest of the world.</p>
<p>If you are new to <strong>Perl</strong> and needs help then please do give us a shout. There are plenty of help available on various public platforms.</p>
<p>Enjoy the rest of the newsletter.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_31">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/dancer2-solution-2-route-based-multicounter">Dancer2: Solution 2 - Route-based Multi-Counter</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Monday 08 August 2022 08:17</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
Part of the Dancer2 video course available both to <a href="/pro">Pro</a> subscribers and attendees of the <a href="https://leanpub.com/c/dancer">Perl Dancer course</a> on Leanpub.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_32">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2022/08/07#pwc176">Permuted Reversibly</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 07 August 2022 12:16</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from the weekly challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>Write a script to find the smallest integer x such that x, 2x, 3x, 4x, 5x and 6x are 
permuted multiples of each other.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use boolean;

sub is_permuted{
    my($x, $y) = @_;
    my(@x, @y); 
    map {$x[$_]++} split(//, $x);
    map {$y[$_]++} split(//, $y);
    return false if $#x != $#y;
    my @matched = grep {(!$x[$_] && !$y[$_]) || ($x[$_] && $y[$_] && $x[$_] == $y[$_])} 0 .. @y - 1;
    return true if @matched == @x;
    return false;
}

sub smallest_permuted{
    my $x = 0;
    {
        $x++;
        redo unless is_permuted($x, 2 * $x)     && is_permuted(2 * $x, 3 * $x) && 
                    is_permuted(3 * $x, 4 * $x) && is_permuted(4 * $x, 5 * $x) && 
                    is_permuted(5 * $x, 6 * $x);
    }
    return $x;
}

MAIN:{
    print smallest_permuted . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
142857
</code></pre>

<h3>Notes</h3>

<p>The approach here is to check if any two numbers are permutations of each other by 
counting up the digits for each and comparing the counts. A fun use of <code>map</code> and <code>grep</code>
but I will admit it is a bit unnecessary. I implemented solutions to this problem in 
multiple languages and in doing so just sorted the lists of digits and compared them. Much
easier, but less fun!</p>

<h2>Part 2</h2>

<p><em>Write a script to find out all Reversible Numbers below 100.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
sub is_reversible{
    my($x) = @_;
    my @even_digits = grep { $_ % 2 == 0 } split(//, ($x + reverse($x)));
    return @even_digits == 0;
}

sub reversibles_under_n{
    my($n) = @_;
    my @reversibles;
    do{
        $n--;
        unshift @reversibles, $n if is_reversible($n);

    }while($n > 0);
    return @reversibles;
}

MAIN:{
    print join(", ", reversibles_under_n(100)) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl
10, 12, 14, 16, 18, 21, 23, 25, 27, 30, 32, 34, 36, 41, 43, 45, 50, 52, 54, 61, 63, 70, 72, 81, 90
</code></pre>

<h3>Notes</h3>

<p>My favorite use of Perl is to prototype algorithms. I'll get an idea for how to solve a
problem and then quickly prove out the idea in Perl. Once demonstrated to be effective
the same approach can be implemented in another language if required, usually for business
reasons but also sometimes simply for performance.</p>

<p>The code here is concise, easy to read, and works well. It's also 3 times slower than
a Fortran equivalent.</p>

<pre><code class="shell">
$ time perl perl/ch-2.pl
10, 12, 14, 16, 18, 21, 23, 25, 27, 30, 32, 34, 36, 41, 43, 45, 50, 52, 54, 61, 63, 70, 72, 81, 90

real    0m0.069s
user    0m0.048s
sys     0m0.020s
-bash-5.0$ time fortran/ch-2     
          10
          12
          14
          16
          18
          21
          23
          25
          27
          30
          32
          34
          36
          41
          43
          45
          50
          52
          54
          61
          63
          70
          72
          81
          90

real    0m0.021s
user    0m0.001s
sys     0m0.016s
</code></pre>

<p>That said, the Fortran took at least 3x longer to write. These are the tradeoffs that get 
considered on a daily basis!</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-176/">Challenge 176</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_33">
            <div class="card-header">
              <h2 class="card-title"><a href="https://blog.perl-academy.de/2022-08-05-wie-erstellt-man-eine-user-story-map">Wie erstellt man eine User Story Map?</a></h2>
<a href="https://blog.perl-academy.de/" class="badge badge-primary" style="float: left">Perl-Academy.de</a>

              <p class="text-right"><small>Published
 on Friday 05 August 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Die Methode des User Story Mappings soll den am Prozess der  Softwareerstellung beteiligten Personen helfen, für den Anwender hilfreiche Software zu erstellen und dabei den Überblick über das große Ganze zu behalten. Wie wird nun ein solches User Story Mapping durchgeführt?       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_34">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/maintaining_perl_dave_mitchell_july_2022">Maintaining Perl 5 Core (Dave Mitchell): July 2022</a></h2>
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Jason A. Crome
 on Wednesday 03 August 2022 21:15</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
       <img src="_ra-rel-mnt_/simplecas/fetch_content/7f97282811f6a9f862d7e659c79e5462cc195d94/grant-funding.png" style="max-width:100%;max-height:100%;padding:20px;" /><br>
     
     <p>Dave writes: </p>

<p>This is my monthly report on work done during July covered by my TPF perl
core maintenance grant.
<code>
      3:57 BBC: TODDR/YAML-Syck-1.34.tar.gz (Issue #19939)
      3:28 Format in fill-mode has inconsistent behaviour (Issue #19985)
      4:58 Goto xsub forces scalar context (#19188)
      0:57 Returning undef returns a weird hash reference (Issue #19996)
      0:37 Segmentation fault with use re 'eval' (Issue #19390)
      0:20 fix build warning
     39:28 make stack reference counted
      6:11 process p5p mailbox
      1:16 segfault on goto &amp;xs_sub when calling sub is replaced (Issue #19936)
    ------
     61:12 TOTAL (HH::MM)
</code>
I worked on quite a few tickets last month, but the most important thing I
did was to continue work on making the stack reference counted (work I
started near the end of June).</p>

<p>This is still very much a work in progress and I have nothing visible
(i.e. pushed) to show for it yet, but what I have done so far is:</p>

<p>1) Put wrappers around 254 pp functions.</p>

<p>This changes the definitions of pp function from e.g.:
<code>
    PP(pp_subst)
    {
        ...
    }
</code>
to
<code>
    PP_wrapped(pp_subst, ((PL_op-&amp;gt;op_flags &amp; OPf_STACKED) ? 2 : 1), 0)
    {
        ...
    }
</code>
which on normal builds has no effect, but on builds with <code>PERL_RC_STACK</code>
defined, it expands to something like:
```
    OP*
    Perl_pp_subst(aTHX) {
        return
            Perl_pp_wrap(my_perl, S_norcs_pp_subst,
                ((PL_op-&gt;op_flags &amp; OPf_STACKED) ? 2 : 1), 0);
    }</p>

<pre><code>STATIC OP*
S_norcs_pp_subst(pTHX)
{
    ...
}
</code></pre>

<p><code>``
</code>pp_wrap()<code>is responsible for pushing a (non-reference-counted) copy
of the current stack frame onto the end of the stack, then calling the
original pp function</code>S_norcs_pp_subst()`, which doesn't know about
reference-counted arguments, then shifting down and bumping the reference
count of everything that it returns on the stack.</p>

<p>The two numeric arguments for <code>pp_wrap</code> are how many arguments that op
expects on the stack, or for list ops, how many (mark-delineated) lists it
expects. Often these are just constants, but for some, like <code>pp_subst</code>, it
varies depending on flags.</p>

<p>2) Of the remaining 56 pp functions, some didn't need wrapping (like
<code>pp_pushmark</code>), while others required special handling - like most of the
<code>pp_enterfoo</code> and <code>pp_leavefoo</code> functions. For example most leavefoo ops in
void context just abandon any arguments left on the stack:
<code>
    PL_stack_sp = PL_stack_base + cx-&amp;gt;blk_oldsp;
</code>
For a reference-counted stack, this means that all those SVs leak. So I've
replaced all such occurrences with an inline function call:
<code>
    rpp_pop_to(PL_stack_base + cx-&amp;gt;blk_oldsp);
</code>
which on normal builds just resets <code>PL_stack_sp</code>, while on <code>PERL_RC_STACK</code>
builds, it will decrement the reference count of all those abandoned stack
items first.</p>

<p>I have almost finished doing (2) - just a handful of ops still need going
over on a line-by-line basis (in particular <code>pp_goto()</code>, which I've been
leaving to absolutely last).</p>

<p>None of the changes I've done so far actually do reference-counting yet: <code>pp_wrap()</code>, <code>rpp_pop_to()</code> etc currently have any <code>SvREFCNT_dec()</code>s etc
commented out. The idea is that I can initially add all these
modifications to the core while perl still works, Then once all that work
is done I should be able to make changes in a small number of places - <code>pp_wrap()</code>, <code>rpp_pop_to()</code> etc - and the whole of the perl core should
become reference-count-aware at once. This means that initially the core
will be merely mostly broken rather than completely broken, and it should
be easier to fix up those remaining bits which need it.</p>

<p>Then later on, things can be made more efficient again, e.g. by removing
the wrapper functions from common ops and make them directly
reference-count aware instead.</p>

<p>PS - for the avoidance of doubt, even with all these changes, unless the
core is built with <code>PERL_RC_STACK</code> defined, none of these changes take
affect yet.</p>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->

        </div><!-- col-md-8 -->
        <div class="col-md-2">
<script type="text/javascript"><!--
google_ad_client = "pub-3663319204757145";
/* planet */
google_ad_slot = "8413744374";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
        </div><!-- col-md-2 -->
      </div><!-- row -->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row>
            <div class="col-md-8">
              <address><a href="https://twitter.com/@davorg">@davorg</a> / Friday 02 September 2022 16:51 UTC</address>
            </div>
          </div>
        </div><!-- container -->
      </footer>
    </div><!-- container -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-56332-76"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-56332-76');
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
            integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
            crossorigin="anonymous"></script>
    <script src="/script.js"></script>
  </body>
</html>
