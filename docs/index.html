<!DOCTYPE html>
<html>
  <head>
    <meta property="og:title" content="Planet Perl" /> 
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://perl.theplanetarium.org/" />
    <meta property="og:image" content="https://perl.theplanetarium.org/planet-perl.jpg" />
    <meta property="og:description" content="Collecting the best Perl web feeds"/>
    <title>Planet Perl</title>
    <meta charset="UTF-8">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
          crossorigin="anonymous">

    <link rel="alternate" type="application/atom+xml" title="Atom" href="http://perl.theplanetarium.org/atom.xml" />
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Planet Perl</a>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 left">
          <p>Text: <a href="#" id="show">show</a> / <a href="#" id="hide">hide</a></p>
          <h2>Sources</h2>
          <ul>
            <li><a href="http://blogs.perl.org/">blogs.perl.org</a></li>
            <li><a href="https://dev.to/t/perl">dev.to #perl</a></li>
            <li><a href="https://domm.plix.at/perl.html">domm (Perl and other tech)</a></li>
            <li><a href="https://metacpan.org/news">MetaCPAN News</a></li>
            <li><a href="https://niceperl.blogspot.com/">Niceperl</a></li>
            <li><a href="https://nxadm.wordpress.com/tag/perl/">nxadm</a></li>
            <li><a href="https://news.perlfoundation.org/">Perl Foundation News</a></li>
            <li><a href="https://perlhacks.com/">Perl Hacks</a></li>
            <li><a href="https://perlmaven.com/">Perl Maven</a></li>
            <li><a href="https://perlweekly.com/">Perl Weekly</a></li>
            <li><a href="https://blog.perl-academy.de/">Perl-Academy.de</a></li>
            <li><a href="https://perl.com/">perl.com</a></li>
            <li><a href="https://perlancar.wordpress.com/">Perlancar</a></li>
            <li><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl">RabbitFarm Perl</a></li>
            <li><a href="https://log.perl.org/">The Perl NOC</a></li>
          </ul>
          <p><a href="/atom.xml"><img alt="Feed" src="/images/feed.gif" /> Subscribe</a>
          <br />
          <a href="/opml.xml"><img alt="OPML" src="/images/opml.png" /> OPML</a></p>
          <p>
            <ul>
              <li>Powered by <a href="https://metacpan.org/release/Perlanet">Perlanet</a></li>
              <li>Code on <a href="https://github.com/davorg/planetperl">Github</a></li>
              <li><a href="https://github.com/davorg/planetperl/issues">Feedback welcome</a></li>
            </ul>
          </p>
        </div><!-- col-md-2 -->
        <div class="col-md-8">
          <div class="card" id="card_1">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/steve_bertrand/2022/03/access-the-tesla-api-with-perl.html">Access the Tesla API with Perl!</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Steve Bertrand
 on Saturday 19 March 2022 03:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>For several years, I spent much time writing code for the Raspberry Pi, including hardware level register C code so that we can use various Integrated Circuit chips and sensors with Perl.</p>

<p>A couple of years ago, I acquired much larger and much more expensive toy, an all-wheel drive, full auto-pilot Tesla Model-X SUV, so of course, I want to write Perl code to access and manipulate it.</p>

<p>In the ensuing two years, I developed several microcontroller-based devices for the car, including one that knows where the car is, and its battery charge and state, and dispslays this information via an LED light strip and an OLED screen inside of my garage, along with an audible alarm that sounds for 1/8th of a second every three seconds if the battery is below a certain threshold so I don't forget to plug the charger in.</p>

<p>The microcontroller speaks to a Raspberry Pi who's job it is to fetch data from the Tesla API for my car, and to present that data to the microconroller, over Wifi. The software on the Pi is of course written in Perl, but because I couldn't figure out how to write the Tesla API authentication mechanism in Perl, I used Tim Dorssers TeslaPy Python library, and wrapped it for those calls.</p>

<p>Not anymore! We can now talk to the Tesla API via Perl!</p>

<p>I've officially released <a href="https://metacpan.org/release/STEVEB/Tesla-Vehicle-0.01/view/lib/Tesla/Vehicle.pm">Tesla::Vehicle</a>, which inherits from my other new related distribution, <a href="https://metacpan.org/pod/Tesla::API">Tesla::API</a>.</p>

<p>Upon first attempt to fetch data from Tesla, we will generate a URL that you must browse through to in a browser, authenticate into your Tesla account, and then paste back the ensuing URL you are redirected to into the console. After that, all access tokens are automatically used and updated when needed. My software never has any access or knowledge of your Tesla account credentials, which is the way I wanted this designed.</p>

<p>Thereafter, it's clear sailing!</p>

<p>The documentation is pretty elaborate about what the software can do so please check it out. For <a href="https://metacpan.org/release/STEVEB/Tesla-Vehicle-0.01/view/lib/Tesla/Vehicle.pm">Tesla::Vehicle</a>, there are methods to access aggregate data, sections of the aggregate data, and for several specific attributes that I use myself, I've added methods for them directly. More will be added as time goes on.</p>

<p>Features:</p>

<ul>
<li>Built-in initial access token generation code with prompts of instructions</li>
<li>Automatic access token renewal</li>
<li>Single method (<code>api()</code>) to access data from endpoints that don't yet have a direct method</li>
<li>Built in modifiable data cache (set to 2 second timeout by default) to reduce calls to Tesla for data already retrieved (cache can be disabled)</li>
<li>Consistent data return values... for data aggregate methods, all data is returned as a hash reference</li></li>
<li>Near feature complete; most data has at least an aggregate fetch method, many individual attributes have accessor methods</li>
<li>Ability to wake the car from sleep (<code>wake()</code>). For calls that require the car to be awake, you can set <code>auto_wake</code> and we'll wake the car ourselves (disabled by default)</li>
<li>Many Tesla API calls require a vehicle ID sent in. We do our best to get this ourselves, otherwise it can be sent into <code>new()</code> or <code>id()</code></li>
</ul>

<p>Todo: The main one is adding methods that allow control of the functionality of the car. The only one implemented thus far is <code>wake()</code>. I'll also be adding more direct attribute retrieval methods. For now, use the aggregate methods and pull the data out of the return values yourself. There are also a few minor issues, primarily related to the handling of Tesla API timeouts.</p>

<p>How 'bout some code and output:</p>

<pre><code>use warnings;
use strict;

use Tesla::Vehicle;

my $car = Tesla::Vehicle-&gt;new(auto_wake =&gt; 1);

printf(
    "My Tesla account has my car registered with the name '%s'.\n",
    $car-&gt;name
);

printf(
    "My car is in gear %s and is currently going %d MPH and my odometer is %d\n",
    $car-&gt;gear,
    $car-&gt;speed,
    $car-&gt;odometer
);

printf(
    "My latitude is %f, longitide is %f, my heading is %d degrees and its using %.2f kWh/mile\n",
    $car-&gt;latitude,
    $car-&gt;longitude,
    $car-&gt;heading,
    $car-&gt;power
);

printf(
    "My dashcam is %s, sentry mode is %s and I %s currently near my vehicle\n",
    $car-&gt;dashcam,
    $car-&gt;sentry_mode ? 'enabled' : 'disabled',
    $car-&gt;user_present ? 'am' : 'am not'
);

printf(
    "My battery is at %d%%, and is %s charging at %.2f volts pulling %.2f Amps\n",
    $car-&gt;battery_level,
    $car-&gt;charging_state ? 'currently' : 'not',
    $car-&gt;charger_voltage,
    $car-&gt;charge_actual_current
);

if ($car-&gt;battery_level &gt;= $car-&gt;charge_limit_soc) {
    print "The charger is connected but disabled due to set maximum charge level reached\n";
}

printf(
    "My steering wheel warmer is %s, passenger seat warmer is %s, and Bio Weapon mode is %s\n",
    $car-&gt;heater_steering_wheel ? 'on' : 'off',
    $car-&gt;heater_seat_passenger ? 'on' : 'off',
    $car-&gt;bioweapon_mode ? 'on' : 'off'
);

printf(
    "The temperature inside the car is %dC and outside it's %dC, and climate control is %s\n",
    $car-&gt;temperature_inside,
    $car-&gt;temperature_outside,
    $car-&gt;is_climate_on ? 'on' : 'off'
);
</code></pre>

<p>Output:</p>

<pre><code>My Tesla account has my car registered with the name 'Dream machine'.

My car is in gear P and is currently going 0 MPH and my odometer is 49066

My latitude is XX.XXXXXX, longitide is -XXX.XXXXXX, my heading is 229 degrees and its using 0.00 kWh/mile

My dashcam is Unavailable, sentry mode is disabled and I am not currently near my vehicle

My battery is at 94%, and is currently charging at 0.00 volts pulling 0.00 Amps

The charger is connected but disabled due to set maximum charge level reached

My steering wheel warmer is off, passenger seat warmer is off, and Bio Weapon mode is off

The temperature inside the car is 17C and outside it's 13C, and climate control is off
</code></pre>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_2">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/thibaultduponchelle/5-cool-programming-links-aid">5 cool Programming links</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Tib
 on Friday 18 March 2022 17:17</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><h4>
  
  
  1. <a href="https://gist.github.com/willurd/5720255">Big list of HTTP static server one-liners</a>
</h4>

<h4>
  
  
  2. <a href="http://blogs.perl.org/users/dimitrios_kechagias/2022/03/cloud-provider-performance-comparison-gcp-aws-azure-perl.html">Cloud providers performance comparison</a>
</h4>

<h4>
  
  
  3. <a href="https://markdownsite.com/">MarkdownSite</a>
</h4>

<h4>
  
  
  4. <a href="https://www.sofuckingagile.com/blog/on-being-indispensable">On being indispensable</a>
</h4>

<h4>
  
  
  5. <a href="https://hackertyper.net/">Hacker type</a>
</h4>

<p>Enjoy! üòÅ</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_3">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/yukikimoto/the-fastest-master-of-perl-basic-syntax-2022-3gem">The Fastest Master of Perl Basic Syntax 2022</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Yuki Kimoto
 on Thursday 17 March 2022 08:18</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This article is a summary of Perl's basic <a href="https://en.perlzemi.com/blog/20161022147731.html">syntax</a> 2022 to learn Perl quickly.</p>

<p>The original article is <a href="https://en.perlzemi.com/blog/20091226126425.html">The Fastest Master of Perl Basic Synta | Perl ABC</a></p>

<h2>
  
  
  Perl Basic Syntax
</h2>

<h3>
  
  
  Syntax Check
</h3>

<p>Be sure to write the following two lines first.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>use strict;
use warnings;
</code></pre>

</div>



<p><a href="https://en.perlzemi.com/blog/20130912137895.html">use strict</a> makes syntax check strict.</p>

<p><a href="https://en.perlzemi.com/blog/20130916137930.html">use warnings</a> displays warnings to prevent mistakes.</p>

<h3>
  
  
  print function
</h3>

<p>The <a href="https://en.perlzemi.com/blog/20170404149131.html">print function</a> prints a string to the standard output.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>print "Hello world";
</code></pre>

</div>



<h3>
  
  
  Comments
</h3>

<p>Perl's <a href="https://en.perlzemi.com/blog/20130712137361.html">comment</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># comment
</code></pre>

</div>



<h3>
  
  
  Variable Declarations
</h3>

<p>The <a href="https://en.perlzemi.com/blog/20080307120491.html">my</a> keyword declares a <a href="https://en.perlzemi.com/blog/20161107147852.html">variable</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Scalar variables
my $num;

# Array variables
my @students

# Hash variables
my %month_num;
</code></pre>

</div>



<h3>
  
  
  Execution of Perl Programs
</h3>

<p>The <strong>perl</strong> command executes Perl programs.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>perl script.pl
</code></pre>

</div>



<p>If you want to print the output to a file, you can use redirection.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>perl script.pl &gt; file.txt
</code></pre>

</div>



<p>These are executed on CUI envrinements, for example:</p>

<ul>
<li><a href="https://en.perlzemi.com/blog/20080603121251.html">Command Prompt on Windows</a></li>
<li>Shell on Mac/<a href="https://en.linux.perlzemi.com/">Linux</a>/UNIX</li>
</ul>

<h3>
  
  
  Compile check
</h3>

<p>You can do only compile check without runing the script.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>perl -c script.pl
</code></pre>

</div>



<h3>
  
  
  Perl Debugger
</h3>

<p>Perl has the <a href="https://en.perlzemi.com/blog/20100302126967.html">debugger</a>. To start the debugger, use <strong>-d</strong> option with the <strong>perl</strong> command.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>perl -d script.pl
</code></pre>

</div>



<h2>
  
  
  Numbers
</h2>

<h3>
  
  
  Numbers
</h3>

<p>You can assign a number to a scalar variable. The number is a integral number or a floating point number.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my $num = 1;
my $num = 1.234;
</code></pre>

</div>



<p>If the digits is large, underscores can be used as delimiters.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my $num = 100_000_000;
</code></pre>

</div>



<p>Numbers written in source codes are called <a href="https://en.perlzemi.com/blog/20080826121977.html">numeric literals</a>.</p>

<h3>
  
  
  Arithmetic Operations
</h3>

<p>These are basic <a href="https://en.perlzemi.com/blog/20080910122105.html">arithmetic operations</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Addition
$num = 1 + 1;

# Subtruction
$num = 1 - 1;

# Multiplication
$num = 1 * 2;

# Division
$num = 1 / 2;
</code></pre>

</div>



<p>To culcurate the quotient, perform division and then extract the integer part using the <a href="https://en.perlzemi.com/blog/20080923122214.html">int function</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Quotient
$quo = int(3 / 2);
</code></pre>

</div>



<p>The <strong>%</strong> operator calculates the remainder.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Remainder
$mod = 3 % 2;
</code></pre>

</div>



<h3>
  
  
  Increment and decrement
</h3>

<p><a href="https://en.perlzemi.com/blog/20180224151948.html">Increment</a> and <a href="https://en.perlzemi.com/blog/20180226151973.html">Decrement</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Increment
$i++

# Decrement
$i--
</code></pre>

</div>



<h2>
  
  
  Strings
</h2>

<h3>
  
  
  Single Quoted Strings
</h3>

<p>This is a <a href="https://en.perlzemi.com/blog/20201027075254.html">single quoted string</a>. You can assign it to a scalar varialbe.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my $str1 = 'abc';
</code></pre>

</div>



<h3>
  
  
  Double Quoted Strings
</h3>

<p>This is a <a href="https://en.perlzemi.com/blog/20201026075254.html">double quoted string</a>.  You can assign it to a scalar varialbe. In double quoted strings, you can use escape sequences such as <strong>\t</strong>(tab), <strong>\n</strong>(line break) or etc.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my $str2 = "def";
my $str3 = "a\tbc\n";
</code></pre>

</div>



<p>You can also use variable expansions in double quoted strings.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Variable expansion - The result is "abc def"
my $str4 = "$str1 def";
</code></pre>

</div>



<h3>
  
  
  String Operators and Functions
</h3>

<p>Often used string <a href="https://en.perlzemi.com/blog/20161005147566.html">operators</a> and <a href="https://en.perlzemi.com/blog/20161004147558.html">functions</a>.</p>

<ul>
<li><a href="https://en.perlzemi.com/blog/20080221120361.html">String Concatnation Operator</a></li>
<li><a href="https://en.perlzemi.com/blog/20081007122338.html">join Function</a></li>
<li><a href="https://en.perlzemi.com/blog/20080301120434.html">split Function</a></li>
<li><a href="https://en.perlzemi.com/blog/20080926122245.html">length Function</a></li>
<li><a href="https://en.perlzemi.com/blog/20080224120386.html">substr Function</a></li>
<li><a href="https://en.perlzemi.com/blog/20080225120395.html">index Function</a></li>
</ul>

<p><strong>Examples:</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Concat two strings
my $join1 = 'aaa' . ' Bbb';

# Concat strings with a delimiter
my $join2 = join(',','aaa', 'bbb', 'ccc');

# Split
my @record = split(/,/, 'aaa,bbb,ccc');

# Length
my $length = length 'abcdef';

# Cut - The result is "ab"
my $substr = substr('abcd', 0, 2);

# Search - Returns the found position, otherwise returns -1
my $result = index('abcd', 'cd');
</code></pre>

</div>



<h2>
  
  
  Arrays
</h2>

<p>Explains Perl <a href="https://en.perlzemi.com/blog/20161012147627.html">arrays</a>. Arrays are data structures to have multiple values.</p>

<h3>
  
  
  Array Declarations
</h3>

<p>This is an array declaration and assignment. A <a href="https://en.perlzemi.com/blog/20100308126967.html">list</a> can be assigned to an array.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Array declarations
my @array;

# Assignment to the array
@array = (1, 2, 3);
</code></pre>

</div>



<h3>
  
  
  Getting and Setting an Element of the Array
</h3>

<p>Set and get an element of the array.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Get an element of the array
$array[0];
$array[1];

# Set an element of the array
$array[0] = 1;
$array[1] = 2;
</code></pre>

</div>



<h3>
  
  
  The Length of the Array
</h3>

<p>To get the length of the array, By evaluating the array in a scalar context, you can get the length of the array.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Get the legnth of the array
my $array_length = @array;
</code></pre>

</div>



<h3>
  
  
  Array Functions
</h3>

<p>Often used array <a href="https://en.perlzemi.com/blog/20161004147558.html">functions</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Cut off the first element
my $first = shift @array;

# Add an element at the beginning of the array
unshift @array, 5;

# Cut off the last element
my $last = pop @array;

# Add an element at the end of the array
push @array, 9;
</code></pre>

</div>



<h2>
  
  
  Hashes
</h2>

<p>Explains Perl <a href="https://en.perlzemi.com/blog/20161013147635.html">hashes</a>. Hashes are data structures that have key-value pairs.</p>

<h3>
  
  
  Hash Declarations
</h3>

<p>This is a hash declaration. A <a href="https://en.perlzemi.com/blog/20100308126967.html">list</a> can be assigned to a hash.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Hash declaration
my %hash;

# Assignment values to the hash
%hash = (a =&gt; 1, b =&gt; 2);
</code></pre>

</div>



<h3>
  
  
  Getting and Setting a Value of the Hash
</h3>

<p>Get and set a value of the hash.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Get a value of the hash
$hash{a};
$hash{b};

# Set a value of the hash
$hash{a} = 5;
$hash{b} = 7;
</code></pre>

</div>



<p>If the key of the hash is not consists of "a-zA-Z0-9_", it must be enclosed in single or double quotes.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$hash{'some-key'} = 5;
</code></pre>

</div>



<h3>
  
  
  Hash Functions
</h3>

<p>Often used hash <a href="https://en.perlzemi.com/blog/20161004147558.html">functions</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Get all keys
my @keys = keys %hash;

# Get all values
my @values = values %hash;

# Check if the key exists
exists $hash{a};

# Delete a key of the hash
delete $hash{a};
</code></pre>

</div>



<h2>
  
  
  Conditional Branches
</h2>

<p>Explains conditional branches.</p>

<h3>
  
  
  if Statements
</h3>

<p>For conditional branches, You can use <a href="https://en.perlzemi.com/blog/20161023147731.html">if statements</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>if ($condition) {
  # If the condition is ture, the statements in this block are executed.
}
</code></pre>

</div>



<h3>
  
  
  if-else statement
</h3>

<p>This is a if-else statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>if ($condition) {
  # If the condition is ture, the statements in this block are executed.
}
else {
  # If the condition is false, the statements in this block are executed.
}
</code></pre>

</div>



<h3>
  
  
  if-elsif Statements
</h3>

<p>This is a if-elsif statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>if ($condition1) {
  # If the condition 1 is ture, the statements in this block are executed.
}
elsif ($condition1) {
  # If the condition 2 is ture, the statements in this block are executed.
}
</code></pre>

</div>



<h3>
  
  
  Comparison operator
</h3>

<p>The list of Perl <a href="https://en.perlzemi.com/blog/20080318120585.html">comparison operators</a>. Perl has numeric comparison operators and string comparison operators.</p>

<p><strong>Numeric Comparison Operators</strong> </p>

<p>Numeric comparison compares the values as numbers.</p>

<div class="table-wrapper-paragraph"><table>
<thead>
<tr>
<th>Operators</th>
<th>Meanings</th>
</tr>
</thead>
<tbody>
<tr>
<td>$x == $y</td>
<td>$x is equal to $y</td>
</tr>
<tr>
<td>$x != $y</td>
<td>$x is not equal to $y</td>
</tr>
<tr>
<td>$x &lt; $y</td>
<td>$x is less than $y</td>
</tr>
<tr>
<td>$x &gt; $y</td>
<td>$x is greater than $y</td>
</tr>
<tr>
<td>$x &lt;= $y</td>
<td>$x is less than or equal to $y</td>
</tr>
<tr>
<td>$x &gt;= $y</td>
<td>$x is greater than or equal to $y</td>
</tr>
</tbody>
</table></div>

<p><strong>String Comparison Operators</strong> </p>

<p>String comparison operators compares the values as strings. The values are compared with the dictionary order.</p>

<div class="table-wrapper-paragraph"><table>
<thead>
<tr>
<th>Operators</th>
<th>Meanings</th>
</tr>
</thead>
<tbody>
<tr>
<td>$x eq $y</td>
<td>$x is equal to $y</td>
</tr>
<tr>
<td>$x ne $y</td>
<td>$x is not equal to $y</td>
</tr>
<tr>
<td>$x lt $y</td>
<td>$x is less than $y</td>
</tr>
<tr>
<td>$x gt $y</td>
<td>$x is greater than $y</td>
</tr>
<tr>
<td>$x le $y</td>
<td>$x is less than or equal to $y</td>
</tr>
<tr>
<td>$x ge $y</td>
<td>$x is greater than or equal to $y</td>
</tr>
</tbody>
</table></div>

<h2>
  
  
  Loop Syntax
</h2>

<p>Explains <a href="https://en.perlzemi.com/blog/20170521149524.html">loop syntax such as while/for</a>.</p>

<h3>
  
  
  The while statement
</h3>

<p>This is a <a href="https://en.perlzemi.com/blog/20100123126425.html">while</a> statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my $i = 0;
while ($i &lt; 5) {

    # Do something

    $i++;
}
</code></pre>

</div>



<h3>
  
  
  The for statement
</h3>

<p>This is a <a href="https://en.perlzemi.com/blog/20080327120662.html">for</a> statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>for (my $i = 0; $i &lt; 5; $i++) {
  # Do something
}
</code></pre>

</div>



<h3>
  
  
  The foreach statement
</h3>

<p>This is a <a href="https://en.perlzemi.com/blog/20080328120673.html">foreach</a> statement to iterate each element of the array.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>foreach my $num (@nums) {
  # Do something
}
</code></pre>

</div>



<p>In Perl, the <strong>foreach</strong> statement is alias for the <strong>for</strong> statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Same as the above foreach statement
for my $num (@nums) {
  # Do something
}
</code></pre>

</div>



<h2>
  
  
  Subroutines
</h2>

<p>Explaines <a href="https://en.perlzemi.com/blog/20101130129876.html">subroutines</a>. </p>

<h3>
  
  
  Subroutine Definition
</h3>

<p>This is a subroutine defintiion. A subroutine recieves the arguments, execute the statements, and return the return values.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>sub sum {
  # Revices arguments
  my ($num1, $num2) = @_;

  # Execute the statements
  my $total = $num1 + $num2;

  # Return the return values
  return $total;
}
</code></pre>

</div>



<h3>
  
  
  Calling Subroutines
</h3>

<p>Call a subroutine.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Call a subroutine
my $sum = sum(1, 2);
</code></pre>

</div>



<h2>
  
  
  File Input/Output
</h2>

<p>Explains <a href="https://en.perlzemi.com/blog/20110212130370.html">file Input/Output</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Open file
open my $fh, '&lt;', $file
  or die "Cannot open'$file':$!";

while (my $line = &lt;$fh&gt;) {
  ...
}

close $fh;
</code></pre>

</div>



<p>The <a href="https://en.perlzemi.com/blog/20080718121643.html">open function</a> opens a file. The "&lt;" means the read mode.</p>

<p>The <strong>&lt;$fh&gt;</strong> is a <a href="https://en.perlzemi.com/blog/20080722121673.html">line input operator</a>.</p>

<p><strong>$!</strong> is a <a href="https://en.perlzemi.com/blog/20161102147817.html">predefined variable</a> to be set to the error that the operating system returns.</p>

<h2>
  
  
  Often Used Features
</h2>

<p>Explains Perl often used features.</p>

<h3>
  
  
  Perl True and False Values
</h3>

<p>Explains <a href="https://en.perlzemi.com/blog/20080323120628.html">Perl true and false values</a>.</p>

<h4>
  
  
  False Values
</h4>

<p>These are false values in Perl.</p>

<ul>
<li>undef</li>
<li>0</li>
<li>""</li>
<li>"0"</li>
<li>()</li>
</ul>

<h4>
  
  
  True Values
</h4>

<p>True values are all values except for the above false values.</p>

<h3>
  
  
  The defined Function
</h3>

<p>The <a href="https://en.perlzemi.com/blog/20100219126425.html">defined function</a> checks if the value is defined.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>defined $num;
</code></pre>

</div>



<h3>
  
  
  Command Line Arguments
</h3>

<p>@ARGV is <a href="https://en.perlzemi.com/blog/20080108132865.html">command line arguments</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my ($args0, $args1, $args2) = @ARGV;
</code></pre>

</div>



<h3>
  
  
  Scalar Context and List Context
</h3>

<p>Perl has <a href="https://en.perlzemi.com/blog/20080608121292.html">context</a> that the value is evaluated.</p>

<p>These are examples that the return values are different corresponding to scalar context and list context.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Scalar context
my $time_str = localtime();

# List contex
my @datetime = localtime();
</code></pre>

</div>



<h3>
  
  
  The unless Statement
</h3>

<p>Perl has the <a href="https://en.perlzemi.com/blog/20100125126425.html">unless statement</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>unless ($condition) {
  ...
}
</code></pre>

</div>



<p>The above unless statement is same as the following if statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>if (!$condition) {
  ...
}
</code></pre>

</div>



<h3>
  
  
  Postfix if, Postfix unless
</h3>

<p>Perl has the postfix if statement and the postfix unless statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Postfix if
print $num if $num &gt; 3;

# Postfix unless
die "error" unless $num;
</code></pre>

</div>



<h3>
  
  
  Postfix for
</h3>

<p>Per has the postfix for statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Postfix for
print $_ for @nums;
</code></pre>

</div>



<p>Each element of the array is assigned to <strong>$_</strong>.</p>

<p><strong>$_</strong> is called <a href="https://en.perlzemi.com/blog/20180118151628.html">default variables</a></p>

<h3>
  
  
  Array Slices and Hash Slices
</h3>

<p>Perl has <a href="https://en.perlzemi.com/blog/20080216120316.html">array slices</a> and <a href="https://en.perlzemi.com/blog/20080215120307.html">hash slices</a> syntax to get the specified elements.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Array slice
my @select = @array[1, 4, 5];

# Hash slice
my @select = @hash{'a', 'b', 'd'};
</code></pre>

</div>



<h3>
  
  
  The map Function
</h3>

<p>Perl has the <a href="https://en.perlzemi.com/blog/20100118126425.html">map function</a> to process each element of the array. Each element is assigned to <strong>$_</strong>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my @mapped = map {$_ * 2} @array;
</code></pre>

</div>



<p>The above result of the map funtion is same as the result of the following for statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my @mapped;
for my $elem (@array) {
  my $new_elem = $elem * 2;
  push @mapped, $new_elem;
}
</code></pre>

</div>



<h3>
  
  
  The grep function
</h3>

<p>Perl has the <a href="https://en.perlzemi.com/blog/20100119126425.html">grep function</a> to get the elements that the condition match. Each element is assigned to <strong>$_</strong>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my @select = grep {$_ =~ /cat/} @array;
</code></pre>

</div>



<p>The above result of the grep function is same as the result of the following for statement.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my @select;
for my $elem (@array) {
  if ($elem =~ /cat/) {
    push @select, $elem;
  }
}
</code></pre>

</div>



<h3>
  
  
  List Assignment
</h3>

<p>This is the syntax of <a href="https://en.perlzemi.com/blog/20100308126967.html">list</a> assignment.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># List assignment
my ($num1, $num2) = ($num3, $num4);
</code></pre>

</div>



<h3>
  
  
  The Range Operator
</h3>

<p>The <a href="https://en.perlzemi.com/blog/20170520149523.html">range operator</a> creates a list that has a range of integers.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Range operator
my @numes = (0 .. 5);
</code></pre>

</div>



<p>This is same as the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my @numes = (0, 1, 2, 3, 4, 5);
</code></pre>

</div>



<h3>
  
  
  The string list operator
</h3>

<p>Perl has the <a href="https://en.perlzemi.com/blog/20080222120369.html">string list operator</a> to create a string list easily.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># String list operator
my @strs = qw(aaa bbb ccc);
</code></pre>

</div>



<p>This is same as the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>my @strs = ('aaa', 'bbb',  'ccc');
</code></pre>

</div>



<h3>
  
  
  Return Statments that has No Operand
</h3>

<p>The return statments that has no operand returns <a href="https://en.perlzemi.com/blog/20100220126425.html">undef</a> in scalar context, or returns an empty list in list context.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>sub foo {

  return;
}

# undef
my $ret = foo();

# ()
my @ret = foo();
</code></pre>

</div>



<h3>
  
  
  Exception Handling
</h3>

<p>The <a href="https://en.perlzemi.com/blog/20100212126425.html">die function</a> throws an exception.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Throw an exception
die "Error message";
</code></pre>

</div>



<p>The <a href="https://en.perlzemi.com/blog/20100312126967.html">eval block</a> catch exceptions. If an exception occurs, the exception message is assinged to the predefined variable "$@".<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Catch exceptions
eval {
  # Do something
};

# The exception message
if ($@) {
  ...
}
</code></pre>

</div>



<h3>
  
  
  Read Whole Content from a File
</h3>

<p>To <a href="https://en.perlzemi.com/blog/20180521152690.html">read whole content from a file</a>, you can use the following syntax.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Read whole content from a file
my $content = do { local $/; &lt;$fh&gt; };
</code></pre>

</div>



<h3>
  
  
  The Ternary Operator
</h3>

<p>Perl has <a href="https://en.perlzemi.com/blog/20080325120646.html">Ternary operator</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Ternary operator
my $num = $flag ? 1 : 2;
</code></pre>

</div>



<h3>
  
  
  ||=
</h3>

<p>Perl has special assign operator "||=".<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$num ||= 2;
</code></pre>

</div>



<p>This is same as the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$num = $num || 2;
</code></pre>

</div>



<h3>
  
  
  //=
</h3>

<p>Perl has the <a href="https://en.perlzemi.com/blog/20120702134129.html">defined-or operator</a> and the special assign operator.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$num //= 2;
</code></pre>

</div>



<p>This is same as the following code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$num = $num // 2;
</code></pre>

</div>



<h3>
  
  
  Module Loading
</h3>

<p>The <a href="https://en.perlzemi.com/blog/20090205123287.html">use</a> function loads a <a href="https://en.perlzemi.com/blog/20091116124667.html">module</a>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>use SomeModule;
</code></pre>

</div>



<h3>
  
  
  Write a configuration file in Perl
</h3>

<p>The <a href="https://en.perlzemi.com/blog/20090208123289.html">do function</a> read the configuration file written by Perl.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>use FindBind;
my $conf_file = "$FindBin::Bin/app.conf";
my $conf = do $conf_file
  or die "Can't load config file \"$conf_file\":$! $@";
</code></pre>

</div>

<p><br>
<strong>Examples of config file:</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>{
  name =&gt;'Foo',
  number =&gt; 9
}
</code></pre>

</div>



<h3>
  
  
  Multiple Line Comments
</h3>

<p>Although Perl has not the syntax of multiple line comments, You can use <a href="https://en.perlzemi.com/blog/20170408149166.html">POD</a> syntax to write multiple line comments.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>=pod

Comment1

Comment2

Comment3

=cut
</code></pre>

</div>



       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_4">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2022/03/perl-weekly-challenge-156-pernicious-and-weird-numbers.html">Perl Weekly Challenge 156: Pernicious and Weird Numbers</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Wednesday 16 March 2022 03:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 156 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-156/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few days from now (on March 20, 2022 at 24:00). This blog post offers some solutions to this challenge, please don‚Äôt read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: Pernicious Numbers</h2>

<p><em>Write a script to permute first 10 Pernicious Numbers.</em></p>

<blockquote>
  <p><em>A pernicious number is a positive integer which has prime number of ones in its binary representation.</em></p>
</blockquote>

<p><em>The first pernicious number is 3 since binary representation of 3 = (11) and 1 + 1 = 2, which is a prime.</em></p>

<p><em>Expected Output:</em></p>

<pre><code>3, 5, 6, 7, 9, 10, 11, 12, 13, 14
</code></pre>

<p>I&#8217;m not sure why the task description speaks about <em>permuting</em> the first 10 pernicious numbers. It seems we&#8217;re simply requested to display them.</p>

<h3>Pernicious Numbers in Raku</h3>

<p>In Raku, we can use the <a href="https://docs.raku.org/routine/base">base</a> method to convert a real number into a string representation with a chosen base. To find the number of <code>1</code> in the resulting binary string, we can just sum the digits. Then, Raku has the built in <a href="https://docs.raku.org/routine/is-prime">is-prime</a> to find out whether the <code>1</code> count is a prime numbers. We end up with a method invocation pipeline (<code>$n.base(2).comb.sum.is-prime</code>) that does all the real work.</p>

<pre><code>my $count = 0;
for 2..* -&gt; $n {
    if $n.base(2).comb.sum.is-prime {
        $count++;
        print "$n, " and next if $count &lt; 10;
        say $n and last;
    }
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ raku ./pernicious.raku
3, 5, 6, 7, 9, 10, 11, 12, 13, 14
</code></pre>

<h3>Pernicious Numbers in Perl</h3>

<p>In Perl, we will simply use the <code>sprintf</code> built-in function with a <code>%b</code> formatting string to convert the input integer into a binary representation. The program is otherwise similar to the Raku implementation, except for finding if the <code>1</code> count is prime. We could write a subroutine for that (or, rather, re-use one of the numerous such subroutines that I have implemented for previous Perl Weekly Challenge task implementations, including last week for <a href="http://blogs.perl.org/users/laurent_r/2022/03/perl-weekly-challenge-155-fortunate-numbers-and-pisano-periods.html">PWC 155</a>). But since we don&#8217;t need any large prime, I&#8217;ll simply hard-code the first eight prime numbers (those less than 20) known to all people having even only a slight inclination for maths , and store them in a hash for fast lookup</p>

<pre><code>use strict;
use warnings;
use feature "say";

my $count = 0;
my %primes = map { $_ =&gt; 1 } (2, 3, 5, 7, 11, 13, 17, 19);

for my $n (2..100) {
    my $bin = sprintf "%b", $n;
    my $num_1 = 0;
    $num_1 += $_ for split "", $bin;
    if (exists $primes{$num_1}) {
        $count++;
        print "$n, " and next if $count &lt; 10;
        say $n and last;
    }
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ perl pernicious.pl
3, 5, 6, 7, 9, 10, 11, 12, 13, 14
</code></pre>

<h2>Task 2: Weird Numbers</h2>

<p><em>You are given number, $n > 0.</em></p>

<p><em>Write a script to find out if the given number is a Weird Number.</em></p>

<p><em>According to <a href="https://en.wikipedia.org/wiki/Weird_number">Wikipedia</a>, it is defined as:</em></p>

<blockquote>
  <p><em>The sum of the proper divisors (divisors including 1 but not itself) of the number is greater than the number, but no subset of those divisors sums to the number itself.</em></p>
</blockquote>

<p><em>Example 1:</em></p>

<pre><code>Input: $n = 12
Output: 0

Since the proper divisors of 12 are 1, 2, 3, 4, and 6, which sum to 16; but 2 + 4 + 6 = 12.
</code></pre>

<p><em>Example 2:</em></p>

<pre><code>Input: $n = 70
Output: 1

As the proper divisors of 70 are 1, 2, 5, 7, 10, 14, and 35; these sum to 74, but no subset of these sums to 70.
</code></pre>

<p>If a number is equal to the sum of its proper divisors, it is said to be a <em>perfect</em> number (such as 6, 28, 496, etc.). If it it less than the sum of its divisors, it is said to be <em>abundant</em> and it it is more than the sum of its divisors, it is <em>deficient</em>. If a number is equal to the sum of a subset of its proper divisors (such as 12), it it said to be <em>semi-perfect</em>). With these definitions in mind, a <em>weird</em> number is an abundant number that is not semi-perfect.</p>

<h3>Weird Numbers in Raku</h3>

<p>The <code>is-weird</code> subroutine first finds the proper divisors of the input integer (testing divisibility for all integers less than or equal to the input integer). Then it returns False if the sum of the divisors is less than or equal to the input integer (i.e. if the input  number is deficient or perfect). For the remaining integers (the so-called abundant numbers), it uses the <a href="https://docs.raku.org/routine/combinations">combinations</a> method on the <code>@divisors</code> list to test all subsets of at least 2 items and returns False if the sum of the items of any such subset is equal to the input numbers. If no such subset has been found, then the number is not semi-perfect and the subroutine returns True.</p>

<pre><code>sub is-weird (Int $n where * &gt; 0) {
    my @divisors = grep {$n %% $_}, 1..$n/2;
    return False if @divisors.sum &lt;= $n;
    for @divisors.combinations: 2..@divisors.elems -&gt; $subset {
        return False if $subset.sum == $n;
    }
    True;
}

for 2..1000 -&gt; $m {
    say "Found $m" if is-weird($m);
}
</code></pre>

<p>This script finds only two integers less than 1000 that are weird:</p>

<pre><code>raku ./wierd_nrs.raku
Found 70
Found 836
</code></pre>

<h3>Weird Numbers in Perl</h3>

<p>This is essentially a port to Perl of the Raku implementation above, except that we had to implement two helper subroutines, <code>sum</code> and <code>combine</code>. The first one simply computes the sum of the items of an input list or array, and the second is a recursive subroutine that computes all subsets of the input divisors list and returns a false value (0) if the sum of any subset is equal to the input integer, and a true value (1) otherwise.</p>

<pre><code>use strict;
use warnings;
use feature "say";

sub sum {
    my $sum = 0;
    $sum += $_ for @_;
    return $sum;
}

sub combine {
    my ($test, $comb, $div) = @_;
    my @comb_so_far = @$comb;
    my @divisors = @$div;
    # say "(@comb_so_far) (@divisors)";
    return 0 if sum(@comb_so_far) == $test;
    return 1 if scalar @divisors == 0;
    for my $i (0..$#divisors) {
        my $result = combine($test, [@comb_so_far, $divisors[$i]],
                             [@divisors[($i+1)..$#divisors]]);
        return 0 if $result == 0;
    }
    return 1;
}

sub is_weird {
    my $n = shift;
    my @divisors = grep {$n % $_ == 0} 1..($n/2);
    return 0 if sum(@divisors) &lt;= $n;
    return combine($n, [], [@divisors]);
}

for my $m (2..6000) {
    say "Found $m" if is_weird($m);
}
</code></pre>

<p>With the wider range used in this program, it displays the following output:</p>

<pre><code>$ perl weird_nrs.pl
Found 70
Found 836
Found 4030
Found 5830
</code></pre>

<p>This program is becoming very slow for the larger values of the input integer. It took more than 25 minutes on my computer to find the four weird numbers below 6,000 above.</p>

<p>Note that all four weird numbers found above are even. In fact, although there are infinitely many weird numbers, all known weird numbers are even, and it is not known whether there exists any odd weird number (this is an unsolved problem in mathematics). So if you can find an odd weird number, or else if you can prove that no such number exists, you might become famous.</p>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on March 27, 2022. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_5">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/thibaultduponchelle/the-love-of-perl-in-memes-1lmm">The love of Perl in Memes</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Tib
 on Tuesday 15 March 2022 17:07</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Somewhere in the past I wrote <a href="https://dev.to/thibaultduponchelle/the-hate-of-perl-in-memes-469e">The hate of Perl in Memes</a> and it's cool even if it's almost exclusively composed of <em>negative</em> memes (hence the post title üòÉ)</p>

<p>It's time to revenge üòÄ</p>

<h2>
  
  
  Unleash the power
</h2>

<p>Learning Perl is a rewarding journey:<br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--eQcREVE0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1iva4c2uvjrgpvxde87v.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--eQcREVE0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1iva4c2uvjrgpvxde87v.jpg" alt="I know Perl" width="400" height="400"></a></p>

<p>Or change your mind:<br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ptUjwgjJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/syfj6zmk2njiaxaadqdp.JPG" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ptUjwgjJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/syfj6zmk2njiaxaadqdp.JPG" alt="chomp" width="680" height="677"></a></p>

<p>Let yourself be guided:<br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--d1k-rJ3F--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gkegv5npuqxdp482v4r6.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--d1k-rJ3F--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gkegv5npuqxdp482v4r6.jpg" alt="Mandalorian Perl Meme" width="750" height="499"></a><br>
(<a class="mentioned-user" href="https://dev.to/jrw">@jrw</a> this one is for you xD)</p>

<h2>
  
  
  Resist! üòé
</h2>

<p>General purpose language: <br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--73hPp5tn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rq0w20lmiibmkbr0du1l.jpeg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--73hPp5tn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rq0w20lmiibmkbr0du1l.jpeg" alt="Maried" width="602" height="401"></a></p>

<p>A camel with a submachine gun:<br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--evkBDjez--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/51icvra1z4itafm86f4v.jpeg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--evkBDjez--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/51icvra1z4itafm86f4v.jpeg" alt="Perl Kalash" width="203" height="249"></a></p>

<p>Don't listen to haters:<br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IYKpZ9Tm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zklopujdty17buy3b1ph.jpeg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IYKpZ9Tm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zklopujdty17buy3b1ph.jpeg" alt="still use" width="880" height="370"></a></p>

<h2>
  
  
  Productivity toolbox
</h2>

<p>Get the job done:<br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--EPZ3vNuS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/buv8o9h9546m7nwgw5i2.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--EPZ3vNuS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/buv8o9h9546m7nwgw5i2.jpg" alt="BioInfo" width="880" height="880"></a></p>

<p>Simply powerful:<br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--OnlrEq1M--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ktbslhjdt0mm85u2r1dj.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--OnlrEq1M--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ktbslhjdt0mm85u2r1dj.jpg" alt="Looserz" width="625" height="468"></a></p>

<p>Or even: <br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--_rFqvD_9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/c99vbjetgqi9qmw4iakv.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--_rFqvD_9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/c99vbjetgqi9qmw4iakv.png" alt="Perl var" width="500" height="522"></a></p>

<h2>
  
  
  Glue
</h2>

<p>Perl people help everyone:<br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--mlRv-kyN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jva28ywh1xcv6kzeq39f.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--mlRv-kyN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jva28ywh1xcv6kzeq39f.jpg" alt="Empathy" width="880" height="646"></a></p>

<h2>
  
  
  Do you know some others...?
</h2>

<p>Please share! ‚ù§Ô∏è</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_6">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/lancew/wrapping-a-json-api-to-access-your-personal-data-nkk">Wrapping a JSON API to access your personal data</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Lance Wicks
 on Tuesday 15 March 2022 00:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>In my last tale I outlined how I used Dist::Zilla to do much of the heavy lifting for packaging and releasing a Perl module to CPAN. In this tale I want to outline how quick and easy it was to write that module; wrapping a proprietary undocumented API so that I could easily use my personal data in ways the company did/does not provide.</p>

<p>The module in question is <a href="https://metacpan.org/pod/WebService::SmartRow">WebService::SmartRow</a>. SmartRow is a physical device and app that provides power and other performance data from a indoor rowing machine (specifically the WaterRower) machines.</p>

<p>It is a bluetooth device, that sends data to a web service via a mobile application. This data is then accessed via the app, or the website. The data includes things like the power in watts, stokes per minute, heart rate, etc.</p>

<p>The specific data I wanted to see, was/is how my average power changes over time. Specifically, across a series of 5000 meter rows, am I generating more power over time. Also I wanted to see my personal best times, over time. I.e. how much better was this 5000m over my previous best.</p>

<h2>
  
  
  The API
</h2>

<p>SmartRow do not provide a developer API (at the time of writing, and as far as I was able to see). What they do have is a website that is mainly driven by JavaScript and a JSON API. As logged in user my browser makes calls to the API and then creates pretty HTML from the JSON returned.</p>

<p>The API is really quite tidy and easy to understand. Which is nice! I have previous experience wrapping JSON APIs and it can be really ugly; thankfully the SmartRow team have made a clean, easy to understand API.</p>

<p>The API relies on you being logged in, but quick exploration showed that basic auth is possible on the API endpoint. Meaning I did not need to worry about OAuth or keys and so forth.</p>

<h2>
  
  
  The web requests
</h2>

<p>Knowing that I could get away with basic auth, that meant that the code I needed could work simply by including the username and password in the URL I make a HTTPS request to.</p>

<p>I turned to <a href="https://metacpan.org/pod/HTTP::Tiny">HTTP::Tiny</a> and was quickly able to craft a get request that looked a little like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>    my $response = HTTP::Tiny-&gt;new-&gt;request( 'GET',
              'https://'
            . $user . ':'
            . $pass . '@'
            . $api_url
            . '/public-game'
    );

</code></pre>

</div>



<p>Then (after some basic tests to make sure I got a 200), I could parse the <code>$response-&gt;{content}</code> from JSON to a Perl data structure using <a href="https://metacpan.org/pod/Cpanel::JSON::XS">Cpanel::JSON::XS</a>.</p>

<p>This gave me a data structure looking like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>  [
    {
    "accessory_mac" =&gt; E,
    "account" =&gt; E,
    "ave_bpm" =&gt; E,
    "ave_power" =&gt; E,
    "calc_ave_split" =&gt; E,
    "calc_avg_stroke_rate" =&gt; E,
    "calc_avg_stroke_work" =&gt; E,
    "calories" =&gt; E,
    "confirmed" =&gt; E,
    "created" =&gt; E,
    "curve" =&gt; E,
    "device_mac" =&gt; E,
    "distance" =&gt; E,
    "elapsed_seconds" =&gt; E,
    "extra_millies" =&gt; E,
    "id" =&gt; E,
    "mod" =&gt; E,
    "option" =&gt; E,
    "option_distance" =&gt; E,
    "option_time" =&gt; E,
    "p_ave" =&gt; E,
    "protocol_version" =&gt; E,
    "public_id" =&gt; E,
    "race" =&gt; E,
    "strava_id" =&gt; E,
    "stroke_count" =&gt; E,
    "time" =&gt; E,
    "user_age" =&gt; E,
    "user_max_hr" =&gt; E,
    "user_weight" =&gt; E,
    "watt_kg" =&gt; E,
    "watt_per_beat" =&gt; E,
    },
    ...
  ]

</code></pre>

</div>



<p>(The above code is actually taken from the <a href="http://perl.kiwi/tales/2022/03/15/wrapping-a-json-api-to-access-your-personal-data/">Test2::V0</a> <code>.t</code> file I wrote to confirm the structure.)</p>

<p>So you can see it's pretty easy to understand, the keys are all mainly understandable. In my case I wanted the <code>p_ave</code> and <code>distance</code>, so I could filter on 5000 meters and build an array of all the average power values.</p>

<h2>
  
  
  Module creation
</h2>

<p>At first this could have been a simple script, but I wanted to make this something portable and usable by anyone wanting to work with their personal data.</p>

<p>So after I proved the approach would work, I started a module (using <code>dzil new WebService::SmartRow</code>). This is currently a single file with little refinement.</p>

<p>I used <a href="https://metacpan.org/pod/Moo">Moo</a> for some simple OOPness and structure. This allowed me to specify the attributes I want:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>has username =&gt; ( is =&gt; 'ro', required =&gt; 1 );
has password =&gt; ( is =&gt; 'ro', required =&gt; 1 );

</code></pre>

</div>



<p>There are pretty self-explanatory, to use the API you need those, so add them as required attributes.</p>

<p>Next I added an http attribute:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>has http =&gt; (
    is =&gt; 'ro',
    default =&gt; sub {
        return HTTP::Tiny-&gt;new();
    },
);

</code></pre>

</div>



<p>The <code>default</code> here creates a HTTP::Tiny object which I can later use in methods via <code>$self</code>, which meant my earlier get request changes to look like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>    my $response = $self-&gt;http-&gt;request( 'GET',
              'https://'
            . $user . ':'
            . $pass . '@'
            . $api_url
            . '/public-game'
    );

</code></pre>

</div>



<p>You can set your own <code>http</code> attribute when creating via <code>WebService::SmartRow-&gt;new()</code> so if you need to do something like change the user agent, or have a preferred module, you can inject it easily (assuming the methods match HTTP::Tiny).</p>

<h2>
  
  
  Testing
</h2>

<p>Currently the module is pretty simple, three attributes and 4 public methods. The module has little smarts so the <code>t</code> directory is pretty spartan as the object is pretty simple.</p>

<p>I am using the <code>xt</code> directory to hold tests that talk to the API and as such require an internet connection and credentials.</p>

<p>Not wanting to include my personal credentials in the repo, I have a private sub in the class that gets the username and password from environment variables. Which is good as it means I can commit my tests, and if someone using this module does not need to commit their credentials in code either.</p>

<p>Perl makes the environment variables easy to work with, so the small sub that handles it looks like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>sub _credentials_via_env {
    my $self = shift;

    my $user = $self-&gt;username || $ENV{SMARTROW_USERNAME};

    my $pass = $self-&gt;password || $ENV{SMARTROW_PASSWORD};

    return ( $user, $pass );
}

</code></pre>

</div>



<p>So if you have instantiated the module with username or password it will use those. If they are not present it will use <code>SMARTROW_USERNAME</code> or <code>SMARTROW_PASSWORD</code>.</p>

<p>Then (and I know I can make this a bit smarter) my <code>get_workouts()</code> method, has a call to <code>my ( $user, $pass ) = $self-&gt;_credentials_via_env;</code> prior to calling the URL.</p>

<p>This means I can run my tests like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>SMARTROW_USERNAME=yyyyyyy SMARTROW_PASSWORD=xxxxxxx prove -lvr xt/

</code></pre>

</div>



<p>And it will go and connect to the API and execute tests for me by getting real data from the API.</p>

<p>Earlier I mentioned I am using <a href="https://metacpan.org/pod/Test2::V0">Test2::V0</a> for tests, so in <code>xt</code> I have a growing collection of files that primarily confirm the structure of the data returned from the API.</p>

<p>Mainly they use <code>E()</code> to prove hash element exists, some could/should/do test the content. For example in one test I just wanted to confirm that the <code>data</code> and <code>distribution</code> fields are arrays before later testing the content of those arrays. So I have a test like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>is $leaderboard, {
    distribution =&gt; {
        ageMode =&gt; E,
        data =&gt; array {
            etc(),
        },
        max =&gt; E,
        mean =&gt; E,
        min =&gt; E,
        range =&gt; E,
        userPercentile =&gt; E,
    },
    id =&gt; E,
    mod =&gt; E,
    records =&gt; array {
        etc(),
    },
    },
    'Leaderboard structure is as expected';

</code></pre>

</div>



<p>It is mainly <code>E()</code> checking that is exists, then <code>array</code> to confirm it contains an array. <code>etc()</code> tell the testing code to assume some rows, but not to check the content of them. They just have to exist. As <code>etc()</code> is the only thing in there, as long at <code>data</code> and <code>records</code> contain arrays with some rows, the tests pass.</p>

<p>Having tests like this is really helpful when wrapping someone elses API previous pain has taught me. If the structure of the return data changes, I can easily confirm what has changed.</p>

<p>When you are wrapping an API this way it is an inevitability that the API will change so having the tests is one of the only ways to ensure you can maintain it over time. My <a href="https://metacpan.org/dist/Webservice-Judobase/view/lib/Webservice/Judobase.pod">Webservice::Judobase</a> has had this happen a multitude of times in the past 5 or so years.</p>

<h2>
  
  
  Summary
</h2>

<p>As you can see from the brevity of this tale, wrapping an API is pretty easy to to. I know from previous experience that doing it helps others build things with Perl. So it's the sort of project that helps both the service and our language.</p>

<p>Perl is a famous "glue code" language and this is a great example of why. Two CPAN modules do almost all the heavy lifting and our fantastic test tooling means I was easily able to write tests that will make it easy to maintain.</p>

<p>Dist::Zilla (as per previous post) I use to automate most of the publishing work. I will write something up about that another day. It has lots of plugins that make sure your module is up to scratch.</p>

<p>The JSON API and JavaScript front-end trend has meant that lots of websites have a JSON endpoint that you could wrap. This means you could as I have create a tool that uses your data in a way that the website may never build for you.</p>

<p>It also gives me confidence that I could pull my personal data out of the service and store it in my backups (I am doing that next), so that if the company ever goes bust, I have my data there and have it backed up securely and independently. I can do with it what I please as it is just data on my disk(s), either as plain files or maybe pushed into another database.</p>

<p>If you use a website and there is no module for it on CPAN, maybe it has an API you can wrap too?</p>

<p>Tags: <a href="http://perl.kiwi/tales/tag/perl/">perl</a><a href="http://perl.kiwi/tales/tag/projects/">projects</a><a href="http://perl.kiwi/tales/tag/cpan/">cpan</a></p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_7">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/555.html">#555 - Holidays</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 14 March 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there!</p>
<p>I am in Hungary now where where there is a 4-days Holiday around the 15th March - the Hungarian version of the <a href="https://en.wikipedia.org/wiki/Revolutions_of_1848">Springtime of Nations revolutions</a>.</p>
<p>Then I'll have another 2 days off as my client in Israel celebrates <a href="https://en.wikipedia.org/wiki/Purim">Purim</a>.</p>
<p>I use these free days to work on an open source platform for word-games. It is not ready yet to show the world, but it is already in a condition where people can contribute to it. The first game needs lots of words in various languages. I already started to do versions in English, Hungarian, Hebrew, and Ladino and I already had a contributor with French and German, but I am looking for more people who might be interested in contributing in other languages. Let me know and I can show you the game. I hope that two weeks from now, when I am editing the next issue of the Perl Weekly I'll be able to link to the game. (the game is only front-end code now so there is no Perl in it. Sorry.)</p>
<p>Enjoy your week!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_8">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/jason_a_crome/2022/03/dancer2-0400000-released.html">Dancer2 0.400000 Released </a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Jason A. Crome
 on Monday 14 March 2022 07:26</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>Dancer2 0.400000 has been released, and is on its way to CPAN. </p>

<p>We realize that some of you might be curious as to the large version bump. There are a couple of reasons for this:
* Modules we depend on bumped their minimum Perl version to 5.12, requiring us to follow suit.
* As of 2022, Dancer2 has an official deprecation policy. We are implementing this policy effective with this release, and it will help shape and guide future development.
* We've officially marked a lot of outdated and unused API as being deprecated.</p>

<p>With that, the following APIs, methods, etc. are now officially deprecated:</p>

<ul>
<li><code>Dancer2::Test</code></li>
<li><code>request-&gt;dispatch_path</code></li>
<li><code>push_header</code></li>
<li><code>header</code></li>
<li><code>headers</code></li>
<li><code>context</code></li>
<li>Named placeholders: <code>splat</code> and <code>capture</code></li>
</ul>

<p>In plugins:
* <code>plugin_setting</code> 
* <code>dancer_app</code>
* <code>request</code>
* <code>var</code>
* <code>hook</code></p>

<p>To discuss any of these, you can find issue for each of the above <a href="https://github.com/PerlDancer/Dancer2/milestone/27">here</a>.</p>

<p>We realize some users may be frustrated by the minimum version bump to 5.12. This was not a decision we arrived at lightly. Maintaining backwards compatability to Perl 5.8 requires resources we lack; resources we do have are better spent on work that advances the web framework for everyone. If you're affected by this and would like to discuss, please reach out to the Dancer Core Team.</p>

<p>All changes in this release:</p>

<pre><code>0.400000  2022-03-13 22:16:13-04:00 America/New_York

[ BUG FIXES ]
* PR #1634: Fix CI push setting to run tests on branches with / in the
  name (Stefan Hornburg - Racke)
* PR #1641: Fix uninitialized warnings from parsing routes with mixed
  regex/splats (Russell @veryrusty Jenkins)

[ ENHANCEMENTS ]
* PR #1627: Set minimum Perl to 5.10.1 (Peter Mottram - SysPete)
* PR #1643: Set minimum Perl to 5.12.5 (Jason A. Crome)

[ DOCUMENTATION ]
* PR #1633: Fix YAML example in the tutorial (Tina M√ºller)
* PR #1644: Add deprecation policy to docs; link git guide (Jason A.
  Crome)
</code></pre>

<p>This release would not have been possible without help and support from the Dancer Core Team, specifically Sawyer, Yanick, veryrusty, SysPete, Racke, and bigpresh; it also doesn't happen without GeekRuthie cheering this on down the stretch. To all of of you that took the time to contribute to our deprecation policy, submit a patch, report a bug... thank you. I am truly grateful to each and every one of you for helping to make this release happen.</p>

<p>Happy Dancing!
Jason / CromeDome</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_9">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/bruce_gray/2022/03/twc-155-i-say-potato-you-say-pisano.html">TWC 155: I say Potato, you say Pisano</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Bruce Gray
 on Monday 14 March 2022 01:45</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>In which we reach the first plateau of clever, then (unfortunately) stop climbing.</p>

<p>(Still editing)</p>

        <h1>TWC Task #1 - <a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-155/#TASK1">Fortunate Numbers</a></h1>

<p>Produce first 8 <a href="https://en.wikipedia.org/wiki/Fortunate_number">Fortunate Numbers</a> (unique and sorted).</p>

<h2><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-155/bruce-gray/raku/ch-1.raku">Raku</a></h2>

<h2><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-155/bruce-gray/perl/ch-1.pl">Perl</a></h2>

<h2><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-155/bruce-gray/julia/ch-1.jl">Julia</a></h2>

<h1>TWC Task #2 - <a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-155/#TASK2">Pisano Period</a></h1>

<p>Find the period of the 3rd <a href="https://en.wikipedia.org/wiki/Pisano_period">Pisano Period</a>.</p>

<h2><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-155/bruce-gray/raku/ch-2.raku">Raku</a></h2>

<h2><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-155/bruce-gray/perl/ch-2.pl">Perl</a></h2>

<h2><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-155/bruce-gray/julia/ch-2.jl">Julia</a></h2>

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_10">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2022/03/13#pwc155">Fortunate Pisano</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 13 March 2022 19:10</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>Write a script to produce the first eight Fortunate Numbers (unique and sorted).</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;

use boolean;
use Math::Primality qw/is_prime/;

use constant N => 10_000; 

sub sieve_atkin{
    my($n) = @_;
    my @primes = (2, 3, 5);
    my $upper_bound = int($n * log($n) + $n * log(log($n)));
    my @atkin = (false) x $upper_bound;    
    my @sieve = (1, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 49, 53, 59);
    for my $x (1 .. sqrt($upper_bound)){
        for(my $y = 1; $y <= sqrt($upper_bound); $y+=2){
            my $m = (4 * $x ** 2) + ($y ** 2);
            my @remainders;  
            @remainders = grep {$m % 60 == $_} (1, 13, 17, 29, 37, 41, 49, 53) if $m <= $upper_bound; 
            $atkin[$m] = !$atkin[$m] if @remainders; 
        }          
    } 
    for(my $x = 1; $x <= sqrt($upper_bound); $x += 2){
        for(my $y = 2; $y <= sqrt($upper_bound); $y += 2){
            my $m = (3 * $x ** 2) + ($y ** 2);
            my @remainders;  
            @remainders = grep {$m % 60 == $_} (7, 19, 31, 43) if $m <= $upper_bound; 
            $atkin[$m] = !$atkin[$m] if @remainders; 
        }          
    }   
    for(my $x = 2; $x <= sqrt($upper_bound); $x++){
        for(my $y = $x - 1; $y >= 1; $y -= 2){
            my $m = (3 * $x ** 2) - ($y ** 2);
            my @remainders;  
            @remainders = grep {$m % 60 == $_} (11, 23, 47, 59) if $m <= $upper_bound;
            $atkin[$m] = !$atkin[$m] if @remainders; 
        }          
    } 
    my @m;
    for my $w (0 .. ($upper_bound / 60)){
        for my $s (@sieve){
            push @m, 60 * $w + $s;  
        }
    }
    for my $m (@m){
        last if $upper_bound < ($m ** 2);
        my $mm = $m ** 2;
        if($atkin[$m]){
            for my $m2 (@m){
                my $c = $mm * $m2;
                last if $c > $upper_bound;
                $atkin[$c] = false;
            }
        }
    }
    map{ push @primes, $_ if $atkin[$_] } 0 .. @atkin - 1;
    return @primes; 
}

sub first_n_fortunate{
    my($n) = @_;
    my @primes = sieve_atkin(N);
    my @fortunates;
    my $x = 1;
    do{
        my @first_n_primes = @primes[0 .. $x - 1];
        my $product_first_n_primes = 1;
        map {$product_first_n_primes *= $_} @first_n_primes;
        my $m = 1;
        do{
            $m++;
        }while(!is_prime($product_first_n_primes + $m));
        if(!grep {$m == $_} @fortunates){
             unshift @fortunates, $m;
        }
        $x++;
    }while(@fortunates != $n);
    return sort {$a <=> $b} @fortunates;
}

MAIN:{
    print join(", ", first_n_fortunate(8)) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
3, 5, 7, 13, 17, 19, 23, 37
</code></pre>

<h3>Notes</h3>

<p>Yet another re-use of my Sieve of Adkin code! Here the sieve is used to generate primes
for us to compute <em>primorials</em>, the product of the first <code>n</code> prime numbers. A Fortunate
Number is a sequence in which each <code>kth</code> term is the number <code>m</code> such that for the
primorial of the first <code>k</code> primes summed with the smallest <code>m</code>,<code>m &gt; 1</code> such that the sum 
is prime. It is an unproven conjecture in Number Theory that all terms of the Fortunate
Numbers sequence are prime.</p>

<p>Here the code follows pretty directly from the definition with the added restrictions
that we must eliminate duplicates and sort the results.</p>

<h2>Part 2</h2>

<p><em>Write a script to find the period of the third Pisano Period.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;

use constant N => 1_000_000_000; 

sub fibonacci_below_n{
    my($n, $fibonaccis) = @_;
    $fibonaccis = [1, 1] if !$fibonaccis;
    my $f = $fibonaccis->[@{$fibonaccis} - 2] + $fibonaccis->[@{$fibonaccis} - 1];
    if($f < $n){
        push @{$fibonaccis}, $f;
        fibonacci_below_n($n, $fibonaccis);
    }
    else{
        return $fibonaccis;
    }
}

sub multiplicative_order{
    my($a, $n) = @_;
    my $k = 1;
    my $result = 1;
    while($k < $n){
        $result = ($result * $a) % $n;
        return $k if $result == 1;
        $k++;
    }
    return -1 ;
}

sub fibonacci_period_mod_n{
    my($n) = @_;
    my $fibonaccis = fibonacci_below_n(N);
    my $k = 1;
    for my $f (@{$fibonaccis}){
        if($f % $n == 0){
            return $k * multiplicative_order($fibonaccis->[$k+1], $n);
        }
        $k++;
    }
    return -1;
}

MAIN:{
    print fibonacci_period_mod_n(3) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl
8
</code></pre>

<h3>Notes</h3>

<p>It is possible to compute the Pisano period in a fairly direct way. First you must 
determine the smallest Fibonacci Number evenly divisible by the modulus. Record the index
of this term in the sequence, call it <code>k</code>. Compute the multiplicative order <code>M</code> of the 
<code>k+1</code>st term with the given modulus. The Pisano period is then <code>k * M</code>.</p>

<p>The above code implements that procedure fairly directly. One possible change would be
to not pre-compute Fibonacci terms as done here, but for this small problem it hardly 
matters. Take care if trying this out on very large terms, however.</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-155/">Challenge 155</a></p>

<p><a href="https://mathworld.wolfram.com/FortunatePrime.html">Fortunate Prime</a></p>

<p><a href="https://mathworld.wolfram.com/MultiplicativeOrder.html">Multiplicative Order</a></p>

<p><a href="https://mathworld.wolfram.com/PisanoPeriod.html">Pisano Period</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_11">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2022/03/perl-weekly-challenge-155-fortunate-numbers-and-pisano-periods.html">Perl Weekly Challenge 155: Fortunate Numbers and Pisano Periods</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Saturday 12 March 2022 04:09</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 155 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-155/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few days from now (on March 13, 2022 at 24:00). This blog post offers some solutions to this challenge, please don‚Äôt read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: Fortunate Numbers</h2>

<p><em>Write a script to produce first 8 Fortunate Numbers (unique and sorted).</em></p>

<p><em>According to Wikipedia:</em></p>

<blockquote>
  <p><em>A Fortunate number, named after Reo Fortune, is the smallest integer m > 1 such that, for a given positive integer n, pn# + m is a prime number, where the primorial pn# is the product of the first n prime numbers.</em></p>
</blockquote>

<p><em>Expected Output:</em></p>

<pre><code>3, 5, 7, 13, 17, 19, 23, 37
</code></pre>

<h3>Fortunate Numbers in Raku</h3>

<p>We first create an infinite (lazy) list (<code>@primes</code>) of prime numbers. Then, we use it to create a list of primordials (<code>@primorials</code>). And then, we use it to find fortunate numbers. </p>

<pre><code>my @primes = grep { .is-prime }, 1..Inf;
my @primorials = (0, | (gather { take ([*] @primes[0..$_-1]) for 1..20}));
# say @primorials[0..8];  # (0 2 6 30 210 2310 30030 510510 9699690)

sub find-fortunate (Int $n) {
    my $pn = @primorials[$n-1];
    # say $pn;
    for 2..Inf -&gt; $m {
        return $m if is-prime $pn + $m;
    }
}
my $fortunates = (map { find-fortunate $_ }, 2..20).Set;
say ($fortunates.keys.sort)[0..7];
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ raku ./fortunate.raku
(3 5 7 13 17 19 23 37)
</code></pre>

<h3>Fortunate Numbers in Perl</h3>

<p>This a port to Perl of the Raku program above. We need to roll out our own <code>is_prime</code> and <code>prime_list</code> subroutines.</p>

<pre><code>use strict;
use warnings;
use feature "say";
use constant MAX =&gt; 1000; # MAX must be an even number

my @primes = prime_list(MAX);
my %fortunates = map { find_fortunate($_) =&gt; 1} 1..15;
my @result = sort { $a &lt;=&gt; $b } keys %fortunates;
say join " ", @result[0..7];

sub is_prime {
        my $num = shift;
        return 1 if $num == 2;
        return 0 unless $num % 2;
        my $test = 3;
        while ($test &lt; $num/2) {
                return 0 if $num % $test == 0;
                $test += 2;
        }
        return 1;
}

sub prime_list {
    my $max = shift;
    my @prime_list = (2, 3, 5);
    for my $c (7..$max) {
        push @prime_list, $c if is_prime($c);
    }
    return @prime_list;
}


sub find_fortunate {
    my $n = shift;
    my $pn = 1;
    $pn *= $_ for @primes[0..$n-1];
    # say $pn;
    for my $m (2..50) {
        return $m if is_prime($pn + $m);
    }
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ perl ./fortunate.pl
 3 5 7 13 17 19 23 37
</code></pre>

<h2>Task 2: Pisano Period</h2>

<p><em>Write a script to find the period of the 3rd Pisano Period.</em></p>

<blockquote>
  <p><em>In number theory, the nth Pisano period, written as <code>œÄ(n)</code>, is the period with which the sequence of Fibonacci numbers taken modulo n repeats.</em></p>
</blockquote>

<p><em>The Fibonacci numbers are the numbers in the integer sequence:</em></p>

<pre><code>0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, ...
</code></pre>

<p><em>For any integer n, the sequence of Fibonacci numbers <code>F(i)</code> taken modulo n is periodic. The Pisano period, denoted <code>œÄ(n)</code>, is the value of the period of this sequence. For example, the sequence of Fibonacci numbers modulo 3 begins:</em></p>

<pre><code>0, 1, 1, 2, 0, 2, 2, 1,
0, 1, 1, 2, 0, 2, 2, 1,
0, 1, 1, 2, 0, 2, 2, 1, ...
</code></pre>

<p><em>This sequence has period 8, so œÄ(3) = 8.</em></p>

<p>Well, the fact that we find the same sequence repeated three times as in the example above might not be an absolute mathematical proof that the sequence is really periodic. But it is a quite strong indication that it probably is. If we have a repeated sequence of (at least) two numbers, then the third (or next) number ought to be the same, and so on for the next terms. But that doesn&#8217;t necessarily mean we&#8217;ve found the longest repeated sequence.</p>

<p>Finding such sequences is relatively easy, but a bit painful with bunches of nested loops. We have a tool specialized in doing this kind of work: regexes.</p>

<h3>Pisano Period in Raku</h3>

<p>First, we use the infix <code>...</code> <a href="https://docs.raku.org/language/operators#index-entry-sequence_operator">sequence operator</a> to compute an infinite list of Fibonacci numbers modulo 3. All terms will be one-digit integers between 0 and 2. The we join part of this list (say the first 30 terms) into a string. Then we use a regex to find a repeated pattern. Finally, we output the length of this pattern:</p>

<pre><code>my @fibmod = 1, 1, (* + *) % 3 ... *;
my $seq = @fibmod[0..30].join('');
# say $seq; # 1120221011202210112022101120221
my $repeated = $0 if $seq ~~ /(.+) $0+/;
say $repeated.chars;
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ raku ./pisano.raku
8
</code></pre>

<h3>Pisano Period in Perl</h3>

<p>This is essentially a port to Perl of the Raku program above, with the slight change that we&#8217;re using a loop to populate the Fibonacci numbers modulo 3.</p>

<pre><code>use strict;
use warnings;
use feature "say";

my @fibmod = (1, 1);
$fibmod[$_] = ($fibmod[$_-1] + $fibmod[$_-2]) % 3 for 2..30;
my $seq = join '', @fibmod[0..30];
# say $seq; # 1120221011202210112022101120221 
my $repeated = $1 if $seq =~ /(.+)\1+/;
say length $repeated;
</code></pre>

<p>This program displays the following output:</p>

<pre><code>$ perl ./pisano.pl
8
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on March 20, 2022. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_12">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/dancer2-hello-world-with-vscode">Dancer2: Hello World with Visual Studio Code</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Sunday 13 March 2022 17:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
Part of the Dancer2 video course available both to <a href="/pro">Pro</a> subscribers and attendees of the <a href="https://leanpub.com/c/dancer">Perl Dancer course</a> on Leanpub.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_13">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/03/ccclxxxiii-8-great-cpan-modules.html">(ccclxxxiii) 8 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 12 March 2022 15:56</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br/><br/><ol><li><a href='https://metacpan.org/release/PLICEASE/Alien-Build-2.47' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Alien::Build</span></b></a> - Build external dependencies for use in CPAN <ul>  <li>Version: <strong>2.47</strong> on 2022-03-07</li>  <li>Votes: 21</li>  <li>Previous version: 2.47 was  before</li></ul></li><li><a href='https://metacpan.org/release/NICS/Catmandu-1.2018' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Catmandu</span></b></a> - a data toolkit <ul>  <li>Version: <strong>1.2018</strong> on 2022-03-09</li>  <li>Votes: 21</li>  <li>Previous version: 1.2016 was 5 months, 22 days before</li></ul></li><li><a href='https://metacpan.org/release/SYOHEX/Data-MessagePack-1.02' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Data::MessagePack</span></b></a> - MessagePack serializing/deserializing <ul>  <li>Version: <strong>1.02</strong> on 2022-03-11</li>  <li>Votes: 14</li>  <li>Previous version: 1.01 was 1 year, 11 months, 25 days before</li></ul></li><li><a href='https://metacpan.org/release/YANICK/Git-CPAN-Patch-2.5.0' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Git::CPAN::Patch</span></b></a> - Patch CPAN modules using Git <ul>  <li>Version: <strong>2.5.0</strong> on 2022-03-06</li>  <li>Votes: 12</li>  <li>Previous version: 2.4.0 was 5 months, 17 days before</li></ul></li><li><a href='https://metacpan.org/release/SALVA/Net-OpenSSH-0.82' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Net::OpenSSH</span></b></a> - Perl SSH client package implemented on top of OpenSSH <ul>  <li>Version: <strong>0.82</strong> on 2022-03-05</li>  <li>Votes: 37</li>  <li>Previous version: 0.82 was  before</li></ul></li><li><a href='https://metacpan.org/release/DCANTRELL/Number-Phone-3.8004' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Number::Phone</span></b></a> - base class for Number::Phone::* modules <ul>  <li>Version: <strong>3.8004</strong> on 2022-03-07</li>  <li>Votes: 15</li>  <li>Previous version: 3.8003 was 2 days before</li></ul></li><li><a href='https://metacpan.org/release/PEVANS/Object-Pad-0.63' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Object::Pad</span></b></a> - a simple syntax for lexical field-based objects <ul>  <li>Version: <strong>0.63</strong> on 2022-03-07</li>  <li>Votes: 25</li>  <li>Previous version: 0.62 was 6 days before</li></ul></li><li><a href='https://metacpan.org/release/TINITA/YAML-PP-0.032' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>YAML::PP</span></b></a> - YAML 1.2 Processor <ul>  <li>Version: <strong>0.032</strong> on 2022-03-08</li>  <li>Votes: 12</li>  <li>Previous version: 0.031 was 2 months, 14 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_14">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/03/dxxv-stackoverflow-perl-report.html">(dxxv) stackoverflow perl report</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 12 March 2022 15:54</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>These are the five most rated questions at <a href="http://www.stackoverflow.com">Stack Overflow</a> last week.<br />Between brackets: [<b>question score</b> / answers count]<br />Build date: 2022-03-12 14:53:45 GMT</p><hr /><ol><li><a href="http://stackoverflow.com/questions/71409496" target="_blank">Why is a bareword following the concatenation operator a string in Perl?</a> - [<b>4</b>/1]</li><li><a href="http://stackoverflow.com/questions/71385438" target="_blank">__FILE__ in perl returns paths without disk letter in visual studio code powershell</a> - [<b>2</b>/2]</li><li><a href="http://stackoverflow.com/questions/71364783" target="_blank">Perl Tk Formatting Text in a button</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/71402095" target="_blank">Perl XS: create and return array of strings (char*) taken from calling a C function or undef on failure</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/71424119" target="_blank">While executing the following snippet. I could see an error Global symbol "$colors" requires explicit package name. Key and value has to be printed</a> - [<b>2</b>/1]</li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_15">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/jonasbn/release-130-of-dateholidays-more-holiday-for-the-french-36o7">Release 1.30 of Date::Holidays - more holiday for the French</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by jonasbn
 on Tuesday 08 March 2022 20:06</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>I received a PR (<a href="https://github.com/jonasbn/perl-date-holidays/pull/53">#53</a>) some time ago, but due to being busy with other open source activities I did not get around to to it right away.</p>

<p>The PR was a bug fix to the Perl distribution <a href="https://metacpan.org/pod/Date::Holidays">Date::Holidays</a>, which is an adapter class for a namespace/set of distribution on CPAN.</p>

<p>This was a minor fix to US holiday calendar adapter and it was <strong>most</strong> welcome - thanks <a href="https://github.com/qorron">@qorron</a>.</p>

<p>Release 1.30, the first release in over a year, is now available on CPAN.</p>

<p>After a few days I checked the CPAN-testers reports and they did not look as good as I expected.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--3i3yCqxt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sv70rrzplu22b6omslry.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--3i3yCqxt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sv70rrzplu22b6omslry.png" alt="Date::Holidays Test Results for release 1.30" width="747" height="752"></a></p>

<p>I checked the reports which was coming in and they reported issue with <a href="https://metacpan.org/pod/Date::Holidays::FR">Date::Holidays::FR</a>, which is one of the distributions adapted by Date::Holidays.</p>

<p>The test-suite for Date::Holidays has some tests which assert the adaptability of the different distributions and if they break the contract or, as in this case, fulfill the contract the test breaks.</p>

<p>I looked at the latest release of Date::Holidays::FR and it's <a href="https://metacpan.org/dist/Date-Holidays-FR/changes">changes</a> and guess who was responsible for the breaking tests - me!</p>

<blockquote>
<p>0.04 2021-01-27</p>

<ul>
<li>follow the guidelines for Date::Holidays::XX modules (thanks to JONASBN)</li>
<li>clean up the code (thanks again JONASBN)</li>
</ul>
</blockquote>

<p>I had completely forgotten that I had contributed to the Date::Holidays::FR distribution and because I had not run any tests, I had not discovered the change.</p>

<p>On a timeline:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>2020-11-13          2021-01-27              2022-03-01
D::H release 1.29   D::H::FR release 0.04   D::H release 1.29
</code></pre>

</div>



<p>I have followed  up with:</p>

<ul>
<li>Date::Holidays release 1.31 today</li>
<li>Task::Date::Holidays release 0.11 yesterday</li>
</ul>

<p>Both repositories have been configured with scheduled test runs, so a test run is made every 30 days, so we will not observe these long periods, where obvious bugs can <em>roam</em>.</p>

<p><a href="https://metacpan.org/pod/Task::Date::Holidays">Task::Date::Holidays</a> is a helper distribution, which downloads everything Date::Holidays, which makes it faster and easier to develop.</p>

<p>From <code>.github/workflows/ci.yaml</code><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">Dist::Zilla Action</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
  <span class="na">schedule</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">cron</span><span class="pi">:</span> <span class="s1">'</span><span class="s">0</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*/30</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*'</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">dzil</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dzil</span><span class="nv"> </span><span class="s">run"</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Checkout</span><span class="nv"> </span><span class="s">repository"</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Installing</span><span class="nv"> </span><span class="s">dependencies</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">testing</span><span class="nv"> </span><span class="s">all</span><span class="nv"> </span><span class="s">using</span><span class="nv"> </span><span class="s">dzil"</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">jonasbn/github-action-perl-dist-zilla@0.2.0</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">dzil-arguments</span><span class="pi">:</span> <span class="s1">'</span><span class="s">test</span><span class="nv"> </span><span class="s">--all'</span>
</code></pre>

</div>



<p>I think the capability of running scheduled actions, can be but to valuable use and I have some other repositories that can benefit from something similar, so I will dig some more into this.</p>

<p>Now we have more holiday for the French, I hope the scheduled jobs will not interfere with my holiday plans.</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_16">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/554.html">#554 - Exceptions in Perl?</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 07 March 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there</p>
<p>I borrowed the title from Curtis' recently shared <a href="https://gist.github.com/Ovid/5205534f7dcc52e4d931aaff301b39aa">gist</a>. I am sure every one of us have dealt with exceptions in Perl. Being a <a href="https://metacpan.org">CPAN</a> fan, I found plenty of choices readily available. I am a big fan of <a href="https://metacpan.org/dist/Try-Tiny">Try::Tiny</a> and it has always been my first choice to deal with exceptions in Perl. I suggest you must check out the gist for more insights and suggestions shared by Curtis.</p>
<p>I would also like to share another gem by Curtis, <a href="https://github.com/Ovid/Cor/wiki/Porting-from-Moose-or-Moo">Porting from Moose or Moo</a>. It is a big help for anyone to move to Corinna from Moose or Moo. Most of my personal work shared on <a href="https://metacpan.org/author/MANWAR">MetaCPAN</a> used Moo. The document by Curtis would be handy when porting to Corinna once it is part of core Perl. I am eagerly waiting for it to happen.</p>
<p>Finally, this is my <strong>99th edition</strong> of the weekly newsletter. In two weeks time, I would be presenting the <strong>100th edition</strong>. I joined the team of editors in <strong>May 2018</strong>, thanks to the chief editor, <strong>Gabor Szabo</strong>, for all the support and guidance.</p>
<p>Enjoy the rest of the newsletter and pray for the world peace.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_17">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2022/03/06#pwc154">Padovan Prime Directive: Find the Missing Permutations</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 06 March 2022 18:43</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>You are given possible permutations of the string "PERL". Write a script to find any 
permutations missing from the list.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;

use Algorithm::Loops q/NestedLoops/;

sub factorial{
    my($n) = @_;
    return 1 if $n == 1;
    $n * factorial($n - 1);
}

sub missing_permutations{
    my($permutations, $s) = @_;
    my @missing;
    ##
    # remove any duplicates
    ##
    my %permutations;
    map {$permutations{$_}=undef} @{$permutations};    
    $permutations = [keys %permutations];
    ##
    # get the letters missing in each slot
    ##
    my @missing_letters;
    for my $i (0 .. length($s) - 1){
        my %slot_counts;
        my @ith_letters = map {my @a = split(//, $_); $a[$i]} @{$permutations};
        map{$slot_counts{$_}++} @ith_letters;
        $missing_letters[$i] = [grep {$slot_counts{$_} != factorial(length($s) - 1)} keys %slot_counts];
    }
    ##
    # determine which missing letters form missing permutations
    ##
    my $nested = NestedLoops(\@missing_letters);
    while (my @set = $nested->()){
        my $candidate = join("", @set);
        my @matched = grep {$candidate eq $_} @{$permutations};
        push @missing, $candidate if !@matched;
    }
    return @missing;
}


MAIN:{
    my @missing = missing_permutations(
        ["PELR", "PREL", "PERL", "PRLE", "PLER", "PLRE", "EPRL", "EPLR", "ERPL",
         "ERLP", "ELPR", "ELRP", "RPEL", "RPLE", "REPL", "RELP", "RLPE", "RLEP",
         "LPER", "LPRE", "LEPR", "LRPE", "LREP"], "PERL"
    );
    print join(", ", @missing) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
LERP
</code></pre>

<h3>Notes</h3>

<p>Here I tried to write as general a solution as possible. This code should handle any 
number of missing permutations, provided that there are no duplicate letters within the
starting word.</p>

<p>The approach is to first consider each position in the starting word as a "slot" and then
check which letters are missing from each slot. In the code above we assume that each 
letter from the starting word appears in each slot at least once. </p>

<p>Once we know the missing letters we form new permutations with them and see which ones are
missing from the initial list. To cut down on the tedious bookkeeping involved I used the
<a href="https://metacpan.org/pod/Algorithm::Loops">Algorithm::Loops</a> module to generate the
candidate permutations from the known missing letters.</p>

<p>An even more general solution would not only catch any number of missing permutations but 
also allow for duplicate letters in the starting word and an input containing permutations 
which so not have at least one occurrence of each letter per slot.</p>

<h2>Part 2</h2>

<p><em>Write a script to compute the first 10 distinct Padovan Primes.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;

use Math::Primality qw/is_prime/;

sub first_n_padovan_primes{
    my($n) = @_;
    my @padovan_primes;
    my @padovans = (1, 1, 1);
    {
        push @padovans, $padovans[@padovans - 2] + $padovans[@padovans - 3];
        push @padovan_primes, $padovans[@padovans - 1] if is_prime($padovans[@padovans - 1]);
        redo if @padovan_primes <= $n;
    }
    return @padovan_primes[1..@padovan_primes - 1];
}

MAIN:{
    print join(", ", first_n_padovan_primes(10)) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl
2, 3, 5, 7, 37, 151, 3329, 23833, 13091204281, 3093215881333057
</code></pre>

<h3>Notes</h3>

<p>Before really looking at the sample solutions for this problem I decided that my approach 
would be generat e giant list of primes and then check against that list to determine if 
a new sequence element was prime or not. Nice idea, but it doesn't scale that well for 
this problem! Yes, it worked for a smaller number of Padovan Primes but to catch the first 
ten would require generating an enormous list of prime numbers. Better in this case to use
something like <a href="https://metacpan.org/pod/Math::Primality">Math::Primality</a> to check each
candidate.</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-154/">Challenge 154</a></p>

<p><a href="https://mathworld.wolfram.com/PadovanSequence.html">Padovan Sequence</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_18">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/03/ccclxxxii-11-great-cpan-modules.html">(ccclxxxii) 11 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 05 March 2022 20:39</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br/><br/><ol><li><a href='https://metacpan.org/release/SKAJI/App-cpm-0.997009' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>App::cpm</span></b></a> - a fast CPAN module installer <ul>  <li>Version: <strong>0.997009</strong> on 2022-03-01</li>  <li>Votes: 57</li>  <li>Previous version: 0.997007 was 5 months, 8 days before</li></ul></li><li><a href='https://metacpan.org/release/OLIVER/App-Netdisco-2.052002' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>App::Netdisco</span></b></a> - An open source web-based network management tool. <ul>  <li>Version: <strong>2.052002</strong> on 2022-02-28</li>  <li>Votes: 13</li>  <li>Previous version: 2.052001 was 27 days before</li></ul></li><li><a href='https://metacpan.org/release/DROLSKY/DateTime-1.57' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>DateTime</span></b></a> - A date and time object for Perl <ul>  <li>Version: <strong>1.57</strong> on 2022-03-03</li>  <li>Votes: 204</li>  <li>Previous version: 1.55 was 2 months, 11 days before</li></ul></li><li><a href='https://metacpan.org/release/OALDERS/HTTP-Daemon-6.14' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>HTTP::Daemon</span></b></a> - A simple http server class <ul>  <li>Version: <strong>6.14</strong> on 2022-03-03</li>  <li>Votes: 12</li>  <li>Previous version: 6.13 was 22 days before</li></ul></li><li><a href='https://metacpan.org/release/ETJ/Inline-C-0.82' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Inline::C</span></b></a> - C Language Support for Inline <ul>  <li>Version: <strong>0.82</strong> on 2022-03-02</li>  <li>Votes: 33</li>  <li>Previous version: 0.81 was 2 years, 9 months, 22 days before</li></ul></li><li><a href='https://metacpan.org/release/DCANTRELL/Number-Phone-3.8003' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Number::Phone</span></b></a> - base class for Number::Phone::* modules <ul>  <li>Version: <strong>3.8003</strong> on 2022-03-05</li>  <li>Votes: 15</li>  <li>Previous version: 3.8002 was 2 months, 30 days before</li></ul></li><li><a href='https://metacpan.org/release/PEVANS/Object-Pad-0.62' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Object::Pad</span></b></a> - a simple syntax for lexical field-based objects <ul>  <li>Version: <strong>0.62</strong> on 2022-03-01</li>  <li>Votes: 25</li>  <li>Previous version: 0.61 was 13 days before</li></ul></li><li><a href='https://metacpan.org/release/KIMOTO/SPVM-0.9508' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>SPVM</span></b></a> - Static Perl Virtual Machine. Fast Calculation, Fast Array Operation, and Easy C/C++ Binding. <ul>  <li>Version: <strong>0.9508</strong> on 2022-03-04</li>  <li>Votes: 23</li>  <li>Previous version: 0.9507 was 8 days before</li></ul></li><li><a href='https://metacpan.org/release/DANBERR/Sys-Virt-v8.1.0' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Sys::Virt</span></b></a> - libvirt Perl API <ul>  <li>Version: <strong>v8.1.0</strong> on 2022-03-01</li>  <li>Votes: 15</li>  <li>Previous version: v8.0.0 was 1 month, 18 days before</li></ul></li><li><a href='https://metacpan.org/release/EXODIST/Test-Simple-1.302190' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Test::Simple</span></b></a> - Basic utilities for writing tests. <ul>  <li>Version: <strong>1.302190</strong> on 2022-03-04</li>  <li>Votes: 173</li>  <li>Previous version: 1.302189 was 7 days before</li></ul></li><li><a href='https://metacpan.org/release/EXODIST/Test2-Suite-0.000145' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Test2::Suite</span></b></a> - Distribution with a rich set of tools built upon the Test2 framework. <ul>  <li>Version: <strong>0.000145</strong> on 2022-03-04</li>  <li>Votes: 32</li>  <li>Previous version: 0.000144 was 3 months, 1 day before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_19">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/03/cdxcix-metacpan-weekly-report-cgitiny.html">(cdxcix) metacpan weekly report - CGI::Tiny</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 05 March 2022 20:36</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This is the weekly favourites list of CPAN distributions. Votes count: 58</p><p>Week's winners (+3): <b><a href="https://metacpan.org/module/CGI::Tiny">CGI::Tiny</a>&nbsp;</b></p><p>Build date: 2022/03/05 19:35:32 GMT</p><br /><p>Clicked for <u>first time</u>:</p><ul><li><a href="https://metacpan.org/module/Acme::Affinity" target="_blank">Acme::Affinity</a> - Compute the affinity between two people</li><li><a href="https://metacpan.org/module/CPAN::Perl::Releases" target="_blank">CPAN::Perl::Releases</a> - Mapping Perl releases on CPAN to the location of the tarballs</li><li><a href="https://metacpan.org/module/Database::DumpTruck" target="_blank">Database::DumpTruck</a> - Relaxing interface to SQLite</li><li><a href="https://metacpan.org/module/DTA::CAB" target="_blank">DTA::CAB</a> - "Cascaded Analysis Broker" for robust linguistic analysis</li><li><a href="https://metacpan.org/module/Mac::FSEvents" target="_blank">Mac::FSEvents</a> - Monitor a directory structure for changes</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::Future" target="_blank">Mojolicious::Plugin::Future</a> - use Future in Mojolicious applications</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::Route" target="_blank">Mojolicious::Plugin::Route</a> - Plugin to loader files of routes</li><li><a href="https://metacpan.org/module/ODS" target="_blank">ODS</a> - Object Data Store</li><li><a href="https://metacpan.org/module/Sodium::FFI" target="_blank">Sodium::FFI</a> - FFI implementation of libsodium</li><li><a href="https://metacpan.org/module/WARC" target="_blank">WARC</a> - </li></ul><br /><p><u>Increasing</u> its reputation:</p><ul><li><a href="https://metacpan.org/module/Acme::Working::Out::Dependencies::From::META::files::Will::Be::Wrong::At::Some::Point::Like::This::Module::For::Instance" target="_blank">Acme::Working::Out::Dependencies::From::META::files::Will::Be::Wrong::At::Some::Point::Like::This::Module::For::Instance</a> (+1=2)</li><li><a href="https://metacpan.org/module/Alien::Build" target="_blank">Alien::Build</a> (+1=21)</li><li><a href="https://metacpan.org/module/App::perlimports" target="_blank">App::perlimports</a> (+1=7)</li><li><a href="https://metacpan.org/module/Archive::Tar" target="_blank">Archive::Tar</a> (+1=15)</li><li><a href="https://metacpan.org/module/Carton" target="_blank">Carton</a> (+1=108)</li><li><a href="https://metacpan.org/module/CGI::Tiny" target="_blank">CGI::Tiny</a> (+3=7)</li><li><a href="https://metacpan.org/module/Coro" target="_blank">Coro</a> (+1=73)</li><li><a href="https://metacpan.org/module/CryptX" target="_blank">CryptX</a> (+1=45)</li><li><a href="https://metacpan.org/module/Dancer" target="_blank">Dancer</a> (+1=145)</li><li><a href="https://metacpan.org/module/Data::Dump" target="_blank">Data::Dump</a> (+1=36)</li><li><a href="https://metacpan.org/module/DBIx::Class" target="_blank">DBIx::Class</a> (+1=279)</li><li><a href="https://metacpan.org/module/Device::SerialPort" target="_blank">Device::SerialPort</a> (+1=3)</li><li><a href="https://metacpan.org/module/EV" target="_blank">EV</a> (+1=43)</li><li><a href="https://metacpan.org/module/Feature::Compat::Try" target="_blank">Feature::Compat::Try</a> (+1=7)</li><li><a href="https://metacpan.org/module/File::Copy::Recursive" target="_blank">File::Copy::Recursive</a> (+1=17)</li><li><a href="https://metacpan.org/module/File::Find::Rule" target="_blank">File::Find::Rule</a> (+1=36)</li><li><a href="https://metacpan.org/module/Future" target="_blank">Future</a> (+1=55)</li><li><a href="https://metacpan.org/module/Future::AsyncAwait" target="_blank">Future::AsyncAwait</a> (+1=42)</li><li><a href="https://metacpan.org/module/Getopt::Long::Complete" target="_blank">Getopt::Long::Complete</a> (+1=13)</li><li><a href="https://metacpan.org/module/Imager::QRCode" target="_blank">Imager::QRCode</a> (+1=2)</li><li><a href="https://metacpan.org/module/Importer" target="_blank">Importer</a> (+1=14)</li><li><a href="https://metacpan.org/module/Inline" target="_blank">Inline</a> (+1=35)</li><li><a href="https://metacpan.org/module/Inline::CPP" target="_blank">Inline::CPP</a> (+1=6)</li><li><a href="https://metacpan.org/module/Inline::Python" target="_blank">Inline::Python</a> (+1=12)</li><li><a href="https://metacpan.org/module/IO::Async" target="_blank">IO::Async</a> (+1=66)</li><li><a href="https://metacpan.org/module/mod_perl" target="_blank">mod_perl</a> (+1=22)</li><li><a href="https://metacpan.org/module/Net::Google::Drive" target="_blank">Net::Google::Drive</a> (+1=4)</li><li><a href="https://metacpan.org/module/Net::SSL::ExpireDate" target="_blank">Net::SSL::ExpireDate</a> (+1=8)</li><li><a href="https://metacpan.org/module/Object::Pad" target="_blank">Object::Pad</a> (+2=25)</li><li><a href="https://metacpan.org/module/Parallel::Pipes" target="_blank">Parallel::Pipes</a> (+1=3)</li><li><a href="https://metacpan.org/module/Paws" target="_blank">Paws</a> (+1=50)</li><li><a href="https://metacpan.org/module/PDL::HMM" target="_blank">PDL::HMM</a> (+1=4)</li><li><a href="https://metacpan.org/module/PLS" target="_blank">PLS</a> (+1=10)</li><li><a href="https://metacpan.org/module/Raisin" target="_blank">Raisin</a> (+1=42)</li><li><a href="https://metacpan.org/module/Sereal::Decoder" target="_blank">Sereal::Decoder</a> (+1=21)</li><li><a href="https://metacpan.org/module/Sereal::Encoder" target="_blank">Sereal::Encoder</a> (+1=20)</li><li><a href="https://metacpan.org/module/SMS::Send::Twilio" target="_blank">SMS::Send::Twilio</a> (+1=4)</li><li><a href="https://metacpan.org/module/SPVM" target="_blank">SPVM</a> (+1=23)</li><li><a href="https://metacpan.org/module/Test2::Suite" target="_blank">Test2::Suite</a> (+1=32)</li><li><a href="https://metacpan.org/module/Test::Compile" target="_blank">Test::Compile</a> (+1=8)</li><li><a href="https://metacpan.org/module/Text::ANSITable" target="_blank">Text::ANSITable</a> (+1=17)</li><li><a href="https://metacpan.org/module/Text::Markdown::Discount" target="_blank">Text::Markdown::Discount</a> (+1=9)</li><li><a href="https://metacpan.org/module/Text::Table::More" target="_blank">Text::Table::More</a> (+1=5)</li><li><a href="https://metacpan.org/module/UUID4::Tiny" target="_blank">UUID4::Tiny</a> (+1=2)</li><li><a href="https://metacpan.org/module/XS::Parse::Keyword" target="_blank">XS::Parse::Keyword</a> (+1=5)</li></ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_20">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2022/03/dxxiv-stackoverflow-perl-report.html">(dxxiv) stackoverflow perl report</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 05 March 2022 20:34</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>These are the five most rated questions at <a href="http://www.stackoverflow.com">Stack Overflow</a> last week.<br/>Between brackets: [<b>question score</b> / answers count]<br/>Build date: 2022-03-05 19:34:00 GMT</p><hr/><ol><li><a href="http://stackoverflow.com/questions/71333798" target="_blank">Perl (... (*ACCEPT) ...)+ never matches</a> - [<b>4</b>/1]</li><li><a href="http://stackoverflow.com/questions/71296586" target="_blank">Import symbols from package defined in the same file</a> - [<b>3</b>/1]</li><li><a href="http://stackoverflow.com/questions/71321797" target="_blank">Is there any function in Perl that shifts the array element without removing them?</a> - [<b>2</b>/4]</li><li><a href="http://stackoverflow.com/questions/71285471" target="_blank">Refer to a subroutine with a scalar</a> - [<b>2</b>/2]</li><li><a href="http://stackoverflow.com/questions/71296476" target="_blank">How can I print only a specific format name in a Perl POD?</a> - [<b>2</b>/2]</li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_21">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/553.html">#553 - Looking for a copy-editor for the Perl Weekly</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 28 February 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi,</p>
<p>Two weeks ago some people asked me not to include politics in the Perl weekly so I won't add my opinion on the murderous Russian dictator, but I would like to wish the best to all the people and their families I met while I was at the Perl conference in Kyiv, Ukraine 10 years ago.</p>
<p>Since Dave Cross got fed up with our broken English and started to copy-edit the Perl Weekly we became a bit spoiled by having him. Unfortunately (to us) he got himself busy with some real work and won't be able to allocate the time for copy-editing the Perl Weekly. So now we are looking for a volunteer to do it. Basically every Monday, sometimes during the European morning hours (we don't have a fixed timing), we push out a version to our <a href="https://github.com/szabgab/perlweekly">GitHub repo</a> and to the <a href="https://perlweekly.com/">web-site</a>. Then I'd send an email to the copy-editor who checks the most recent version and sends a Pull-Request on GitHub with the fixes. Once I get the PR, I merge it, regenerate the HTML and send out the newsletter. If you would be interested to volunteer, please get in touch with me so I know whom to notify.</p>
<p>Enjoy your week!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_22">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2022/02/27#pwc153">Finding the Factorials and Factorions That Are Left</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 27 February 2022 19:55</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>Write a script to determine the first ten members of the Left Factorials sequence.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;

use POSIX;
use constant UPPER_BOUND => INT_MAX/1000;

sub left_factorials_sieve{
    my($n) = @_;
    my @sieve = (0 .. UPPER_BOUND);
    my $x = 2;
    {
        my @sieve_indices = grep { $_ <= $x || $_ % $x == 0 } 0 .. @sieve - 1; 
        @sieve = map{ $sieve[$_] } @sieve_indices;
        $x++;
        redo if $x <= $n;
    }
    return @sieve[1 .. @sieve - 1];
}

MAIN:{
    print join(", ", left_factorials_sieve(10)) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
1, 2, 4, 10, 34, 154, 874, 5914, 46234, 409114 
</code></pre>

<h3>Notes</h3>

<p>The problem statement for this refers to a On-Line Encyclopedia of Integer Sequences 
entry. That OEIS entry mentions some interesting facts about the sequence, including the
sieve technique used here. Officially the sequence seems to start with <code>0</code> but since the
example shows it starting with <code>1</code> here the initial <code>0</code> element is removed.</p>

<p>There is nothing special about the choice of <code>UPPER_BOUND</code> it is just an arbitrarily large
number which fits the purpose. I chose the number via trial and error, but it seems there 
is a straightforward provable upper bound <code>U</code> required to get a sequence of required 
sequence length <code>N</code>. If this were a math text then I as the author would be compelled to
leave a frustrating note that finding the upper bound is <em>left as an exercise for the 
reader</em>. Ha!</p>

<h2>Part 2</h2>

<p><em>Write a script to figure out if the given integer is a factorion.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;

use boolean;

sub factorial{
    my($n) = @_;
    return 1 if $n == 1;
    $n * factorial($n - 1);
}

sub is_factorion{
    my($n) = @_;
    return boolean($n == unpack("%32I*", pack("I*", map {factorial($_)} split(//, $n))));
}

MAIN:{
    print is_factorion(145) . "\n";
    print is_factorion(123) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl
1
0
</code></pre>

<h3>Notes</h3>

<p>In this solution I tried to optimize for the least amount of code. Not quite a <em>golfed</em> 
solution, but compact, to be sure. The digits are obtained via <code>split</code>, passed to our
totally boring recursive <code>factorial()</code> function, the sum of the resulting factorials taken
using <code>pack</code>, and then that sum compared to <code>$n</code>. For convenience in stringifying the 
output <code>boolean()</code> is used.</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-153/">Challenge 153</a></p>

<p><a href="http://oeis.org/A003422">Left Factorial Sequence</a></p>

<p><a href="https://mathworld.wolfram.com/LeftFactorial.html">Left Factorial</a></p>

<p><a href="https://mathworld.wolfram.com/Factorion.html">Factorion</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_23">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/http-500-error">Common causes and fixes for HTTP 500 Error in Perl CGI scripts</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Friday 25 February 2022 09:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
One of the nasty things that can happen in a Perl CGI environment is to get a 500 HTTP error. It is nasty as it is hard to know what is the problem and how to solve it.
<p>
The first step is to look at the error log of your web server, if you can. If you can't well, best would be to change hosting to one that will give you access to the error
log.
<p>
On this page you'll find some of the most common cases and their solutions.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_24">
            <div class="card-header">
              <h2 class="card-title"><a href="http://domm.plix.at/perl/2022_02_and_or_and.html">and or AND and ElasticSearch, or: Case matters</a></h2>
<a href="https://domm.plix.at/perl.html" class="badge badge-primary" style="float: left">domm (Perl and other tech)</a>

              <p class="text-right"><small>Published
 on Tuesday 22 February 2022 18:58</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Today I spend a few hours hunting a weird bug. I got a report that people entering data for the <a href="https://katalog.landesbibliothek.steiermark.at/">Steierm√§rkische Landesbibliothek</a> where not able to find duplicate entries when adding new books. In theory, <a href="https://koha-community.org/">Koha</a> should search through all the already existing data and present the user with a dialog if they maybe want to reuse the existing entry, if one is found:</p>

<p><a href="../perl/2022_02_and_or_and_images/and_or_and_001.jpg"><img src="../perl/2022_02_and_or_and_images/and_or_and_001.jpg" alt="" /></a></p>

<p>This works when an <span class="caps">ISBN </span>was entered, but not when "only" title, author and some other data was available. To make things a bit more complicated, we're using the not-default ElasticSearch backend, as opposed to the old-school Zebra<sup class="footnote"><a href="#fn0">0</a></sup> index for searching.</p>

<p>So I dug through the source code, adds some strategic <code>Data::Dumper</code> statements to get the actual query sent to ElasticSearch, and then played a bit with that query, sending it directly to ElasticSearch via <code>curl</code>. The best way to do this (IMO) is to store the query into a file, and use <code>-d filename</code>:</p>

<pre><code>curl http://localhost:9200/biblios/_search?pretty -X GET -H 'Content-Type: application/json' -d query.json</code></pre>

<p>Here's the <code>query.json</code> (that was not returning any results)</p>

<pre><code>{
  &quot;query&quot;: {
    &quot;query_string&quot;: {
      &quot;query&quot;: &quot;(author:'Schwartz, Randal J' and title:'Einf√ºhrung in Perl')&quot;,
      &quot;default_operator&quot;:&quot;AND&quot;,
      &quot;type&quot;: &quot;cross_fields&quot;,
      &quot;analyze_wildcard&quot;: true, &quot;fuzziness&quot;: &quot;auto&quot;, &quot;lenient&quot;: true
    }
  }
}</code></pre>

<p>Note that this search is using the simple <code>query_string</code> search, where you pass a semi-complex query as a string instead of composing a very deeply nested data structure<sup class="footnote"><a href="#fn1">1</a></sup>:</p>

<pre><code>(author:'Schwartz, Randal J' and title:'Einf√ºhrung in Perl')</code></pre>

<p>After some fiddling and testing I found that removing <code>&quot;default_operator&quot;:&quot;AND&quot;</code> yields results (but not very good results..)</p>

<p>So I took my problem to the Koha <span class="caps">IRC </span>channel, where kidclamp provided the needed clue after some back and forth:</p>

<h4>Case matters</h4>

<p>When using the <code>simple_query</code>, ElasticSearch interprets the string <code>&quot;AND&quot;</code> as a boolean operator linking the literal values in the query. But it interprets the string <code>&quot;and&quot;</code> as a literal value!</p>

<p>So:</p>

<ul>
<li><code>&quot;foo AND bar&quot;</code> finds documents that contain <code>foo</code> and <code>bar</code>.</li>
<li><code>&quot;foo and bar&quot;</code> finds documents that contain <code>foo</code>, <code>bar</code> and <code>and</code>!</li>
<li>In the latter case, ElasticSearch checks <code>default_operator</code>, which in our case was set to <code>AND</code>, thus only finding documents that contained the string <code>&quot;and&quot;</code> in addition to what we're actually searching for</li>
<li>Removing <code>default_operator</code> let ElasticSearch fall back to the default, <code>OR</code>, so we now found stuff, but very crappy stuff (anything with <code>&quot;and&quot;</code> in <strong>any</strong> field, not only in title or author)</li>
</ul>

<p>None of these results were really usable!</p>

<p>So the real fix was to patch Koha to use an uppercase <code>AND</code> to construct this query. See <a href="https://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=30153">Koha Bug #30153</a> for the gory details<sup class="footnote"><a href="#fn2">2</a></sup>. Thanks to kidclamp for helping my locate the problem and to the Koha devs for quickly applying and testing my patch!</p>

<h4>Footnotes</h4>

<p class="footnote" id="fn0"><sup>0</sup> Don't ask!</p>

<p class="footnote" id="fn1"><sup>1</sup> I used to joke that ElasticSearch devs get paid by the tab indentation needed to express a search query</p>

<p class="footnote" id="fn2"><sup>2</sup> Or not so gory:</p>

<pre><code>-        my $op = 'and';
+        my $op = 'AND';</code></pre>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_25">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/552.html">#552 - Outreachy and TPF</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 21 February 2022 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there</p>
<p>Welcome to my personal 98th and overall 552nd edition of the Perl Weekly newsletter. I can't wait for the day when I reach the 3-digits number.</p>
<p>Today, I would like to talk about the Outreachy program and its association with TPF. Few days ago, I came across a Facebook post by a friend of mine sharing the news TPF (The Perl Foundation) is looking mentor and project for the year 2022. Please check out the official <a href="https://news.perlfoundation.org/post/outreachy-2022">announcement</a>. I have been following the work done as part of the Outreachy program. In the past, it has supported <a href="https://world.openfoodfacts.org/">Open Food Facts</a>, a very popular Perl based project. To be honest, I find the application process to submit project idea is not smooth. It would be a big help if <a href="https://theweeklychallenge.org">The Weekly Challenge (Perl & Raku)</a> get the support too. As some of you associated with the project knows it is currently built using Hugo and hosted on <a href="https://github.com/manwar/theweeklychallenge">Github</a>. I have been planning to get it over to pure Perl template web based solution e.g. Dancer2 and hosted by real hosting service e.g Digital Ocean. As we grow bigger with times, I find it hard to manage the contributions on GitHub. It takes longer now to process comparatively. If it ever get approved, I can offer to be a mentor to the selected candidate.</p>
<p>There was a good news shared last week about Perl warning i.e. "signatures are experimental" is going to disappear for ever with the next major release. I always wanted to have this feature in my Perl. I can't wait for the next release to use it. Do you want to know more about it? Please <a href="https://github.com/Perl/perl5/pull/19424">checkout here</a> for more information.</p>
<p>Do you need help with Perl related queries?</p>
<p>I highly recommend, the two Facebook groups (members only), <a href="https://www.facebook.com/groups/perlcommunity">The Perl Community</a> (run and managed by Curtis Poe) and <a href="https://www.facebook.com/groups/perlprogrammers">Perl Programmers</a> (run and managed by Will Braswell).</p>
<p>For parents of school going kids in England, welcome to the daily routine after a week long break. I know it is tough, specially if you have to cover two different schools in the morning rush. Enjoy the rest of the newsletter</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->

        </div><!-- col-md-8 -->
        <div class="col-md-2">
<script type="text/javascript"><!--
google_ad_client = "pub-3663319204757145";
/* planet */
google_ad_slot = "8413744374";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
        </div><!-- col-md-2 -->
      </div><!-- row -->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row>
            <div class="col-md-8">
              <address><a href="https://twitter.com/@davorg">@davorg</a> / Saturday 19 March 2022 04:45 UTC</address>
            </div>
          </div>
        </div><!-- container -->
      </footer>
    </div><!-- container -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-56332-76"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-56332-76');
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
            integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
            crossorigin="anonymous"></script>
    <script src="/script.js"></script>
  </body>
</html>
