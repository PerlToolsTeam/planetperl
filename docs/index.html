<!DOCTYPE html>
<html>
  <head>
    <meta property="og:title" content="Planet Perl" /> 
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://perl.theplanetarium.org/" />
    <meta property="og:image" content="https://perl.theplanetarium.org/planet-perl.jpg" />
    <meta property="og:description" content="Collecting the best Perl web feeds"/>
    <title>Planet Perl</title>
    <meta charset="UTF-8">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
          crossorigin="anonymous">

    <link rel="alternate" type="application/atom+xml" title="Atom" href="http://perl.theplanetarium.org/atom.xml" />
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Planet Perl</a>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 left">
          <h2>Sources</h2>
          <ul>
            <li><a href="http://blogs.perl.org/">blogs.perl.org</a></li>
            <li><a href="https://dev.to/t/perl">dev.to #perl</a></li>
            <li><a href="https://domm.plix.at/perl.html">domm (Perl and other tech)</a></li>
            <li><a href="https://niceperl.blogspot.com/">Niceperl</a></li>
            <li><a href="https://news.perlfoundation.org/">Perl Foundation News</a></li>
            <li><a href="https://perlhacks.com/">Perl Hacks</a></li>
            <li><a href="https://perlmaven.com/">Perl Maven</a></li>
            <li><a href="https://perlweekly.com/">Perl Weekly</a></li>
            <li><a href="https://blog.perl-academy.de/">Perl-Academy.de</a></li>
            <li><a href="https://perl.com/">perl.com</a></li>
            <li><a href="https://perlancar.wordpress.com/">Perlancar</a></li>
            <li><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl">RabbitFarm Perl</a></li>
            <li><a href="https://log.perl.org/">The Perl NOC</a></li>
          </ul>
          <p><a href="/atom.xml"><img alt="Feed" src="/images/feed.gif" /> Subscribe</a>
          <br />
          <a href="/opml.xml"><img alt="OPML" src="/images/opml.png" /> OPML</a></p>
          <p>
            <ul>
              <li>Powered by <a href="https://metacpan.org/release/Perlanet">Perlanet</a></li>
              <li>Code on <a href="https://github.com/davorg/planetperl">Github</a></li>
              <li><a href="https://github.com/davorg/planetperl/issues">Feedback welcome</a></li>
            </ul>
          </p>
        </div><!-- col-md-2 -->
        <div class="col-md-8">
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/mohammad_s_anwar/2020/12/monthly-report---november-2.html">Monthly Report - November</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p><img src="http://blogs.perl.org/users/mohammad_s_anwar/header-2020-11.jpg"/></p>

<p><strong>Welcome last month of the year 2020</strong></p>

<p>Generally, I always look forward to festive month, December. But I don't expect it to be any different from other months, unfortunately.</p>

<p>With so much going on in my personal life, it is hard to focus on anything. One thing that I really miss these days are personal time. I am constantly working on it with the help of experts in the field. I try to look at the positive side of the life but I can't ignore the fact I am not giving 100% to my pet project <a href="https://perlweeklychallenge.org/">The Weekly Challenge</a>. Having said that I must thank the entire team for the support and encouragement in this difficult time. As of today, we entered into the 89th week. I can't wait to see when we get to the 100th week.</p>

<p>Ever since I shared about my treatment, I have had many encouraging and supporting messages from friends. I read them again and again. I feel blessed to have such caring friends around me. I have let myself down by not taking part in Hacktoberfest 2020 in the same spirit as before. Atleast I completed the challenge by submitting the required number of Pull Requests. </p>

<p>Let me share some happy news as well, I have now become co-editor of <a href="https://perlweekly.com/">Perl Weekly Newsletter</a> with the most editions, going past greats like Yanick Champoux and Neil Bowers.</p>

<p>On professional front, there are so much going on, I hope to share some good news very soon.</p>

<p>Let's take a quick look through last month main activities.</p>

<ul>
<li><a href="#a">Pull Request</a></li>
<li><a href="#b">Git Commits</a></li>
<li><a href="#c">The Weekly Challenge</a></li>
<li><a href="#d">YouTube Channel</a></li>
<li><a href="#e">Meet The Champion</a></li>
<li><a href="#f">Pull Request Club</a></li>
<li><a href="#g">Perl Blog</a></li>
<li><a href="#h">Perl Weekly Newsletter</a></li>
<li><a href="#i">Adopt CPAN Module</a></li>
</ul>

<hr id="a"/>
<h2>Pull Request</h2>

<p><strong>6 Pull Requests</strong> submitted in the month of November.</p>

<p><img src="http://blogs.perl.org/users/mohammad_s_anwar/github-pr-2020-11.png"/></p>

<p><strong>2345 Pull Requests</strong> altogether.</p>

<p><img src="http://blogs.perl.org/users/mohammad_s_anwar/github-pr-summary-2020-11.png"/></p>

<hr id="b"/>
<h2>Git Commits</h2>

<p><strong>855 commits</strong> recorded in the month of November.</p>

<p><img src="http://blogs.perl.org/users/mohammad_s_anwar/github-commits-2020-11.png"/></p>

<p>Overall <strong>8237 commits</strong> recorded in the year 2020.</p>

<p><img src="http://blogs.perl.org/users/mohammad_s_anwar/github-commits-summary-2020-11.png"/></p>

<hr id="c"/>
<h2>The Weekly Challenge</h2>

<p>Following weekly challenges proposed in the month of November:</p>

<ul>
<li><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-085">Challenge #085</a></li>
<li><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-086">Challenge #086</a></li>
<li><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-087">Challenge #087</a></li>
<li><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-088">Challenge #088</a></li>
<li><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-089">Challenge #089</a></li>
</ul>

<p>And RECAPS are listed as below:</p>

<ul>
<li><a href="https://perlweeklychallenge.org/blog/recap-challenge-084">RECAP Challenge #084</a></li>
<li><a href="https://perlweeklychallenge.org/blog/recap-challenge-085">RECAP Challenge #085</a></li>
<li><a href="https://perlweeklychallenge.org/blog/recap-challenge-086">RECAP Challenge #086</a></li>
<li><a href="https://perlweeklychallenge.org/blog/recap-challenge-087">RECAP Challenge #087</a></li>
<li><a href="https://perlweeklychallenge.org/blog/recap-challenge-088">RECAP Challenge #088</a></li>
</ul>

<hr id="d"/>
<h2>YouTube Channel</h2>

<p>There are plenty of vides available on my <a href="https://studio.youtube.com/channel/UCT91RkThBWByo1NL_M8R8Ig">YouTube Channel</a>. If you like the video then please do subscribe to my channel so that you don't miss the weekly fun live coding videos.</p>

<p>No new video created last month, sorry :-(</p>

<hr id="e"/>
<h2>Meet The Champion</h2>

<p>Last month, we declared <a href="https://perlweeklychallenge.org/blog/meet-the-champion-2020-10">Andrew Shitov</a> as the Champion of the Weekly Challenge.</p>

<p>If you are interested in past champions interview then you can find it all <a href="https://perlweeklychallenge.org/champions">here</a>.</p>

<hr id="f"/>
<h2>Pull Request Club</h2>

<p>Last month, I received <a href="https://metacpan.org/release/Net-Dict">Net::Dict</a> by Neil Bowers. I submitted <a href="https://github.com/neilb/Net-Dict/pull/6">one</a> Pull Request.</p>

<p><img src="http://blogs.perl.org/users/mohammad_s_anwar/pr-club-2020-11.png"/></p>

<hr id="g"/>
<h2>Perl Blog</h2>

<p>Last month, I blogged about the following topics. </p>

<ul>
<li><a href="http://blogs.perl.org/users/mohammad_s_anwar/2020/11/monthly-report---october-2.html">Monthly Report - October</a></li>
</ul>

<hr id="h"/>
<h2>Perl Weekly Newsletter</h2>

<p>Last month, I edited three editions of The Perl Weekly newsletter i.e. <a href="http://perlweekly.com/archive/484.html">Issue #484</a>, <a href="http://perlweekly.com/archive/486.html">Issue #486</a> and <a href="http://perlweekly.com/archive/488.html">Issue #488</a>.</p>

<hr id="i"/>
<h2>Adopt CPAN Module</h2>

<p>None in the last month.</p>
        
           </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Mohammad S Anwar
     on Tuesday 01 December 2020 12:44</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://blog.perl-academy.de/2020-12-01-perl-critic-regeln-erstellen">Perl::Critic-Regeln umsetzen</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
Gregor hat vor längerer Zeit das Modul `Test::Perl::Critic::Progressive` und ich vor kurzem  das Modul `PPI` vorgestellt. In diesem Blogpost zeige ich, wie man mit `PPI` Perl::Critic-Regeln umsetzen kann, die dann in den Tests verwendet werden.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://blog.perl-academy.de/" class="badge badge-primary" style="float: left">Perl-Academy.de</a>

              <p class="text-right"><small>Published
     on Tuesday 01 December 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/first">Find the first element in an array in Perl that satisfies a condition</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
When you need to find the first element in an array that satisfies some condition, the first solution that might come to mind is to loop
over all the elements using <b>for</b> and check them one by one. This would yield a working code, but there are nicer solution.
<p>
BTw if you are interested I've also written a solution to
<a href="https://code-maven.com/python-find-first-element-in-list-matching-condition">find the first matching element of a list in Python</a>.
It might be interesting to compare.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
     on Monday 30 November 2020 15:30</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/simongreennet/weekly-challenge-089-f3">Weekly Challenge 089</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-089/">Challenge 089</a></p>

<h1>
  <a href="#task-1-gcd-sum" class="anchor">
  </a>
  TASK #1 › GCD Sum
</h1>

<h2>
  <a href="#task" class="anchor">
  </a>
  Task
</h2>

<p>You are given a positive integer <code>$N</code>. Write a script to sum GCD of all possible unique pairs between 1 and <code>$N</code>.</p>

<h2>
  <a href="#my-solution" class="anchor">
  </a>
  My solution
</h2>

<p>This is relatively straight forward. All possible unique pairs can be calculated with the first number from 1 to <code>$N</code> - 2, and the second number one more than the first number to <code>$N</code>.</p>

<p>It's then a matter of calculating the GCD for this combination. For this I have a subroutine <code>_gcd</code> that takes the minimum of the two numbers and work backwards to one. It will return the first value that can be divided by both numbers with no remainder.</p>

<h2>
  <a href="#examples" class="anchor">
  </a>
  Examples
</h2>



<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>» ./ch-1.pl 3
3

» ./ch-1.pl 4
7
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h1>
  <a href="#task-2-magical-matrix" class="anchor">
  </a>
  TASK #2 › Magical Matrix
</h1>

<h2>
  <a href="#task" class="anchor">
  </a>
  Task
</h2>

<p>Write a script to display matrix as below with numbers 1 - 9. Please make sure numbers are used once.</p>

<p><code>[ a b c ]<br>
[ d e f ]<br>
[ g h i ]</code></p>

<p>So that it satisfies the following:</p>

<p><code>a + b + c = 15<br>
d + e + f = 15<br>
g + h + i = 15<br>
a + d + g = 15<br>
b + e + h = 15<br>
c + f + i = 15<br>
a + e + i = 15<br>
c + e + g = 15</code></p>

<h2>
  <a href="#my-solution" class="anchor">
  </a>
  My solution
</h2>

<p>My first thought was to just brute force this. The possible permutation is 9! = 362880, and even a half decent computer could figure this out pretty quickly.</p>

<p>But I took a slight different approach to make it even faster.</p>

<ol>
<li>Work out all the possible ordered three digit combinations that sum to 15. It turns out there are only eight combinations: 1 5 9, 1 6 8, 2 4 9, 2 5 8, 2 6 7, 3 4 8, 3 5 7, 4 5 6</li>
<li>Using these rows, work out all combinations of these rows such that all numbers are used. There are twelve rows returned.</li>
<li>This now means the possible solutions are 6³ × 12 (2,592). We know that we won't need all of these. For example, the 1 will always be found in top left, top middle or centre position (all other places will be a mirror/flip of one of these).</li>
<li>At this point, I just use a brute force approach until I find a solution.

<ol>
<li>Each row can be ordered one of six ways (abc, acb, bac, bca, cab, cba).</li>
<li>For each of the twelve solutions, we can cycle through the six numbers combinations in each row.</li>
<li>If a solution is found that meets the requirements, we print the solution and exit.</li>
</ol>


</li>
</ol>

<p>I'm looking forward to seeing how other Team PWC members tackle this task.</p>

<h2>
  <a href="#examples" class="anchor">
  </a>
  Examples
</h2>



<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>» ./ch-2.pl 
[ 6 1 8 ]
[ 7 5 3 ]
[ 2 9 4 ]
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Simon Green
     on Monday 30 November 2020 13:06</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/learnbyexample/multiline-fixed-string-search-and-replace-with-cli-tools-pko">Multiline fixed string search and replace with cli tools</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Credit: <em>Cover image generated using <a href="https://carbon.now.sh/">carbon</a></em></p>

<p>This post shows how you can use <code>ripgrep</code>, <code>perl</code> and <code>sd</code> to perform multiline fixed string search and replace operations from the command line. Solution with <code>GNU sed</code> is also discussed, along with its limitations.</p>

<h2>
  <a href="#fixed-string-matching" class="anchor">
  </a>
  Fixed string matching
</h2>

<p>The below sample input file will be used in the examples in this post.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ cat ip.txt
This is a multiline
sample input with lots
of special characters
like . () * [] $ {}
^ + ? \ and ' and so on.
This post shows how
you can do fixed
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#ripgrep" class="anchor">
  </a>
  ripgrep
</h3>

<p><a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> supports <code>-U</code> option to allow multiline matching. Use <code>-F</code> option to turn off regexp matching, i.e. treat the search string literally. In <code>bash</code> shell (and likely most other shells), you can press enter key to insert literal newline character for quoted values. When you do so, the next line starts with <code>&gt;</code> and a space character. This isn't shown in the examples below to make it easier to copy-paste the commands.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ rg -UF 'like . () * [] $ {}
^ + ? \ and' ip.txt
4:like . () * [] $ {}
5:^ + ? \ and ' and so on.

# -l option shows only filename instead of all the matching lines
$ rg -lUF 'like . () * [] $ {}
^ + ? \ and' ip.txt
ip.txt
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>You'll have an issue if your search string itself contains single quote characters. Avoid using double quotes as a workaround, as that has its own set of special characters. You can work around by concatenating multiple strings next to each other, along with escaped single quote characters as needed.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># -N option disables line number prefix
$ rg -NUF 'like . () * [] $ {}
^ + ? \ and '\'' and' ip.txt
like . () * [] $ {}
^ + ? \ and ' and so on.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>If your search string starts with <code>-</code> character, you'll have to use <code>--</code> before the search argument.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ rg -NUF -- '-string multiline
search' ip.txt
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#perl" class="anchor">
  </a>
  perl
</h3>

<p>You can use <code>-0777</code> option with <code>perl</code> to slurp the entire input as a single string. Another advantage with <code>perl</code> is that you can use files to pass the search and replace strings. Thus, you don't have to worry about any character that may clash with shell metacharacters. See my <a href="https://learnbyexample.github.io/learn_perl_oneliners/">Perl one-liners cookbook</a> if you are not familiar with using <code>perl</code> from the command line.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ cat search_1.txt
like . () * [] $ {}
^ + ? \ and ' and so on.

# display filename if the given search string matches
$ perl -0777 -nE '!$#ARGV ? $s=$_ :
                  /\Q$s/ &amp;&amp; say $ARGV' search_1.txt ip.txt
ip.txt
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>However, you'll have to make sure the file doesn't end with a newline if you are providing partial lines for searching, or take care of it within the <code>perl</code> script.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ cat search_2.txt
-string multiline
search

# no output because there's a newline at the end of search_2.txt file
$ perl -0777 -nE '!$#ARGV ? $s=$_ :
                  /\Q$s/ &amp;&amp; say $ARGV' search_2.txt ip.txt

# this will remove newline at the end of file before assigning to $s
$ perl -0777 -nE '!$#ARGV ? $s=s/\n\z//r :
                  /\Q$s/ &amp;&amp; say $ARGV' search_2.txt ip.txt
ip.txt
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>By default, <code>ripgrep</code> gives entire matching lines. To get rest of the line with <code>perl</code>, you'll have to explicitly add a pattern around the search string.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># $&amp; variable has the entire matching portion
$ perl -0777 -nE '!$#ARGV ? $s=s/\n\z//r :
                  /\Q$s/ &amp;&amp; say $&amp;' search_2.txt ip.txt
-string multiline
search

# use 'say $&amp; while /.*\Q$s\E.*/g' if there are multiple matches
$ perl -0777 -nE '!$#ARGV ? $s=s/\n\z//r :
                  /.*\Q$s\E.*/ &amp;&amp; say $&amp;' search_2.txt ip.txt
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h2>
  <a href="#fixed-string-substitution" class="anchor">
  </a>
  Fixed string substitution
</h2>

<h3>
  <a href="#ripgrep" class="anchor">
  </a>
  ripgrep
</h3>

<p><code>ripgrep</code> also supports replacing matched string with something else using the <code>-r</code> option. By default, you'll see only matched lines in the output. Use <code>--passthru</code> option to display all the input lines, even if they do not match the given search string. See <a href="https://learnbyexample.github.io/substitution-with-ripgrep/">my blog post</a> for more details about the <code>-r</code> option and various ways you can use it for substitution requirements.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ rg --passthru -NUF 'like . () * [] $ {}
^ + ? \ and' -r '====
----
====' ip.txt
This is a multiline
sample input with lots
of special characters
====
----
==== ' and so on.
This post shows how
you can do fixed
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>Apart from having to workaround single quote, you'll have to use <code>$$</code> instead of <code>$</code> as it is used for backreferences in the replacement section.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ echo 'sample input' | rg --passthru -F 'in' -r '$a'
sample put
$ echo 'sample input' | rg --passthru -F 'in' -r '$$a'
sample $aput
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#perl" class="anchor">
  </a>
  perl
</h3>

<p>With <code>perl</code>, you can use files for both search and replace strings. And, you can easily choose to replace first or all occurrences, unlike <code>ripgrep</code> where it always replaces all the matches.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ cat replace.txt
---------------------
$&amp; = $1 + $2 / 3 \ 4
=====================

$ perl -0777 -ne '$#ARGV==1 ? $s=$_ : $#ARGV==0 ? $r=$_ :
                  print s/\Q$s/$r/gr' search_1.txt replace.txt ip.txt
This is a multiline
sample input with lots
of special characters
---------------------
$&amp; = $1 + $2 / 3 \ 4
=====================
This post shows how
you can do fixed
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>As seen before, you'll have to remove newline from search string for partial line matching.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># use $r=s/\n\z//r to avoid trailing newline from replace.txt
$ perl -0777 -ne '$#ARGV==1 ? $s=s/\n\z//r : $#ARGV==0 ? $r=$_ :
                  print s/\Q$s/$r/gr' search_2.txt replace.txt ip.txt
This is a multiline
sample input with lots
of special characters
like . () * [] $ {}
^ + ? \ and ' and so on.
This post shows how
you can do fixed
---------------------
$&amp; = $1 + $2 / 3 \ 4
=====================
 with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#sd" class="anchor">
  </a>
  sd
</h3>

<p><a href="https://github.com/chmln/sd">sd</a> supports fixed string and Rust regexp based substitution. Unlike <code>ripgrep</code>, <code>-s</code> option for fixed string will apply to both search and replacement sections. <code>sd</code> does in-place editing for file inputs by default, you can use <code>-p</code> to preview results on the terminal. Multiline matching is automatically performed by default.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ echo 'sample input' | sd -s 'in' '$a'
sample $aput

$ sd -ps 'like . () * [] $ {}
^ + ? \ and' '====
----
====' ip.txt
This is a multiline
sample input with lots
of special characters
====
----
==== ' and so on.
This post shows how
you can do fixed
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h2>
  <a href="#saving-file-contents-to-a-variable" class="anchor">
  </a>
  Saving file contents to a variable
</h2>

<p>Trailing newlines and ASCII NUL characters will be lost if you wish to save contents of a file as <code>bash</code> variables using <code>var=$(&lt; filename)</code> command. See <a href="https://stackoverflow.com/questions/7427262/how-to-read-a-file-into-a-variable-in-shell/22607352#22607352">stackoverflow: pitfalls of reading file into shell variable</a> for details.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ printf '\na\0b\n123\n\n\n\n\n\n\n\n' &gt; t1
$ a=$(&lt; t1)

# NUL character is lost after the assignment
# all the trailing newlines are lost as well
$ printf '%b' "$a" | cat -A
$
ab$
123
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#ripgrep" class="anchor">
  </a>
  ripgrep
</h3>

<p>If your search string doesn't have multiple trailing newlines or ASCII NUL characters, then you can save file contents to variables and then pass them to <code>ripgrep</code>. Single trailing newline will not normally cause an issue for searching operations as <code>ripgrep</code> will append a newline while displaying results anyway. If you want to make sure input file also contains the trailing newline, then you can manually concatenate a newline character to the search string.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ s=$(&lt; search_1.txt)
# use "$s"$'\n' if you want to match trailing newline as well
$ rg -NUF "$s" ip.txt
like . () * [] $ {}
^ + ? \ and ' and so on.

# use -- if the search string starts with - character
$ s=$(&lt; search_2.txt)
$ rg -NUF -- "$s" ip.txt
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>For substitution operations, you'll have to preprocess the replacement file to replace <code>$</code> with <code>$$</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ s=$(&lt; search_1.txt)
$ r=$(sed 's/\$/$$/g' replace.txt)

# here, removal of trailing newline doesn't cause an issue,
# as it evens out between search and replace strings
$ rg --passthru -NUF "$s" -r "$r" ip.txt
This is a multiline
sample input with lots
of special characters
---------------------
$&amp; = $1 + $2 / 3 \ 4
=====================
This post shows how
you can do fixed
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>Here, partial line has to be matched. So, <code>$()</code> assignment works well for the search string. If the trailing newline of the replacement string isn't needed, then <code>$()</code> assignment again is good enough. Otherwise, you can modify the replacement string as <code>-r "$r"$'\n'</code><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ s=$(&lt; search_2.txt)
$ r=$(sed 's/\$/$$/g' replace.txt)

$ rg --passthru -NUF -r "$r" -- "$s" ip.txt
This is a multiline
sample input with lots
of special characters
like . () * [] $ {}
^ + ? \ and ' and so on.
This post shows how
you can do fixed
---------------------
$&amp; = $1 + $2 / 3 \ 4
===================== with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#sd" class="anchor">
  </a>
  sd
</h3>

<p>As mentioned before, <code>-s</code> option for <code>sd</code> applies to both search and replacement sections. So, the usage is lot simpler compared to <code>ripgrep</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># -- is needed here because replace.txt starts with - character
$ sd -ps -- "$(&lt; search_1.txt)" "$(&lt; replace.txt)" ip.txt
This is a multiline
sample input with lots
of special characters
---------------------
$&amp; = $1 + $2 / 3 \ 4
=====================
This post shows how
you can do fixed
-string multiline
search with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#gnu-sed" class="anchor">
  </a>
  GNU sed
</h3>

<p>To follow a similar approach with <code>GNU sed</code>, you'll have to preprocess the strings to escape metacharacters. Assuming input doesn't have ASCII NUL characters, you can use <code>-z</code> option to slurp entire input as a single string.</p>

<p>Here's an example for multiline search.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># escape all BRE metacharacters
# replace literal newlines with \n
$ s=$(sed -z 's#[[^$*.\/]#\\&amp;#g; s/\n/\\n/g' search_1.txt)

# since newlines are replaced with \n,
# trailing newlines will be preserved here
$ echo "$s"
like \. () \* \[] \$ {}\n\^ + ? \\ and ' and so on\.\n

# display filename if input matches the given multiline search string
# tr is used to change NUL character after filename to newline
$ sed -nz '/'"$s"'/F' ip.txt | tr '\0' '\n'
ip.txt
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>And here's an example for multiline substitution.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># last newline is removed here to allow partial line matching
$ s=$(sed -z 's#[[^$*.\/]#\\&amp;#g; s/\n$//; s/\n/\\n/g' search_2.txt)

# escape all replacement section metacharacters
# and prefix \ character to literal newlines, except the last line
$ r=$(sed 's:[\\/&amp;]:\\&amp;:g; $!s/$/\\/' replace.txt)
$ echo "$r"
---------------------\
$\&amp; = $1 + $2 \/ 3 \\ 4\
=====================

# if you need trailing newline from replace.txt,
# use sed -z 's/'"$s"'/'"$r"'\n/g'
$ sed -z 's/'"$s"'/'"$r"'/g' ip.txt
This is a multiline
sample input with lots
of special characters
like . () * [] $ {}
^ + ? \ and ' and so on.
This post shows how
you can do fixed
---------------------
$&amp; = $1 + $2 / 3 \ 4
===================== with cli tools.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Sundeep
     on Monday 30 November 2020 12:58</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://job.perl.careers/jn4">Shopping, Skating, and Swimming – Is This Even Work? Perl developer in Dubai</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Our client is a financial company whose growth over the last twenty years has been nothing short of impressive. They started with the idea that online trading should be available to all, and from there, they’ve built a company with multiple locations worldwide. If you want to be part of a business that is thriving, this may be the perfect opportunity for you.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://job.perl.careers/3g9">Business Casual has a Whole New Meaning. Perl role in South Germany</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Online shopping, socializing, working—it’s a digital world now, which is perfect for our client. As an international IT company managing millions of domains for retail and corporate customers in nearly every country in the world, they’re busier than ever—and they need a few senior Perl developers to help them continue to thrive.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://job.perl.careers/i2k">If it was Good Enough for Mozart - Perl role in Vienna</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">As one of the largest product and price comparison platforms in German-speaking countries, they know all about finding the best products at a price that would make Mozart shout, “Wunderbar!” They want to find a Perl programmer who thrives on delivering quality content, well-executed user information that’s easy to understand, and is as committed to transparency and excellence as they are.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://job.perl.careers/yt2">Distraction-free Workplace - Escape Standups and Scrum - Perl Developer West London</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Client is a small development team where everyone is expected to pull their own weight. No daily standups, no planning poker, just you and your work, aided by some of the most experienced technical colleagues in London. You’ll be encouraged to make sensible use of Modern Perl tooling and grow your personal experience of best development practices under excellent technical leadership.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://job.perl.careers/s2w">Paging Dr. Perl! Perl Role in Cambridge, UK</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">This organization is one of the world’s leading developers of medical diagnostic technologies and clinical software. They believe in security, wellness, and the importance of driving innovation to deliver patient benefit. You won’t be in a white coat, but it’s better than that—your work will be used by the NHS, research labs, and healthcare providers worldwide.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://act.yapc.eu/gpw2021">German Perl Workshop 2021</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">It will be in Leipzig on March 24-26 2021. <a href="https://act.yapc.eu/gpw2021/cfp.html">CFP is open</a>.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://www.meetup.com/Berlin-Perl-Mongers/events/jbrsfrybcqbfc/">Berlin Perl Mongers</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Wednesday, January 6, 2021; 7:00 PM GMT+1       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://www.meetup.com/Toronto-Perl-Mongers/events/dtdtrrybcqbgc/">Toronto Perl Mongers Online Meeting</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Thursday, December 24, 2020; 7:00 PM EST       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://www.meetup.com/hacklafayette/events/jdxwsrybcqbmb/">Starship Mongers</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Wednesday, December 9, 2020; 5:30 PM EST       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://www.meetup.com/SVPerl/events/vsxdwrybcqbfb/">Silicon Valley Perl - Quantum::Superpositions, 2021 election</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Thursday, December 3, 2020, 6:30 PM PST       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://code-maven.com/covid-19-charts-by-dungeontiger">COVID 19 charts by DungeonTiger</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Screencast showing a GitHub pages project where the content is re-generated twice a day with a scheduled GitHub Actions job.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/cpan-digger-dashboard-rocks">CPAN Digger - CPAN Dashboard - CPAN Rocks</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Screencast showing you around three projects: CPAN Digger by Gabor Szabo, CPAN Dashboard by Dave Cross, both written in Perl and hosted on GitHub pages. Also, CPAN Rocks by James Raspass, written in Raku and hosted on GitLab.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/gitlab-ci">GitLab CI for Perl projects</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">A list of Perl projects hosted on GitLab that already have GitLab CI enabled. Some projects to learn from.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://niceperl.blogspot.com/">NICEPERL's lists</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><a href="https://niceperl.blogspot.com/2020/11/cccxvii-9-cpan-great-modules-released.html">Great modules released last week</a>;<br><a href="https://niceperl.blogspot.com/2020/11/cdxliv-metacpan-weekly-report-plack.html">MetaCPAN weekly report</a>;<br><a href="https://niceperl.blogspot.com/2020/11/cdlxix-stackoverflow-perl-report.html">StackOverflow Perl report</a>.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://rakudoweekly.blog/2020/11/23/2020-47-present-release/">2020.47 Present Release</a></h2>
            </div> <!-- card-header -->

            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/use-perl-tidy-in-your-application">Use Perl::Tidy module in your application</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Simple example showing how to use Perl::Tidy as a module, rather than as a command line tool, embedded in your application.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-088/walt-mankowski/README.md">Perl Weekly Challenge - 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Walt used state variables very elegantly to solve the Spiral Matrix task.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/simongreennet/weekly-challenge-088-5c5f">Weekly Challenge 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Simon presenting a step-by-step solution to the Spiral Matrix is interesting.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://samirparikh.com/blog/perl-weekly-challenge-088.html">Perl Weekly Challenge 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">The best part of this blog post is the discussion of the Spiral Matrix solution. Must Read.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://blog.firedrake.org/archive/2020/11/Perl_Weekly_Challenge_88__Spiral_Product.html">Perl Weekly Challenge 88: Spiral Product</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Roger's blog post is not limited to a Perl solution. You will find comparable solutions in other languages too.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://v.kolouch.org/nextcloud/index.php/apps/cms_pico/pico/lubos/20201128_perl_weekly_088">Perl Weekly Challenge 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Lubos writing Perl and Python side by side is really interesting. He makes it easy to read.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2020/11/perl-weekly-challenge-88-array-of-products-and-spiral-matrices.html">Perl Weekly Challenge 88: Array of Products and Spiral Matrices</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Laurent writing Raku first then porting the code to Perl is really cool. His contributions in Perl and Raku are equally great.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://github.polettix.it/ETOOBUSY/2020/11/27/pwc088-spiral-matrix/">PWC088 - Spiral Matrix</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Flavio's style of question and answer in his blog post makes me think again and again.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://github.polettix.it/ETOOBUSY/2020/11/26/pwc088-array-of-product/">PWC088 - Array of Product</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Flavio continued his weekly challenge journey, having so much fun.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://www.braincells.com/perl/2020/11/perl_weekly_challenge_week_88.html">Perl Weekly Challege: 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">I loved the blogging style used by Jaldhar; keeping track of the code while discussing the solution.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://gugod.org/2020/11/pwc-088-en/">Solving Perl Weekly Challenge 088 -- Array of Prodict vs Spiral Matrix</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Kang-min's use of map to keep track of direction is really nice. His blog post shows the real power of Raku.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://colincrain.com/2020/11/29/the-product-of-the-absence-spiralize-the-day-away/">The Product of the Absence – Spiralize the Day Away</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Colin, our in-house Perl Reviewer, came up with an interesting blog post showing the power of Perl and Raku.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/c_y_fung/2020/11/cys-take-on-pwc088.html">CY's Take on PWC#088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Cheok-Yin's blog is always fun to read. Plenty to absorb on the meat of the solution.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://raku-musings.com/arrayed-spiral.html">Arrayed Spiral with Raku and Perl</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Arne's use of a mapping analogy for the Spiral Matrix is the coolest approach. We are blessed to have both Perl and Raku versions this week.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl/2020/11/29">Perl Weekly Challenge 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Adam keeps the discussion short and sweet.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://programmingblog702692439.wordpress.com/2020/11/29/perl-weekly-challenge-88-part-2/">Perl Weekly Challenge 88, Part 2</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Abigail has been a great supporter and this blog contribution is the talk of the town.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://programmingblog702692439.wordpress.com/2020/11/27/perl-weekly-challenge-88-part-1/">Perl Weekly Challenge 88, Part 1</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">This blog post goes into the finer details of the task in terms of Perl, C and Node.js.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweeklychallenge.org/blog/meet-the-champion-2020-10/">Meet The Champion - Andrew Shitov</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Finally we managed to get this interview done. Well worth the wait, imho.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweeklychallenge.org/blog/recap-challenge-088">RECAP - The Weekly Challenge - 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Enjoy a quick recap of last week's contributions by Team PWC, dealing with the "Array of Products" and "Spiral Matrix" tasks in Perl and Raku. You will find plenty of solutions to keep you busy.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-089">The Weekly Challenge - 089</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Welcome to a new week with a couple of fun tasks "GCD Sum" and "Magical Matrix". If you are new to the weekly challenge then why not join us and have fun every week. For more information, please read the <a href="https://perlweeklychallenge.org/faq">FAQ</a>.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/dave-report-2020-october">Maintaining the Perl 5 Core (Dave Mitchell): Grant Report for October 2020</a></h2>
            </div> <!-- card-header -->

            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/cpan-digger-explained">CPAN Digger explained</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Gabor shared the internals of CPAN Digger.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://github.polettix.it/ETOOBUSY/2020/11/23/variables-loops-redirections/">Variables, loops, and redirections</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Interesting discussion about the very basics of variables, loops and redirections.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://github.polettix.it/ETOOBUSY/2020/11/29/peek-in-containers/">Peek in containers</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Take a peek into containers with this short blog post.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://github.polettix.it/ETOOBUSY/2020/11/24/kube-put/">Put a file in a Kubernetes Pod</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Flavio has another gem of a blog post showing how to put a file in a Kubernetes pod.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/zakame/a-few-tips-for-perl-on-docker-and-kubernetes-29bg">A few tips for Perl on Docker and Kubernetes</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">A very handy introduction for anyone trying to get their hand dirty.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/stats.html">Blogs</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Number of posts last week: BPO: 5; DevTo: 5; Perl.com: 0; PerlAcademy: 2; PerlHacks: 0; PerlMaven: 4; Reddit: 17; TPF: 1;       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://metacpan.org/recent">CPAN uploads</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Last week there were a total of 171 uploads to CPAN of 137 distinct distributions by 80 different authors. Number of distributions with link to VCS: 94. Number of distros with CI: 44. Number of distros with bugtracker: 66.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://www.activestate.com/blog/top-10-perl-tools-and-utilities/?utm_source=Perl-weekly-newsletter&utm_medium=cpc&utm_content=blog-perl-pearls-repeat&utm_campaign=user-acquisition">The Pearls of Perl - The top 10 Perl tools for every developer</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">From A (Ack) to Z (Dist-Zilla), check out the <a href="https://www.activestate.com/blog/top-10-perl-tools-and-utilities/?utm_source=Perl-weekly-newsletter&utm_medium=cpc&utm_content=blog-perl-pearls-repeat&utm_campaign=user-acquisition">10 Perl tools</a> that should be in every developer’s toolbox. Or Download our <a href="https://platform.activestate.com/Pizza-Team/Pearls-of-Perl?utm_source=Perl-weekly-newsletter&utm_medium=cpc&utm_content=blog-perl-pearls-repeat&utm_campaign=user-acquisition">“Pearls of Perl”</a> build to get a version of Perl 5.28 with all the tools listed in this post so you can test them out for yourself!       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://perlweekly.com/archive/488.html">#488 - Advent Calendar 2020</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there</p>
<p>It is time to get ready for 2020's Advent Calendars. Last year's Advent was the best so far as there was a flood of Advent Calendars. Most notable were the <a href="http://www.perladvent.org/2019/">Perl</a> and <a href="https://perl6advent.wordpress.com/2019/12/">Raku</a> Advent Calendars. The best of all was the one by <a href="https://andrewshitov.com/category/advent-calendar-2019/">Andrew Shitov</a>, where we were introduced to a new language every day.</p>
<p>So what do I expect in the COVID-19 year, 2020?</p>
<p>Well, first of all, I would like to have the Advent Calendar for Dancer2 back. I missed it dearly last year. Dancer2 is very close to my heart. I had the honour to be part of this Advent Calendar once in the past. Whoever is responsible this year, please don't let us down this time.</p>
<p>Have you contributed to Perl/Raku Advent Calendar?</p>
<p>If not, then why not give it a try? For me it is like getting your name in the history books forever. Last year, I contributed to the Raku Advent Calendar for the first time. Before that, I had the pleasure to be part of the Perl Advent Calendar. The best part of any Advent Calendar is the element of surprise. Every day brings a new fun subject to explore.</p>
<p>My pet project <a href="https://perlweeklychallenge.org/">The Weekly Challenge</a> also created its first <a href="https://perlweeklychallenge.org/blog/advent-calendar-2019/">Advent Calendar</a> last year. I haven't had the time to plan this year's Advent Calendar. But, having said that, I will do my best to not disappoint fans of The Weekly Challenge.</p>
<p>Is that all for us in the month of December?</p>
<p>Well, no. There is another fun challenge for those who enjoy contributing to open source codebases and it is called <a href="https://24pullrequests.com/">24 Pull Requests</a>. I haven't had as good a time contributing in the year 2019 compared to my past records, for many reasons. Having said that, I will be taking part again this year and hope to complete the challenge without fail.</p>
<p>We would love to know your plans with regard to Advent Calendars or 24 Pull Requests. Please do share your story with us. Last, but not least, please do take care of yourself and your family. Enjoy the rest of the newsletter.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
     on Monday 30 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/jeongoon/weekly-challenge-088-task-2-off-the-challenge-37d6"> Weekly Challenge #088 Task #2 :: {Off The Challenge}</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>I checked other's code after finishing my solutions, and I found that -- again -- many creative solution are waiting for me.</p>

<p>some solution shows that</p>

<ol>
<li>read top of the matrix</li>
<li>cut top of the matrix</li>
<li>turning matrix count clock wise</li>
<li>until matrix exists go for another round.</li>
</ol>

<p>This is simple and elegant solution I believe. and this is best solution in Raku. because Raku generally doesn't like many flow control and variables.</p>

<p>Here is the <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-088/juliodcs/raku/ch-2.raku">Code</a> from juliodcs @ PWC</p>

<p>So I follow the step and make another solution for Haskell Task #2<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight haskell"><code><span class="kr">import</span> <span class="nn">Data.List</span> <span class="p">(</span><span class="nf">groupBy</span><span class="p">,</span> <span class="nf">transpose</span><span class="p">,</span> <span class="nf">unfoldr</span><span class="p">)</span>
<span class="kr">import</span> <span class="nn">Data.Maybe</span> <span class="p">(</span><span class="nf">catMaybes</span><span class="p">)</span>

<span class="cm">{- tested with:
echo "[a b c d][e f g h][i j k l]" | runhaskell ch-2.hs
echo "[1 2 3][4 5 6][7 8 9]" | runhaskell ch-2.hs
echo "[a b][c d][e f]" | runhaskell ch-2.hs
-}</span>

<span class="n">getMatrixFromStdin</span> <span class="o">::</span> <span class="kt">IO</span> <span class="p">[[</span><span class="kt">String</span><span class="p">]]</span>
<span class="n">getMatrixFromStdin</span> <span class="o">=</span>
  <span class="p">(</span> <span class="n">map</span> <span class="n">words</span>
    <span class="o">.</span> <span class="n">filter</span> <span class="p">((</span><span class="mi">0</span><span class="o">/=</span><span class="p">)</span><span class="o">.</span><span class="n">length</span><span class="p">)</span>             <span class="c1">-- 5. (after 3) there is some empty row</span>
    <span class="o">.</span> <span class="n">map</span> <span class="p">(</span><span class="n">filter</span> <span class="p">(`</span><span class="n">notElem</span><span class="p">`</span> <span class="s">"[]"</span><span class="p">))</span>     <span class="c1">-- 4. '[', ']' is not used</span>
    <span class="o">.</span> <span class="n">lines</span>                             <span class="c1">-- 3. devide it into rows</span>
    <span class="o">.</span> <span class="n">unlines</span>                           <span class="c1">-- 2. make it "]\n"</span>
    <span class="o">.</span> <span class="n">groupBy</span> <span class="p">(</span><span class="nf">\</span><span class="kr">_</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">b</span><span class="o">/=</span> <span class="sc">']'</span><span class="p">)</span> <span class="p">)</span>       <span class="c1">-- 1. devide row by "]"</span>
  <span class="p">`</span><span class="n">fmap</span><span class="p">`</span> <span class="n">getContents</span>

<span class="n">cutTopAndRotateCCW</span> <span class="o">::</span> <span class="p">[[</span><span class="kt">String</span><span class="p">]]</span> <span class="o">-&gt;</span> <span class="kt">Maybe</span> <span class="p">[[</span><span class="kt">String</span><span class="p">]]</span>
<span class="n">cutTopAndRotateCCW</span> <span class="n">mat</span>
  <span class="o">|</span> <span class="n">length</span> <span class="n">mat</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">=</span> <span class="kt">Nothing</span>
  <span class="o">|</span> <span class="n">otherwise</span> <span class="o">=</span> <span class="kt">Just</span> <span class="o">$</span> <span class="p">(</span> <span class="n">reverse</span> <span class="o">.</span> <span class="n">transpose</span> <span class="o">.</span> <span class="n">drop</span> <span class="mi">1</span> <span class="p">)</span> <span class="n">mat</span>

<span class="n">getSpiralAarray</span> <span class="o">::</span> <span class="p">[[</span><span class="kt">String</span><span class="p">]]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span>
<span class="n">getSpiralAarray</span> <span class="n">mat</span> <span class="o">=</span>
  <span class="n">foldr1</span> <span class="p">(</span><span class="o">++</span><span class="p">)</span>
  <span class="p">(</span> <span class="n">unfoldr</span> <span class="p">(</span><span class="nf">\</span><span class="n">m</span> <span class="o">-&gt;</span>
                 <span class="kr">case</span> <span class="n">m</span> <span class="kr">of</span>
                   <span class="kt">Nothing</span> <span class="o">-&gt;</span> <span class="kt">Nothing</span>
                   <span class="kt">Just</span> <span class="n">m'</span> <span class="o">-&gt;</span> <span class="kr">case</span> <span class="p">(</span><span class="n">cutTopAndRotateCCW</span> <span class="n">m'</span><span class="p">)</span> <span class="kr">of</span>
                               <span class="kt">Nothing</span>   <span class="o">-&gt;</span> <span class="kt">Just</span> <span class="p">(</span><span class="n">topOf</span> <span class="n">m'</span><span class="p">,</span> <span class="kt">Nothing</span><span class="p">)</span>
                               <span class="kt">Just</span>  <span class="n">m''</span> <span class="o">-&gt;</span> <span class="kt">Just</span> <span class="p">(</span><span class="n">topOf</span> <span class="n">m'</span><span class="p">,</span> <span class="kt">Just</span> <span class="n">m''</span><span class="p">))</span>
      <span class="p">(</span><span class="kt">Just</span> <span class="n">mat</span><span class="p">)</span> <span class="p">)</span>
  <span class="kr">where</span> <span class="n">topOf</span> <span class="n">m</span> <span class="o">=</span> <span class="n">head</span> <span class="n">m</span>

<span class="n">main</span> <span class="o">=</span> <span class="kr">do</span>
  <span class="n">getSpiralAarray</span> <span class="p">`</span><span class="n">fmap</span><span class="p">`</span> <span class="n">getMatrixFromStdin</span>
  <span class="o">&gt;&gt;=</span> <span class="n">print</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>This is elegant solution. but I'm just curious how fast in real world? this solution definitely interpreted faster than <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-088/jeongoon/haskell/ch-2.hs">my previous solution</a> because it is just simpler in length of code.</p>

<p>So I run 100 times for same matrix with each solution.</p>

<p>Firstly, I complied the code<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="o">&gt;</span> ghc <span class="nt">-O2</span> ch-2.hs
<span class="o">&gt;</span> ghc <span class="nt">-O2</span> ch-2a.hs
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>Secondly, I prepare the matrix by using Raku (100x100 matrix)<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="o">&gt;</span> <span class="k">my</span> <span class="nv">$fh</span> <span class="o">=</span> <span class="nb">open</span> <span class="p">"</span><span class="s2">test.txt</span><span class="p">",</span> <span class="p">:</span><span class="nv">ra</span><span class="p">;</span> <span class="k">my</span> <span class="nv">$a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">(</span><span class="o">^</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span> <span class="p">{</span> <span class="nv">$fh</span><span class="o">.</span><span class="nv">say</span><span class="p">((</span><span class="o">^</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span> <span class="p">{</span> <span class="nv">$a</span><span class="o">++</span> <span class="p">}</span> <span class="p">))</span> <span class="p">}</span> <span class="p">);</span> <span class="nb">close</span> <span class="nv">$fh</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>Finally, compare them</p>

<p><strong>original solution</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">time </span><span class="k">for </span>i <span class="k">in</span> <span class="o">(</span><span class="nb">seq </span>1 100<span class="o">)</span><span class="p">;</span> <span class="nb">cat </span>haskell/test.txt | ./haskell/ch-2 <span class="o">&gt;</span> /dev/null<span class="p">;</span> end

________________________________________________________
Executed <span class="k">in    </span>2.97 secs   fish           external 
   usr <span class="nb">time    </span>2.71 secs   50.90 millis    2.66 secs 
   sys <span class="nb">time    </span>0.36 secs   76.69 millis    0.29 secs 
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p><strong>new simple solution</strong><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">time </span><span class="k">for </span>i <span class="k">in</span> <span class="o">(</span><span class="nb">seq </span>1 100<span class="o">)</span><span class="p">;</span> <span class="nb">cat </span>haskell/test.txt | ./haskell/ch-2a <span class="o">&gt;</span> /dev/null<span class="p">;</span> end

________________________________________________________
Executed <span class="k">in    </span>6.41 secs   fish           external 
   usr <span class="nb">time    </span>6.06 secs   42.69 millis    6.02 secs 
   sys <span class="nb">time    </span>0.45 secs   75.69 millis    0.37 secs 
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>But if the matrix is simpler, less difference expected.</p>

<h2>
  <a href="#raku-has-different-story" class="anchor">
  </a>
  <strong>Raku Has Different Story</strong>
</h2>

<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-088/feng-chang/raku/ch-2.raku">This Link</a> a solution from feng-chang @ PWC<br>
and the speed is fascinating.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">time cat</span> ~/my.github/pwc-by-me/088/haskell/test.txt | raku spiral-test.feng-chang.raku <span class="o">&gt;</span> /dev/null

________________________________________________________
Executed <span class="k">in  </span>620.94 millis    fish           external 
   usr <span class="nb">time  </span>845.44 millis    0.00 micros  845.44 millis 
   sys <span class="nb">time   </span>47.49 millis  1321.00 micros   46.17 millis 
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>my solution is much slower than that. 😂<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">time cat</span> ~/my.github/pwc-by-me/088/haskell/test.txt | raku ~/my.github/pwc-by-me/088/raku/ch-2.raku ^/dev/null <span class="o">&gt;</span> /dev/null
<span class="nb">time cat </span>100x100.txt | raku ~/my.github/pwc-by-me/088/raku/ch-2.raku <span class="o">&gt;</span> /dev/null                                                       2116ms  Mon 30 Nov 2020 21:07:20
Input: <span class="o">(</span>Ctrl-D or Ctrl-Z to finish to input.<span class="o">)</span>

________________________________________________________
Executed <span class="k">in    </span>2.04 secs   fish           external 
   usr <span class="nb">time    </span>2.58 secs  1042.00 micros    2.58 secs 
   sys <span class="nb">time    </span>0.08 secs  129.00 micros    0.08 secs 
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>But frankly speaking, I'm not very satisfied with the result. Raku is still mystery for me. but it is worth to learn.<br>
If looking at the history of the common-lisp, we can see well-designed language will survive eventually!!!</p>

<p>Thank you!! That's all for today.</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Myoungjin Jeon
     on Monday 30 November 2020 04:58</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://domm.plix.at/perl/2020_11_a_very_late_advent_of_code_2019_review.html">My Advent of Code 2019</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>I wrote this during and shortly after <a href="https://adventofcode.com/2019">Advent of Code 2019</a>, but never published it here. Which I'm doing now, just in time before the new 2020 edition :-) I again plan to take part this year (and we've set up a private leaderboard, if you want to join, contact me), but hopefull I'll manage to get a bit less involved..</p>

<p>My code can be found <a href="https://github.com/domm/adventofcode2019">on github</a></p>

<p>Solutions in Perl.</p>

<p>Most of the time I use <a href="http://timetracker.plix.at/">App::TimeTracker</a> to see how long it takes me. I generally try the first part after getting up (~8:00 CET), and the second part after my morning yoga or (depending on work stress / problem complexity) later during the day.</p>

<h2>Day 1</h2>

<p>A very easy start..</p>

<p><strong>Time:</strong> 3:00 / 12:14</p>

<p><strong>Rank:</strong> 7494 / 6679</p>

<h2>Day 2</h2>

<p>We meet Intcode, and I try out some new Perl features. Read more about it <a href="https://domm.plix.at/perl/2019_12_advent_of_code_intcode.html">here</a>.</p>

<p><strong>Time:</strong> 23:00 / 06:55 / plus more to clean up Intcode.pm</p>

<p><strong>Rank:</strong> 5952 / 5091</p>

<h2>Day 3</h2>

<p>Not very hard, but I used an array to map all the wires instead of an hash to only index the coordinates, which makes the program not very fast. Oh, and I had a "Lattenzaun" error in the second part (which I realized after getting the wrong answer, and I just corrected the error in my head but not in the code; sorry, <a href="https://github.com/grauwolf">Farhad</a>)</p>

<p><strong>Time:</strong> 36:42 / 14:32</p>

<p><strong>Rank:</strong> 4363 / 3493</p>

<h2>Day 4</h2>

<p>Another simple brute force attack...</p>

<p><strong>Time:</strong> ? / 20:33</p>

<p><strong>Rank:</strong> 6324 / 5266</p>

<h2>Day 5</h2>

<p>Yay, I can reuse Intcode.pm. Oh no, the new <code>modes</code> do not work at all with my previous implementation... hence the long time it took me to solve part 1. And my solution to parse the modes is very ugly (Read about it <a href="https://domm.plix.at/perl/2019_12_advent_of_code_intcode_day_5.html">here</a> where I also describe how I rewrote / cleaned up Intcode)</p>

<p>But adding the new opcodes from part 2 was easy and they fit quite well into Intcode.pm!</p>

<p><strong>Time:</strong> 1:26:08 / 21:06</p>

<p><strong>Rank:</strong> 4192 / 3524</p>

<h2>Day 6</h2>

<p>Again a not-so-hard problems: graphs. Which I solved by reversing the graph into an array...</p>

<p><a href="https://www.reddit.com/r/adventofcode/comments/e6tyva/2019_day_6_solutions/f9vjikv/?context=3">Here</a> is a slightly golfed solution for part 2.</p>

<p><strong>Time:</strong> 13:35 / 11:45</p>

<p><strong>Rank:</strong> 3557 / 2981</p>

<h2>Day 7</h2>

<p>Intcode again. The first example was not too hard; as I have implemented Intcode in a class, I can just have several instances of the class in one script, where each instance has its own memory.</p>

<p>But part 2 took me ages (about 2 hours, but I was also watching "TV"), mostly because I did not understood how the inputs / signal / phase settings have to be provided to the amplifiers. Only after reading some of the posts on reddit I understood what I was supposed to do.</p>

<p>And I also had to change the whole input/output handling if Intcode...</p>

<p><strong>Time:</strong> ? / ?</p>

<p><strong>Rank:</strong> 4194 / 6490</p>

<h2>Day 8</h2>

<p>Some simple Hash / Array munging again. It took me quite a while to realize that I had to actually "render" the image for part 2, so I can read the message...</p>

<p><strong>Time:</strong> 20:52 / 20:09</p>

<p><strong>Rank:</strong> 6175 / 5624</p>

<h2>Day 9</h2>

<p>Intcode day!</p>

<p>The large numbers / large memory hints did not bother my Intcode, and the one new opcode / mode was easy to implement. But I wasn't reading the instructions very carefully and did not implement <code>relative mode</code> for writes, which cost me at least 15min of debugging... But task 2 was very easy!</p>

<p><strong>Time:</strong> 26:22 / 1:12</p>

<p><strong>Rank:</strong> 2651 / 2597</p>

<h2>Day 10</h2>

<p>That was a tough one. It took me rather long to understand that the asteroids on the map are tiny points and do not take up the whole block (but it says so very clear in the instructions..). But after grabbing some graph paper and drawing the map I realized that this is not an array problem, but has to be solved with vectors. So, <strong>math</strong>!</p>

<p>I used <a href="https://metacpan.org/pod/Math::Vec">Math::Vec</a> (because it came up first on CPAN) to calculate the unit vector (or "Einheitsvektor", which sound much cooler in German..), and using this unit vector it was trivial to filter out vectors pointing in the same direction.</p>

<p>After that, I needed a break, and finished the second task in the evening, using a very stupid approach to calculate the angle via tangens, and the sorting the asteroids by angle to nuke them. Even though I was quite proud that I still remembered enough math from school to cobble together my code (using some online math tutorials for the math details), I have the feeling that there are way more elegant solutions than mine...</p>

<p><strong>Time:</strong> 1:07:32 / 30:34</p>

<p><strong>Rank:</strong>  2441 / 4853</p>

<h2>Day 11</h2>

<p>Intcode again, but this time there were no changes to the "compiler" necessary, just a simple program using Intcode. For the second part I remembered to "render" the result, reusing the code from day 8 to dump the array in a format where I can read the generated code.</p>

<p>Oh, and I was very lazy and just used a rather big two-dimensional array for the hull, of which only a small part was actually used. But I did not want to handle negative array indices...</p>

<p><strong>Time:</strong> 22:22 / 5:20</p>

<p><strong>Rank:</strong> 2370 / 2617</p>

<h2>Day 12</h2>

<p>The first part was rather easy and straightforward (though my code is overly verbose and can probably be compacted to a few lines of dense Perl). For the second part, I was quite sure that I need to use the least common multiple (LCM), but when I calculated it based on the whole position/vector sets, I got wrong results.</p>

<p>After reading reddit, I figured out (from various code fragments) that I can calculate each axis on its own, look for the repetition there, and then use the LCM of the first rep on each axis. Which was easy to implement, but I still have no clue <strong>why</strong> this works.</p>

<p><strong>Time:</strong> 36:50 / 26:31 + a bit more after reading reddit</p>

<p><strong>Rank:</strong> 3035 / 2071</p>

<h2>Day 13</h2>

<p>Part one was a rather easy Intcode exercise, part two not so much.</p>

<p>As I did not want to play the game, I thought I could cheat by looking at the Intcode source of the game to figure out how the scores are calculated. I wasted an hour adding debugging and introspection to Intcode, but made no progress, so I stopped (and baked a cake).</p>

<p>Later I added a manual interface so I could actually play the game, the interface was very clunky and I always died before even coming close to cleaning the board. Reddit suggested writing some AI to steer the paddle, which I did (with a lot of hilarious mistakes on my part) and took me another hour.</p>

<p>But in the end I got a working solution! I added an option to render the game play (at different speeds), and later learned to use <code>byzanz-record</code> to record my term to a <a href="https://github.com/domm/adventofcode2019/blob/master/13_2.gif">gif</a>. To make this nicer, I used some simple unicode chars to render the game.</p>

<p><strong>Time:</strong> 07:34 / 02:01:16 plus some time for cleanup and recording a gif</p>

<p><strong>Rank:</strong> 2692 / 3338</p>

<h2>Day 14</h2>

<p>Things start to get annoyingly complex, not sure I want too keep up with it for a lot longer...</p>

<p>In theory, the task looked simple (walk a chain of dependencies, and calculate some sums), but the fact that each reaction produced weird amount of chemicals, and that you have to use the leftovers made this my most-hated task (up to now..). I worked an hour during the late afternoon, and two more after coming back from a friends exhibition.</p>

<p>The second part was then quite easy, though I got some errors because I forgot to reset the leftovers between each run. And I was too lazy to implement a binary search, and just did a quick guesstimate from the commandline, and then run a stupid incrementing brute force attack (all of which took another 20min, but at 1:00 in the morning...)</p>

<p><strong>Time:</strong> 02:53:16 / 00:19:12</p>

<p><strong>Rank:</strong> 4954 / 4337</p>

<h2>Day 15</h2>

<p>I hardly notice that I'm using Intcode anymore :-)</p>

<p>Getting to move the droid through the maze was not that hard, but I could not figure out how to implement a proper maze solver, so I went for a "random mouse" approach, which I later finetuned to not enter known dead-ends again.</p>

<p>I actually found the oxygen system quite fast using a pure random
approach, but spend about 30 minutes implementing the dead-end
detection (because some random runs took ages, and I didn't figure out
how to calculate the minimum distance)</p>

<p>Getting the minimum distance turned out to be quite easy: I just
counted the steps and stored them at each coordinate; if I later
backtracked through an already visited point, I started counting again
from the distance stored there.</p>

<p><a href="https://raw.githubusercontent.com/domm/adventofcode2019/master/15_1.gif">Here is a gif for part 1</a> </p>

<p>For the second part I took a maybe weird approach: From a previous
run, I had a complete map lying around (when the random mouse was very
thorough), so I applied 4 regex to simulate the spread of the
oxygen:</p>

<p>```
$maze=~s/.O/oO/g;               # spread left
$maze=~s/O(.{$width})./O$1o/sg; # spread down</p>

<h1>etc</h1>

<p>```</p>

<p>I missed a few corner cases in my first try:</p>

<ul>
<li><code>s/.O/OO/g</code> would allow the next regex to pick up an oxygen that was just generated, so I changed the 4 regex to <code>s/.O/Oo/g</code> and then converted <code>o</code> to <code>O</code> after all where done.</li>
<li>a bit trickier to catch was that if there were two up/downward spreads in the same row, only one would match, so I packed each regex into a while-loop</li>
</ul>

<p><a href="https://raw.githubusercontent.com/domm/adventofcode2019/master/15_2.gif">And here is a gif for part 2</a> </p>

<p><strong>Time:</strong> 02:05:27 / 00:45:56</p>

<p><strong>Rank:</strong> 3015 / 2794</p>

<h2>Day 16</h2>

<p>A not too hard first part (though my solution is rather convoluted), and a second part I could have never solved without reddit and looking at various solutions.</p>

<p>I found [this comment]:https://www.reddit.com/r/adventofcode/comments/ebf5cy/2019_day_16_part_2_understanding_how_to_come_up/fb4a34p especially helpful. As pointed out on reddit, the sequence we are looking for is always in the second half of the signal. But the pattern for the second half will only consist of 0 and 1. So we can calculate the next row by working through the current row from behind:</p>

<p><code>
this_phase: ... 6  9  9  8
next_phase: ... ?  ?  ?  ?
</code></p>

<p>Work from right to left (i.e. reverse the list). For the last digit, just copy the last digit to the next row (because the last <code>pattern</code> will always be  <code>… 0 0 0 1</code>, so we need to add a lot of zeros to <code>1 * last digit</code>)</p>

<p><code>
this_phase: ... 6  9  9  8
next_phase: ... ?  ?  ?  8
</code></p>

<p>From then on, take the current digit and add the all the following digits, because the pattern will always be <code>… 0 1 1+</code>. But as we store the sum of this calculation into the next row, we don't have to always calc this long sum. We can just re-use the result of the last calculation, i.e. the field in the next phase we have just calculated:</p>

<p><code>
this_phase: ... 6  9 &gt;9&lt; 8
next_phase: ... ?  ?  ? &gt;8&lt;
</code></p>

<p><code>8 + 9 = 17</code>, take the last digit (i.e. <code>modulo 10</code>) and store it in the next phase</p>

<p><code>
this_phase: ... 6  9  9  8
next_phase: ... ?  ? &gt;7&lt; 8
</code></p>

<p>In the next phase the pre-calced sum trick should be obvious:</p>

<p><code>
this_phase: ... 6  9  9  8
next_phase: ... ? &gt;?&lt; 7 8
</code></p>

<p>We could do <code>9 + 9 + 8 = 16</code>. But we have just calculated <code>9 + 8 = 17 =&gt; mod 10 =&gt; 7</code> and stored this in the next row. And thanks to math, <code>9 + 7 = 16 =&gt; mod 10 =&gt; 6</code> yields the same result as <code>9 + 9 + 8 = 16 =&gt; mod 10 =&gt; 6</code>. yay!</p>

<p>so, this will be much quicker: 9 + 7 = 16 => 6; 6 + 6 = 12 => 2, ...</p>

<p><strong>Time:</strong> 36:38 / at least 2 hours</p>

<p><strong>Rank:</strong> 2612 / 2374 - wow, good rank at 12:52:09 :-)</p>

<h2>Day 17</h2>

<p>That was a nice one, by favorite puzzle so far!</p>

<p>The first part was rather easy, just convert the Incode output to ASCII and then walk the map to find intersections.</p>

<p>For the second part, it took me some time to rework my run-loop to handle all the input/output (I should really add a proper <code>prompt</code> method to Intcode). I really liked the "live video feed" feature and spend some time implementing a clear-screen feature so I can properly view the feed.</p>

<p>For solving the actual puzzle, I was too lazy to implement anything. Instead I just counted the steps / directions by hand, wrote them down, and very easily spotted the correct pattern. This took my less then 10 minutes, considerably faster then any smart solution I could code (the human brain <strong>is</strong> a quite powerful computer / pattern detector, especially when we're only caring about one case...)</p>

<p><strong>Time:</strong> 28:24 / 56:41 (45min to get IO etc working, then 10 minutes to solve the maze by hand)</p>

<p><strong>Rank:</strong> 2072 / 1062 (damn it, just missed 3 digits, but best rank ever)</p>

<h2>Day 18</h2>

<p>No, thanks!</p>

<p><strong>Time</strong>: - / -</p>

<p><strong>Rank:</strong> - / -</p>

<h2>Day 19</h2>

<p>Part 1 was another easy Intcode test. Part 2 was not that hard (in the end), but I managed to fuck up quite spectacularly.</p>

<p>First I was doing a lookahead 100 rows down, but always used the same y coordinate. But of course you have to go to the end of the current row, subtract 100 and look down from there. As I wasn't finding anything, I did quite some calculations on the slope of the beam, and jumped 10.000 rows ahead. But I could never find something because I was looking in the wrong place.</p>

<p>After I realized that I implemented a proper lookahead, but I called my <code>scan</code> function with bad params (I forgot to pass in the row, so I was always checking the 0th row... I guess one can find an argument for strong typing or at least param validation / signatures here...)</p>

<p>After I fixed that, I found the result reasonably fast using brute force (and some skipping).</p>

<p><strong>Time</strong>: 08:59 / 02:47:06</p>

<p><strong>Rank:</strong> 1731 / 1862</p>

<h2>Day 20</h2>

<p>ugh, another maze. I still don't feel like a rat, so another skip for me...</p>

<p>But maybe I should learn how to write a maze solver some time before next advent :-)</p>

<p><strong>Time</strong>: - / -</p>

<p><strong>Rank:</strong> - / -</p>

<h2>Day 21++</h2>

<p><code>if ($holidays-&gt;started) { $me-&gt;stop('advent') }</code></p>

<p>I might do some/all tasks later...</p>

<h2>Day 22 (part 2 done on the 28th)</h2>

<p>Some simple array munging, which does not scale for part 2 :-(</p>

<p>I "solved" part 2 on the 28th; even after reading a lot of the reddit posts, I had no idea how to implement the math. So I took the Python code found <a href="https://www.reddit.com/r/adventofcode/comments/ee0rqi/2019_day_22_solutions/fbpz92k">here</a> and reimplemented it in Perl, which is rather convoluted thanks to Math::BigInt (well, at least it works...). But after getting the correct result, I figured out how to replace most of the method calls like <code>bmul</code> and <code>bsub</code> with overloaded operators, making the final code much cleaner (and more similar to the Python solution).</p>

<p><strong>Time</strong>: 32:06 / 01:24:17</p>

<p><strong>Rank:</strong> 2984 / 2617</p>

<h2>Day 23 (done on 27th evening)</h2>

<p>Some nice Intcode hacking, I added some more helpers to my Intcode (and needed to finally add buffered output..)</p>

<p>Part 1 was rather easy and straight-forward: set up 50 Intcode machines, loop through each one, set some input, get the output and set the next inputs.</p>

<p>Part 2 was basically the same, but I had a problem in my Intcode, where output values would be lost unless you very carefully collect return values. As this was too fragile, I finally added some buffered output helper methods.</p>

<p><strong>Time</strong>: 33:04 / 01:09:23</p>

<p><strong>Rank:</strong> 3463 / 3328</p>

<h2>Day 24 (done on 27th morning)</h2>

<p>The first part was a rather easy Game Of Life, which I implemented using nested arrays.</p>

<p>For the second part I converted my data structure to an hash using a string for level/row/col (<code>-3;1;3</code>) for the index. I solved the recursion by pushing new layer-tiles onto a queue (well, an array...), but somehow added a new layer each minute, resulting in a lot of empty layers. But as the runtime is 14s, I'm not very motivated to fix that bug. Oh, and I lost aprox 10 minutes because I still used the test data when submitting my result (and then tried to figure out what the bug could be..)</p>

<p><strong>Time</strong>: 33:44 / 1:56:39</p>

<p><strong>Rank:</strong> 3975 / 2896</p>

<h2>Day 25</h2>

<p>Hm, it was very easy to get some Intcode processor to manually explore the ship and figure out which items to collect where. Then it took me ages to correctly use Math::Combinatorics to get all the combinations of items to try. And in the end my Intcode just crashed after providing the hopefully correct solution (which I fixed now, see next para)</p>

<p>I verified my solution using <a href="https://github.com/choroba/">somebody elses</a> solution. ~~So it seems there is a bug in my Intcode???~~ No, the problem was that for debugging I buffered the output, but did not print the output after the last iteration. D'oh!</p>

<p><strong>Time</strong>: 2:17:57 / -</p>

<p><strong>Rank:</strong> 2142 / -</p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://domm.plix.at/perl.html" class="badge badge-primary" style="float: left">domm (Perl and other tech)</a>

              <p class="text-right"><small>Published
     on Sunday 29 November 2020 19:15</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2020/11/29#pwc088">Perl Weekly Challenge 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><h2 id="part-1">Part 1</h2>
<p><em>You are given an array of positive integers <span class="citation" data-cites="N">@N</span>. Write a script to return an array <span class="citation" data-cites="M">@M</span> where $M[i] is the product of all elements of <span class="citation" data-cites="N">@N</span> except the index $N[i].</em></p>
<h3 id="solution">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# You are given an array of positive integers @N.
# Write a script to return an array @M where $M[i] 
# is the product of all elements of @N except the index $N[i].
##
sub list_product{
    my @numbers = @_;
    my $product = 1;
    map {$product *= $_ } @numbers;
    return $product;
}

MAIN:{
    my(@N, @M);
    @N = (5, 2, 1, 4, 3);
    for my $i (0 .. (@N - 1)){
        my @numbers = @N[0 .. $i - 1, $i+1 .. (@N - 1)];
        push @M, list_product(@numbers);
    }
    print "(" . join(", ", @M) . ")\n";
    @M = ();
    @N = (2, 1, 4, 3);
    for my $i (0 .. (@N - 1)){
        my @numbers = @N[0 .. $i - 1, $i+1 .. (@N - 1)];
        push @M, list_product(@numbers);
    }
    print "(" . join(", ", @M) . ")\n";
}
</code></pre>
<h3 id="sample-run">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-1.pl
(24, 60, 120, 30, 40)
(12, 24, 6, 8)
</code></pre>
<h3 id="notes">Notes</h3>
<p>Taking the product of a list of numbers is a well known perl idiom using <a href="https://perldoc.perl.org/functions/map">map</a>. To keep the code somewhat cleaner I placed the list_product computation in it’s own subroutine. The trickiest part, then, is to make sure the list has the right element removed. This is done using array slices. as we loop over the array of numbers we construct a list of indices which do not include the current element.</p>
<p>Another possible approach would be to use a <code>map</code> inside the loop to identify the elements we want to retain. I decided against that approach since it would be a second complete full iteration over the list. To be fair, I don’t necessarily try to always make these challenge solutions all that efficient, but this just happened to strike me as particularly egregious at the time!</p>
<h2 id="part-2">Part 2</h2>
<p><em>You are given m x n matrix of positive integers. Write a script to print spiral matrix as a list.</em></p>
<h3 id="solution-1">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# You are given m x n matrix of positive integers.
# Write a script to print spiral matrix as a list.
##
sub print_remove_top{
    my(@matrix) = @_;
    print join(", ", @{$matrix[0]}) . ", ";
    splice(@matrix, 0, 1);
    return @matrix;
}

sub print_remove_right{
    my(@matrix) = @_;
    my @right;
    for my $row (@matrix){
        push @right, $row->[-1];
        my @a = @{$row}[0 .. (@{$row} - 2)];
        $row = \@a;
    }
    print join(", ", @right) . ", ";
    return @matrix;
}

sub print_remove_bottom{
    my(@matrix) = @_;
    print join(", ", reverse(@{$matrix[-1]})) . ", ";
    splice(@matrix, -1);
    return @matrix;
}

sub print_remove_left{
    my(@matrix) = @_;
    my @left;
    for my $row (@matrix){
        push @left, $row->[0];
        my @a = @{$row}[1 .. (@{$row} - 1)];
        $row = \@a;
    }
    print join(", ", reverse(@left)) . ", ";
    return @matrix;
}

sub spiral_print{
    my(@matrix) = @_;
    print "[";
    {
        @matrix = print_remove_top(@matrix) if @matrix;
        @matrix = print_remove_right(@matrix) if @matrix;
        @matrix = print_remove_bottom(@matrix) if @matrix;
        @matrix = print_remove_left(@matrix) if @matrix;
        redo if @matrix;
    }
    print "\b\b]\n";
}

MAIN:{
    spiral_print(
        [1, 2, 3],
        [4, 5, 6],
        [7, 8, 9]
    );
    spiral_print(
        [ 1,  2,  3,  4],
        [ 5,  6,  7,  8],
        [ 9, 10, 11, 12],
        [13, 14, 15, 16]
    );
}
</code></pre>
<h3 id="sample-run-1">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-2.pl
[1, 2, 3, 6, 9, 8, 7, 4, 5] 
[1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5, 6, 7, 11, 10] 
</code></pre>
<h3 id="notes-1">Notes</h3>
<p>The spiral print works in a repeated pattern from the outside in: top row, right column, bottom row, left column. My solution put each print/remove step of this pattern in their own subroutines. A few things worth pointing out</p>
<ul>
<li>The matrix is a 2d array: a perl array with inner array references.</li>
<li>In some cases I use <a href="https://perldoc.perl.org/functions/splice">splice</a> to remove from the matrix. <code>splice</code> doesn’t work on array references (since perl v5.24) so when needing to remove from the matrice’s inner array references I just use the slicing syntax.</li>
<li><a href="https://perldoc.perl.org/functions/redo">redo</a> looked better to me than the equivalent <code>while</code> loop although obviously either one would work fine.</li>
<li>for the spiral effect we need to print bottom up and right to left. In those cases I first use <a href="https://perldoc.perl.org/functions/reverse">reverse</a> on the elements being printed.</li>
</ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
     on Sunday 29 November 2020 13:56</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/c_y_fung/2020/11/cys-take-on-pwc088.html">CY's Take on PWC#088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        
<p><i>If you want to challenge yourself on programming, especially on Perl and/or Raku, go to <a href="https://perlweeklychallenge.org/">https://perlweeklychallenge.org</a>, code the latest challenges, submit codes on-time (by GitHub or email).</i><br /></p><p><br /></p><p>This blogpost is not in shortage of unanswered questions...<br /></p>



<h4>Task 1 Array of Product</h4>

<div><tt>
<b>sub&nbsp;</b><font color="#007f00">myproduct</font>&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">@arr</font>&nbsp;=&nbsp;<font color="#0000ff">@_</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">@ans</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$pre_prod</font>&nbsp;=&nbsp;<font color="#00007f">1</font>;&nbsp;&nbsp;&nbsp;<font color="#7f7f7f"><i>#&nbsp;short&nbsp;for&nbsp;"previous&nbsp;product"</i></font><font color="#7f7f7f"><i><br />
</i></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#007f00">push</font>&nbsp;<font color="#0000ff">@arr</font>,&nbsp;<font color="#00007f">1</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>for</b>&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$i</font>&nbsp;(0..<font color="#0000ff">$#arr</font>-<font color="#00007f">1</font>)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$entry</font>&nbsp;=&nbsp;<font color="#0000ff">$pre_prod</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$entry</font>&nbsp;*=&nbsp;<font color="#0000ff">$arr</font>[<font color="#0000ff"><b>$_</b></font>]&nbsp;<b>for</b>&nbsp;(<font color="#0000ff">$i</font>+<font color="#00007f">1.</font>.<font color="#0000ff">$#arr</font>);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$pre_prod</font>&nbsp;*=&nbsp;<font color="#0000ff">$arr</font>[<font color="#0000ff">$i</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#007f00">push</font>&nbsp;<font color="#0000ff">@ans</font>,&nbsp;<font color="#0000ff">$entry</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>return</b>&nbsp;\<font color="#0000ff">@ans</font>;<br />
}<br />
</tt></div>

<div>The above, I designed, is a prototype for multiplication (and division, if possible) when it is expensive to do mulitplication,
such as matrices. Since I don't know much about
<a href="https://en.wikipedia.org/wiki/Matrix_multiplication_algorithm">those algorithmic knowledge</a>, just leave the codes here for personal future digestion.</div>

<div>---</div>

<div>What I have submitted is an one-liner:</div>

<div><tt><font color="#333333">perl -e '</font>
<b>for</b>&nbsp;<font color="#0000ff">$j</font>&nbsp;(0..<font color="#007f00">scalar</font>&nbsp;<font color="#0000ff"><b>@ARGV</b></font>-<font color="#00007f">1</font>)&nbsp;{<font color="#0000ff">$a</font>&nbsp;=&nbsp;<font color="#00007f">1</font>;&nbsp;<font color="#007f00">eval</font>&nbsp;{<font color="#0000ff">$a</font>&nbsp;*=&nbsp;<font color="#0000ff"><b>$ARGV</b></font>[<font color="#0000ff"><b>$_</b></font>]&nbsp;<b>if</b>&nbsp;<font color="#0000ff"><b>$_</b></font>&nbsp;!=&nbsp;<font color="#0000ff">$j</font>}&nbsp;<b>for</b>&nbsp;(0..<font color="#007f00">scalar</font>&nbsp;<font color="#0000ff"><b>@ARGV</b></font>-<font color="#00007f">1</font>);&nbsp;<font color="#007f00">print</font>&nbsp;<font color="#ffa500">"</font><font color="#0000ff">$a</font><font color="#ff0000">&nbsp;</font><font color="#ffa500">"</font>;&nbsp;}<font color="#333333">' 5 2 1 3 4</font><br />
</tt></div>

<div><br /><br />I get another item for "investigation" here. Why doesn't the following line work?</div>

<div><tt><font color="#333333">perl -e '</font>
<b>for</b>&nbsp;<font color="#0000ff">$j</font>&nbsp;(0..<font color="#007f00">scalar</font>&nbsp;<font color="#0000ff"><b>@ARGV</b></font>-<font color="#00007f">1</font>)&nbsp;{<font color="#0000ff">$a</font>&nbsp;=&nbsp;<font color="#00007f">1</font>;&nbsp;<font color="#007f00">eval</font>&nbsp;{<font color="#0000ff">$a</font>&nbsp;*=&nbsp;<font color="#0000ff"><b>$ARGV</b></font>[<font color="#0000ff"><b>$i</b></font>]&nbsp;<b>if</b>&nbsp;<font color="#0000ff"><b>$i</b></font>&nbsp;!=&nbsp;<font color="#0000ff">$j</font>}&nbsp;<b>for</b>&nbsp;<font color="#0000ff">$i</font>&nbsp;(0..<font color="#007f00">scalar</font>&nbsp;<font color="#0000ff"><b>@ARGV</b></font>-<font color="#00007f">1</font>);&nbsp;<font color="#007f00">print</font>&nbsp;<font color="#ffa500">"</font><font color="#0000ff">$a</font><font color="#ff0000">&nbsp;</font><font color="#ffa500">"</font>;&nbsp;}<font color="#333333">' 5 2 1 3 4</font><br /></tt>


<h4><br /></h4><h4>Task 2 Spiral Matrix</h4>

<h5>the Testing</h5>

<div>This is time for <tt>Test::Deep</tt> and <tt>Test::More</tt> again:</div>

<pre>cmp_deeply(
    flat([[  1,  2,  3],
    [  4, 5,  6,],
    [  7, 8, 9,  ]]),
    [ 1, 2, 3, 6, 9, 8, 7, 4, 5  ]
, "Example 1");
cmp_deeply(
    flat([[  1,  2,  3,  4 ],
    [  5,  6,  7,  8 ],
    [  9, 10, 11, 12 ],
    [ 13, 14, 15, 16 ]]), 
    [ 1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5, 6, 7, 11, 10 ]
, "Example 2");
cmp_deeply(
    flat([[  1,  2,  3],
    [  4, 5,  6,]]),
    [ 1, 2, 3, 6, 5, 4 ]
, "small test case");

cmp_deeply(
    flat([
    [ 2, 3, 5, 7],
    [11,13,17,19],
    [23,29,31,37],
    [41,43,47,53],
    [59,61,67,71]])
, [2, 3, 5, 7, 19, 37, 53, 71, 67, 61, 59,
    41, 23, 11, 13, 17, 31, 47, 43, 29]
, "prime numbers 5 x 4");
</pre>

<pre>$ perl ch-2.pl
1..4
ok 1 - Example 1
ok 2 - Example 2
ok 3 - small test case
ok 4 - prime numbers 5 x 4
</pre>

Or customize a test:

<pre>$ perl ch-2.pl 3 5 A B C D E F G H I J K L M N 
[A, B, C, D, E]
[F, G, H, I, J]
[K, L, M, N, O]
A, B, C, D, E, J, O, N, M, L, K, F, G, H, I
</pre>

<h5>the codes</h5>

<div>Honestly I did not plan much on the task. (I) I created a "helper matrix" (<tt>@helper_mat</tt>)
 to record which terms on the original matrix is traversed: traversed, 
1; not yet traversed, 0. (II) I went through the outermost terms -- the 
four sides -- of the matrix by counting off one by one. (III) I made use
 of a boolean variable <tt>$success_click</tt> to tackle the change of direction.</div>

<div><tt>
<b>sub&nbsp;</b><font color="#007f00">flat</font>&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">@ans</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">@mat</font>&nbsp;=&nbsp;<font color="#0000ff">@</font>{<font color="#0000ff"><b>$_</b></font>[0]};&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$M</font>&nbsp;=&nbsp;<font color="#007f00">scalar</font>&nbsp;<font color="#0000ff">@mat</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$N</font>&nbsp;=&nbsp;<font color="#007f00">scalar</font>&nbsp;<font color="#0000ff">@</font>{<font color="#0000ff">$mat</font>[0]};<br />
<br />
<font color="#7f7f7f"><i>#&nbsp;(I)&nbsp;initialize&nbsp;of&nbsp;the&nbsp;helper&nbsp;matrix</i></font><font color="#7f7f7f"><i><br />
</i></font>&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">@helper_mat</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#007f00">push</font>&nbsp;<font color="#0000ff">@helper_mat</font>,&nbsp;[(<font color="#ffa500">"</font><font color="#ff0000">0</font><font color="#ffa500">"</font>)&nbsp;x&nbsp;<font color="#0000ff">$N</font>]&nbsp;<b>for</b>&nbsp;(0..<font color="#0000ff">$M</font>-<font color="#00007f">1</font>);<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">@row_dir</font>&nbsp;=&nbsp;(&nbsp;&nbsp;0,&nbsp;<font color="#00007f">+1</font>,&nbsp;&nbsp;0,&nbsp;<font color="#00007f">-1</font>&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">@col_dir</font>&nbsp;=&nbsp;(&nbsp;<font color="#00007f">+1</font>,&nbsp;&nbsp;0,&nbsp;<font color="#00007f">-1</font>,&nbsp;&nbsp;0&nbsp;);<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;(<font color="#0000ff">$r</font>,&nbsp;<font color="#0000ff">$c</font>)&nbsp;=&nbsp;(&nbsp;0&nbsp;,&nbsp;0&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#007f00">push</font>&nbsp;<font color="#0000ff">@ans</font>,&nbsp;<font color="#0000ff">$</font>{<font color="#0000ff">$mat</font>[<font color="#0000ff">$r</font>]}[<font color="#0000ff">$c</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$</font>{<font color="#0000ff">$helper_mat</font>[<font color="#0000ff">$r</font>]}[<font color="#0000ff">$c</font>]&nbsp;=&nbsp;<font color="#00007f">1</font>;<br />
<font color="#7f7f7f"><i>#&nbsp;end&nbsp;(I)</i></font><font color="#7f7f7f"><i><br />
</i></font><br />
<font color="#7f7f7f"><i>#&nbsp;(II): &nbsp;preparation&nbsp;of&nbsp;clockwise&nbsp;traverse&nbsp;of&nbsp;the&nbsp;outermost&nbsp;part&nbsp;of&nbsp;the&nbsp;matrix</i></font><font color="#7f7f7f"><i><br />
</i></font>&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">@numbering</font>&nbsp;=&nbsp;(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<font color="#00007f">1.</font>.<font color="#0000ff">$N</font>-<font color="#00007f">1</font>],&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<font color="#0000ff">$N</font>..<font color="#0000ff">$N</font>+<font color="#0000ff">$M</font>-<font color="#00007f">2</font>],&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<font color="#0000ff">$N</font>+<font color="#0000ff">$M</font>-<font color="#00007f">1.</font>.<font color="#0000ff">$N</font>+<font color="#0000ff">$M</font>+<font color="#0000ff">$N</font>-<font color="#00007f">3</font>],&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<font color="#0000ff">$N</font>+<font color="#0000ff">$M</font>+<font color="#0000ff">$N</font>-<font color="#00007f">2.</font>.(<font color="#0000ff">$M</font>-<font color="#00007f">1</font>)*<font color="#00007f">2</font>+(<font color="#0000ff">$N</font>-<font color="#00007f">1</font>)*<font color="#00007f">2</font>-<font color="#00007f">1</font>]<br />
&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br />
<font color="#7f7f7f"><i>(II): traverse the outermost matrix terms</i></font><font color="#7f7f7f"><i><br />
</i></font>
&nbsp;&nbsp;&nbsp;&nbsp;<b>for</b>&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$q</font>&nbsp;(0.<font color="#00007f">.3</font>)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>for</b>&nbsp;(<font color="#0000ff">@</font>{<font color="#0000ff">$numbering</font>[<font color="#0000ff">$q</font>]})&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$r</font>&nbsp;+=&nbsp;<font color="#0000ff">$row_dir</font>[<font color="#0000ff">$q</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$c</font>&nbsp;+=&nbsp;<font color="#0000ff">$col_dir</font>[<font color="#0000ff">$q</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#007f00">push</font>&nbsp;<font color="#0000ff">@ans</font>,&nbsp;<font color="#0000ff">$</font>{<font color="#0000ff">$mat</font>[<font color="#0000ff">$r</font>]}[<font color="#0000ff">$c</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$</font>{<font color="#0000ff">$helper_mat</font>[<font color="#0000ff">$r</font>]}[<font color="#0000ff">$c</font>]&nbsp;=&nbsp;<font color="#00007f">1</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<font color="#7f7f7f"><i>#&nbsp;end&nbsp;(II)</i></font><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$time_now</font>&nbsp;=&nbsp;<font color="#00007f">3</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$success_click</font>&nbsp;=&nbsp;<font color="#007f00">undef</font>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#7f7f7f"><i>#(III)</i></font><font color="#7f7f7f"><i><br />
</i></font>&nbsp;&nbsp;&nbsp;&nbsp;<b>my</b>&nbsp;<font color="#0000ff">$count</font>&nbsp;=&nbsp;(<font color="#0000ff">$M</font>-<font color="#00007f">1</font>)*<font color="#00007f">2</font>+(<font color="#0000ff">$N</font>-<font color="#00007f">1</font>)*<font color="#00007f">2</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>while</b>&nbsp;(<font color="#0000ff">$count</font>&nbsp;&lt;&nbsp;<font color="#0000ff">$M</font>*<font color="#0000ff">$N</font>)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>if</b>&nbsp;(<font color="#0000ff">$success_click</font>)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$r</font>&nbsp;+=&nbsp;<font color="#0000ff">$row_dir</font>[<font color="#0000ff">$time_now</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$c</font>&nbsp;+=&nbsp;<font color="#0000ff">$col_dir</font>[<font color="#0000ff">$time_now</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>if</b>&nbsp;(<font color="#0000ff">$</font>{<font color="#0000ff">$helper_mat</font>[<font color="#0000ff">$r</font>]}[<font color="#0000ff">$c</font>]&nbsp;==&nbsp;0)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#007f00">push</font>&nbsp;<font color="#0000ff">@ans</font>,&nbsp;<font color="#0000ff">$</font>{<font color="#0000ff">$mat</font>[<font color="#0000ff">$r</font>]}[<font color="#0000ff">$c</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$</font>{<font color="#0000ff">$helper_mat</font>[<font color="#0000ff">$r</font>]}[<font color="#0000ff">$c</font>]&nbsp;=&nbsp;<font color="#00007f">1</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$success_click</font>&nbsp;=&nbsp;<font color="#00007f">1</font>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$count</font>++;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<b>else</b>&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$success_click</font>&nbsp;=&nbsp;<font color="#007f00">undef</font>;&nbsp;&nbsp;<font color="#7f7f7f"><i>#(III)&nbsp;</i></font><font color="#7f7f7f"><i><br />
</i></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$r</font>&nbsp;<font color="#ffa500">-</font>=&nbsp;<font color="#0000ff">$row_dir</font>[<font color="#0000ff">$time_now</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$c</font>&nbsp;<font color="#ffa500">-</font>=&nbsp;<font color="#0000ff">$col_dir</font>[<font color="#0000ff">$time_now</font>];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<b>else</b>&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$time_now</font>&nbsp;=&nbsp;(<font color="#0000ff">$time_now</font>+<font color="#00007f">1</font>)&nbsp;%&nbsp;4;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">$success_click</font>&nbsp;=&nbsp;<font color="#00007f">1</font>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#7f7f7f"><i>#(III)</i></font><font color="#7f7f7f"><i><br />
</i></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;<b>return</b>&nbsp;\<font color="#0000ff">@ans</font>;<br />
}<br />
<br />
</tt></div>

<h5>Extras</h5>

<div><i>Here I am going to describe two extra functionalities I added:</i></div>

<div>(A) I find that addition or modification of a few lines can create anticlockwise traverse:</div>

<div><tt>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">@row_dir</font>&nbsp;=&nbsp;<font color="#007f00">map</font>&nbsp;{<font color="#0000ff"><b>$_</b></font>&nbsp;=&nbsp;-<font color="#0000ff"><b>$_</b></font>}&nbsp;(<font color="#007f00">reverse</font>&nbsp;<font color="#0000ff">@row_dir</font>);<br />
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">@col_dir</font>&nbsp;=&nbsp;<font color="#007f00">map</font>&nbsp;{<font color="#0000ff"><b>$_</b></font>&nbsp;=&nbsp;-<font color="#0000ff"><b>$_</b></font>}&nbsp;(<font color="#007f00">reverse</font>&nbsp;<font color="#0000ff">@col_dir</font>);<br />
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">@numbering</font>&nbsp;=&nbsp;(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<font color="#00007f">1.</font>.<font color="#0000ff">$M</font>-<font color="#00007f">1</font>],&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<font color="#0000ff">$M</font>..<font color="#0000ff">$N</font>+<font color="#0000ff">$M</font>-<font color="#00007f">2</font>],&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<font color="#0000ff">$N</font>+<font color="#0000ff">$M</font>-<font color="#00007f">1.</font>.<font color="#0000ff">$N</font>+<font color="#0000ff">$M</font>+<font color="#0000ff">$M</font>-<font color="#00007f">3</font>],&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<font color="#0000ff">$N</font>+<font color="#0000ff">$M</font>+<font color="#0000ff">$M</font>-<font color="#00007f">2.</font>.(<font color="#0000ff">$M</font>-<font color="#00007f">1</font>)*<font color="#00007f">2</font>+(<font color="#0000ff">$N</font>-<font color="#00007f">1</font>)*<font color="#00007f">2</font>-<font color="#00007f">1</font>]<br />
&nbsp;&nbsp;&nbsp;&nbsp;);<br />
</tt></div>

<div><br /></div><div><br /></div><div><br /></div><div>(B) An inverse subroutine <tt>&amp;matrixize</tt> for the original task: given parameters <tt>m</tt>, <tt>n</tt>, put a list of <tt>m x n</tt> integers as a <tt>m x n</tt> spiral matrix.</div>

<div>
<br /><br />
Code inserted:
<div><pre><tt><b>my</b>&nbsp;<font color="#0000ff">@test</font>&nbsp;=&nbsp;matrixize([<font color="#00007f">1..60</font>],&nbsp;<font color="#00007f">6</font>,&nbsp;<font color="#00007f">10</font>);<br />
print_matrix([<font color="#0000ff">@test</font>]);<br />
<font color="#007f00">print</font>&nbsp;<font color="#ffa500">"</font><font color="#ff0000">test&nbsp;end</font><font color="#ff00ff">\n</font><font color="#ffa500">"</font>;<br />
</tt></pre></div>

Output:
<pre>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[28, 29, 30, 31, 32, 33, 34, 35, 36, 11]
[27, 48, 49, 50, 51, 52, 53, 54, 37, 12]
[26, 47, 60, 59, 58, 57, 56, 55, 38, 13]
[25, 46, 45, 44, 43, 42, 41, 40, 39, 14]
[24, 23, 22, 21, 20, 19, 18, 17, 16, 15]
test end

</pre>
</div>

<div>The codes for this subroutine (<tt>&amp;matrixize</tt>) largely reuse that in <tt>&amp;flat</tt>.</div><div><br /></div>

<h5>Dissatifaction</h5>

<div><ol><li>As said, can one make a more maintainable and concise version of <tt>&amp;matrixize</tt> and <tt>&amp;flat</tt>? (A bit more thought: the current <tt>&amp;matrixize</tt> has only clockwise version.)</li><li>I could set every initial term as <tt>0</tt>, <tt>'z'</tt>, <tt>'.'</tt> or <tt>undef</tt>, etc. , hence skipped <tt>@helper_mat</tt> with little amount of typing. Is there a case which a <tt>@helper_mat</tt> is really need?</li><li><tt>$success</tt> changes once or none for each occupant of the 
matrix (a note for more preciseness: except those of the "perimeter" of 
the matrix). Are there any cases which a <tt>$success</tt> is need to change twice? (Or change with respect to a task with more subtlies?)</li></ol></div>

<div>For the latter two questions, I am thinking whether irregular 2D boards can make full use of <tt>@helper_mat</tt> and <tt>$success</tt>. But <u>not</u> every irregular 2D polyomino can have a spiral path traversing each grid... </div>

<div>...</div>
<div>...</div>
<div>...</div>

<hr>

<p><i>Do tell or correct me, if you have oppositions, want to discuss or give me advice!</i></p>

<p>Stay alert and healthy! □</p>


<div><i>link for codes: 
<tt><a href="https://github.com/E7-87-83/perlweeklychallenge-club/tree/master/challenge-088/cheok-yin-fung/perl/ch-1.pl">ch-1.pl</a></tt>
, <tt><a href="https://github.com/E7-87-83/perlweeklychallenge-club/tree/master/challenge-088/cheok-yin-fung/perl/ch-2.pl">ch-2.pl</a></tt></i>
</div>


<hr>
<pre>Irregular boards:

sample input 1:
######### 
# * * x #
# * * * # 
# * * * # 
# * * x # 
#########

sample output 1:
######### 
# 0 1 x #
# 9 2 3 # 
# 8 5 4 # 
# 7 6 x # 
#########

sample input 2:
######### 
# * * x #
# * * * # 
# * * * # 
# x * * # 
#########

sample output 2:
######### 
# 0 1 x #
# 9 2 3 # 
# 8 7 4 # 
# x 6 5 # 
#########

sample input 3:
######### 
# * * * #
# * * * # 
# x * * # 
# x * * # 
#########

sample output 3:
######### 
# 0 1 2 #
# 9 8 3 # 
# x 7 4 # 
# x 6 5 # 
#########
</pre>




</div>
        
           </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by C.-Y. Fung
     on Sunday 29 November 2020 12:06</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/zakame/a-few-tips-for-perl-on-docker-and-kubernetes-29bg">A few tips for Perl on Docker and Kubernetes</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p><a class="comment-mentioned-user" href="https://dev.to/davorg">@davorg</a>
 started a thread on the FB <a href="https://web.facebook.com/groups/perlcommunity/permalink/877301896410771/">Perl Community</a> and <a href="https://web.facebook.com/groups/perlprogrammers/permalink/3786053688094058/">Perl Programmers</a> about <a href="https://hub.docker.com/_/perl">docker-perl</a>, and as its maintainer, I'm overdue sharing some tips about it so might as well write them here now:</p>

<h3>
  <a href="#use-a-custom-nametag-for-perl-images-you-use" class="anchor">
  </a>
  Use a custom name/tag for Perl images you use
</h3>

<p>As documented in the Docker Hub, one can use the <code>perl</code> image with something like<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker pull perl
docker run <span class="nt">-it</span> perl perl <span class="nt">-E</span> <span class="s1">'say "hi there from Docker!"'</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>While doing this is enough for simple or exploratory cases, it is inadequate for development or deployment scenarios, as <code>perl</code> alone will pull the latest Perl image <em>build</em> of the latest supported Perl version (which is <code>5.32.0</code> <em>now</em> but could be different later on.)  Fortunately, docker-perl provides <em>tags</em> to indicate specific versions (as well as options like <code>:threaded</code>) or size variants (like <code>:slim</code>) so one can also do<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker pull perl:5.32-buster
docker run <span class="nt">-it</span> perl:5.32-buster perl <span class="nt">-E</span> <span class="s1">'say qq{hi again!}'</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>There is another concern though: while Docker images have tags, these tags are <em>floating</em> in the sense that they don't always point to the same underlying image layer at creation time, as tags can be updated to point to another layer.  This is best seen in the <code>:latest</code> tag which Docker uses by default when calling images with their bare names, but this behavior is also present in any other tags like <code>:5</code> which is pointing currently to <code>:5.32.0</code>, but might later be updated to point to <code>:5.32.1</code> or even <code>:5.34.0</code>, when the <a href="https://github.com/docker-library/official-images/blob/master/library/perl">perl manifest on docker-library/official-images</a> is updated.</p>

<p>These tags also get updated indirectly by way of updates on their <em>base</em> images; as docker-perl uses the <a href="https://hub.docker.com/_/buildpack-deps"><code>buildpack-deps</code></a> or <a href="https://hub.docker.com/_/debian/"><code>debian:slim</code></a> base images, when these get updated for security patches, these patches will eventually make their way into the <code>perl</code> images as well through the <a href="https://doi-janky.infosiftr.net/job/multiarch/">official-images build tooling</a>.</p>

<p>For cases that require finer control of images, it might be helpful then to use a custom image name, tag, or both, when using docker-perl:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker pull perl:5.32-slim-threaded-buster
docker tag perl:5.32-slim-threaded-buster myorg/perl:5.32
docker run <span class="nt">-it</span> myorg/perl:5.32 perl <span class="nt">-e</span> <span class="s1">'printf "hello from myorg/perl v%vd!\n", $^V'</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>This allows for some independence for updates and development between the <code>perl</code> published on Docker Hub and <code>myorg</code>'s custom <code>perl</code> image:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight docker"><code><span class="c"># docker build -t myorg/myapp:dev .</span>
<span class="k">FROM</span><span class="s"> myorg/perl:5.32</span>
<span class="k">ADD</span><span class="s"> . /app</span>
<span class="k">WORKDIR</span><span class="s"> /app</span>
<span class="k">RUN </span>cpanm <span class="nt">--installdeps</span> .
<span class="k">CMD</span><span class="s"> ["perl", "myapp.pl"]</span>
...
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#consider-keeping-a-localprivate-registry-to-host-perl-images" class="anchor">
  </a>
  Consider keeping a local/private registry to host Perl images
</h3>

<p>Using the perl images (especially like in the previous section) means that these will be copied into the local Docker host image storage, usually in <code>/var/lib/docker/images</code> but could vary depending on what <a href="https://docs.docker.com/storage/storagedriver/select-storage-driver/">storage driver</a> your host is using.  While this is usually enough in simple cases, consider that the base <code>perl</code> image is usually big (around 700-800MB unpacked,) so pulling this image afresh over multiple container hosts on a network will probably be wasteful.</p>

<p>Hence it is usually recommended to have some kind of local or private <em>registry</em> in the host or on a network if frequently working with containers (and more so if internet connectivity is slower/expensive.)  There are several approaches to do this, and I've written about these before in my old blog:</p>

<ul>
<li><a href="https://zakame.net/blog/2017/12/composing-a-docker-hub-mirror-and-private-registry.html">Composing a Docker Hub mirror and private registry</a></li>
<li><a href="https://zakame.net/blog/2017/07/mirroring-the-docker-hub.html">Mirroring the Docker Hub</a></li>
</ul>

<p>Nowadays though, there are more options for using local/private registries: for example, if you have a Kubernetes cluster running in your network (or even as a small setup like <a href="https://microk8s.io">microk8s</a>, or an internal Docker container cluster using <a href="https://kind.sigs.k8s.io">KinD</a> or <a href="https://k3d.io">k3d</a>,) there's usually an addon <br>
that enables a local registry on the cluster.  Here's <a href="https://microk8s.io/docs/registry-built-in">an example</a> for microk8s, which I extended for my own local network to be served under a <a href="https://kubernetes.github.io/ingress-nginx/examples/tls-termination/">TLS ingress</a>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>microk8s <span class="nb">enable </span>registry
microk8s kubectl apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">REGISTRY_SVC</span><span class="sh">
apiVersion: v1
kind: Service
metadata:
  name: registry
  namespace: default
spec:
  # microk8s deploys registry in its own namespace, so reach out
  externalName: registry.container-registry.svc.cluster.local
  ports:
  - name: registry
    port: 5000
    protocol: TCP
    targetPort: 5000
  type: ExternalName
</span><span class="no">REGISTRY_SVC
</span>microk8s kubectl apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">REGISTRY_INGRESS</span><span class="sh">
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: registry
  namespace: default
spec:
  rules:
  # I don't own home.example btw, just for illustration;
  # I use globally-accessible subdomains pointing to private IP
  - host: registry.home.example
    http:
      paths:
      - backend:
          serviceName: registry
          servicePort: 5000
  tls:
  - hosts:
    - registry.home.example
    secretName: wildcard-home-example
</span><span class="no">REGISTRY_INGRESS
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>I have a <a href="https://letsencrypt.org">LetsEncrypt</a> wildcard SSL cert installed and maintained on my microk8s via <a href="https://cert-manager.io">cert-manager</a>, so this lets me push to this registry anywhere on my local network as<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>docker push myorg/perl:5.32 registry.home.example/myorg/perl:5.32
docker push myorg/myapp:dev registry.home.example/myorg/myapp:dev
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>and on somewhere else which might be running <a href="https://podman.io">Podman</a> instead:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>podman run <span class="nt">-it</span> registry.home.example/myorg/perl:5.32 perl <span class="nt">-V</span>
podman run <span class="nt">-d</span> registry.home.example/myorg/myapp:dev
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>It also works on authoring <code>Dockerfile</code>s, especially useful when implementing GitOps workflows:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight docker"><code><span class="c"># docker build -t myorg/mojo:8.65</span>
<span class="c"># docker push myorg/mojo:8.65 registry.home.example/myorg/mojo:8.65</span>
<span class="k">FROM</span><span class="s"> registry.home.example/myorg/perl:5.32</span>
<span class="k">RUN </span>cpanm Mojolicious@8.65
<span class="k">EXPOSE</span><span class="s"> 3000</span>
<span class="k">CMD</span><span class="s"> ["/usr/local/bin/mojo", "daemon"]</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>For more sophisticated/production deployments, consider using <a href="https://goharbor.io/">Harbor</a> or vendors such as <a href="https://aws.amazon.com/ecr/">Amazon ECR</a>, <a href="https://cloud.google.com/container-registry/">Google Container Registry</a> or <a href="https://quay.io/">Red Hat Quay</a>.</p>

<h3>
  <a href="#use-container-entrypoint-for-proper-signals-handling-in-perl" class="anchor">
  </a>
  Use container entrypoint for proper signals handling in Perl
</h3>

<p>This is already documented in the <a href="https://github.com/docker-library/docs/tree/master/perl#signal-handling-behavior-notice">official-images docs</a> for perl, but bears repeating here: containers don't provide a <em>parent init process</em> by default, which means that when starting a new container, any <a href="https://docs.docker.com/engine/reference/builder/#entrypoint">ENTRYPOINT</a> or <a href="https://docs.docker.com/engine/reference/builder/#cmd">CMD</a> set in the image the container will boot from will usually become the parent process within this container.  This is important to note here for Perl (and also for other languages) as these tend to fall back to their parent init process for handling signals, so without this, it can appear to become unresponsive:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>docker run perl:5.32 perl -E 'sleep 300'
^C
[refuses to die, even if sent SIGINT like above]
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>This is particularly important for Kubernetes, as its <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/">container pod lifecycle</a> can use signals to probe for liveness or readiness of containers, and a running pod/container can seem to "hang" around indefinitely if these signals aren't handled correctly.</p>

<p>For perl, one needs to install a <a href="https://perldoc.pl/perlipc#Signals"><code>%SIG</code> handler</a> if they want/need to run perl directly as PID 1:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>docker run perl:5.32 perl -E '$SIG{TERM} = sub { $sig++; say "recv TERM" }; sleep 300; say "waking up" if $sig'
^C
waking up
recv TERM
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>For most normal deployments however, it is easier to use a tool like <a href="https://github.com/krallin/tini">tini</a>, <a href="https://github.com/openSUSE/catatonit">catatonit</a>, or <a href="https://github.com/Yelp/dumb-init">dumb-init</a> for the container's <code>ENTRYPOINT</code>, alongside your perl script/executable in <code>CMD</code>, for example this small <a href="https://mojolicious.org">Mojolicious</a> demo:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight docker"><code><span class="c"># docker build -t mojo-with-tini:dev .</span>
<span class="k">FROM</span><span class="s"> perl:5.32-buster</span>
<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> <span class="se">\
</span>    apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="nt">--no-install-recommends</span> tini <span class="o">&amp;&amp;</span> <span class="se">\
</span>    cpanm Mojolicious
<span class="k">ENTRYPOINT</span><span class="s"> ["/usr/bin/tini", "--"]</span>
<span class="k">EXPOSE</span><span class="s"> 3000</span>
<span class="k">CMD</span><span class="s"> ["/usr/local/bin/mojo", "daemon"]</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>For Kubernetes, one can also set the <a href="https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#notes"><code>command</code> and <code>args</code></a> for a pod:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>kubectl apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">MOJO_POD</span><span class="sh">
apiVersion: v1
kind: Pod
metadata:
  name: mojo-with-tini-demo
  labels:
    purpose: demonstrate-perl-signal-handling
spec:
  containers:
  - name: mojo-with-tini-demo-container
    image: mojo-with-tini:dev
    # redundant as we already set these in the Dockerfile above,
    # but showing here for illustration
    command: ["/usr/bin/tini", "--"]
    args: ["/usr/local/bin/mojo", "daemon"]
</span><span class="no">MOJO_POD
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#outro" class="anchor">
  </a>
  Outro
</h3>

<p>There's a few more tips on the queue that I'd write more here but this post is getting rather long now, so maybe later.</p>

<p>I'd love to hear more about how people use docker-perl, and especially more about how make developing Perl projects on container environments easier!</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Zak B. Elep
     on Sunday 29 November 2020 11:49</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/jeongoon/weekly-challenge-088-task-1-perl-raku-and-more-1nlf">Weekly Challenge #088 Task #2 :: (Perl, Raku and More) </a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><h2>
  <a href="#task-2-spiral-matrix" class="anchor">
  </a>
  <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-088/#TASK2"><strong>TASK #2 › Spiral Matrix</strong></a>
</h2>

<p>Submitted by: Mohammad S Anwar</p>

<p>You are given m x n matrix of positive integers.</p>

<p>Write a script to print spiral matrix as list.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>Example 1:

Input:
    [ 1, 2, 3 ]
    [ 4, 5, 6 ]
    [ 7, 8, 9 ]
Ouput:
    [ 1, 2, 3, 6, 9, 8, 7, 4, 5 ]
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>





<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>Example 2:

Input:
    [  1,  2,  3,  4 ]
    [  5,  6,  7,  8 ]
    [  9, 10, 11, 12 ]
    [ 13, 14, 15, 16 ]
Output:
    [ 1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5, 6, 7, 11, 10 ]
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h2>
  <a href="#imperative-approach-perl-golang-commonlisp" class="anchor">
  </a>
  <strong>Imperative approach</strong> (<a href="https://github.com/jeongoon/perlweeklychallenge-club/blob/master/challenge-088/jeongoon/perl/ch-2.pl">Perl</a>, <a href="https://github.com/jeongoon/perlweeklychallenge-club/blob/master/challenge-088/jeongoon/go/ch-2.go">Golang</a>, <a href="https://github.com/jeongoon/perlweeklychallenge-club/blob/master/challenge-088/jeongoon/common-lisp/ch-2.lsp">Common-lisp</a>)
</h2>

<p>When I finished the common-lisp solution, I think this approach is better because there is no worry about side effect and no more manipulating data during the process.</p>

<p>To do get a spiral array from a matrix, we need to know how to read outside cells around the matrix.<br>
Let's go as if there is <em>no offset</em> to get inside cells by going through spiral way.</p>
<h3>
  <a href="#north-segment" class="anchor">
  </a>
  <strong>North Segment</strong>
</h3>

<p>To be fair, nothing to say much of this one<br>
because it is natural way to read a row(array)<br>
this is a perl code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="nb">push</span> <span class="nv">@spiralArray</span><span class="p">,</span> <span class="nv">@mat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># reading top(first) of the matrix</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#east-segment" class="anchor">
  </a>
  <strong>East Segment</strong>
</h3>

<p>also has natural way to read column, but the cell rightmost on the top of matrix is already read. so we need to skip the cell.<br>
Firstly let's look into golang code because it is good language for imperative approach.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight go"><code><span class="o">...</span>
<span class="k">if</span> <span class="n">num_rows</span> <span class="o">&gt;</span> <span class="m">1</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">r</span> <span class="o">:=</span> <span class="m">1</span><span class="p">;</span> <span class="n">r</span> <span class="o">&lt;=</span> <span class="n">row_end</span><span class="p">;</span> <span class="n">r</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">sarr</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">sarr</span><span class="p">,</span> <span class="n">mat</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">col_end</span><span class="p">])</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="o">...</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>and common-lisp code might be<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight common_lisp"><code><span class="o">...</span>
   <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">east-side</span> <span class="p">(</span><span class="nb">loop</span> <span class="nv">for</span> <span class="nv">r</span> <span class="nv">from</span> <span class="p">(</span><span class="nb">1+</span> <span class="nv">o</span><span class="p">)</span> <span class="nv">upto</span> <span class="nv">row-end</span>
                           <span class="nv">collect</span> <span class="p">(</span><span class="nb">aref</span> <span class="nv">mat</span> <span class="nv">r</span> <span class="nv">col-end</span><span class="p">))))</span>
     <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">not</span> <span class="p">(</span><span class="nb">null</span> <span class="nv">east-side</span><span class="p">))</span>
       <span class="p">(</span><span class="nb">nconc</span> <span class="nv">sarray</span> <span class="nv">east-side</span><span class="p">)</span>
<span class="o">...</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>Common-lisp has nice macro for <em>loop</em>, very impressive every time I discover something more.</p>

<p>But I applied some different method in Perl,<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="o">...</span>
    <span class="nb">push</span> <span class="nv">@spiral_array</span><span class="p">,</span>
      <span class="nb">map</span> <span class="p">{</span> <span class="vg">$_</span><span class="o">-&gt;</span><span class="p">[</span><span class="nv">$col_end</span><span class="p">]</span> <span class="p">}</span> <span class="nv">@mat</span><span class="p">[</span> <span class="nv">$o</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$row_end</span> <span class="p">];</span>
<span class="o">...</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>Yeah... I know. it look weird. I'm obsessed with <em>map</em> in this period. but in Raku, we can write much better. below code is pseudo code but it seems alright.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code> <span class="nv">@spiral</span><span class="o">-</span><span class="nv">array</span><span class="o">.</span><span class="nv">append</span><span class="p">(</span> <span class="nv">@matrix</span><span class="p">[</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$row_end</span><span class="p">;</span> <span class="nv">$col_end</span><span class="p">]</span> <span class="p">)</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>I think this is really really cool. handy and straightforward!!</p>

<h3>
  <a href="#south-segment" class="anchor">
  </a>
  <strong>South Segment</strong>
</h3>

<p>south one is little more different, because the cell in the right most at the bottom is already scanned before. we need to omit those again. and also we need to reverse the order of occurrence of the cells<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="o">...</span>
    <span class="c1"># south</span>
    <span class="k">if</span> <span class="p">(</span> <span class="nv">$num_cols</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nb">push</span> <span class="nv">@spiral_array</span><span class="p">,</span>
          <span class="nv">@</span><span class="p">{</span><span class="nv">$mat</span><span class="p">[</span><span class="nv">$row_end</span><span class="p">]}</span>  <span class="c1"># bottom</span>
            <span class="p">[</span> <span class="nb">reverse</span> <span class="mi">1</span> <span class="o">..</span> <span class="p">(</span><span class="nv">$col_end</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">];</span> <span class="c1"># reverse order as well</span>
<span class="o">...</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#west-segment" class="anchor">
  </a>
  <strong>West Segment</strong>
</h3>

<p>last one has shortest member due to other segment are greed so they all get what they could.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="o">...</span>
    <span class="c1"># west</span>
      <span class="k">if</span> <span class="p">(</span> <span class="nv">$num_rows</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
          <span class="nb">push</span> <span class="nv">@spiral_array</span><span class="p">,</span>
            <span class="nb">map</span> <span class="p">{</span> <span class="vg">$_</span><span class="o">-&gt;</span><span class="p">[</span><span class="nv">$o</span><span class="p">]</span> <span class="p">}</span> <span class="nb">reverse</span> <span class="nv">@mat</span><span class="p">[</span> <span class="nv">$o</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$row_end</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">];</span>
      <span class="p">}</span>
<span class="o">...</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#how-to-go-inside-onion-matrix" class="anchor">
  </a>
  <strong>How to go inside Onion 🧅 (matrix)??</strong>
</h3>

<p>I applied offset variable which is grows every time we are done to read one layer of matrix and go inside the matrix. and numbers of rows and numbers of columns also reduced along with offset variable.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="o">...</span>
    <span class="k">for</span> <span class="p">(</span> <span class="k">my</span> <span class="nv">$o</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$num_rows</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nv">$num_cols</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="o">++</span><span class="nv">$o</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">my</span> <span class="p">(</span><span class="nv">$row_end</span><span class="p">,</span> <span class="nv">$col_end</span><span class="p">)</span> <span class="o">=</span> <span class="nb">map</span> <span class="p">{</span> <span class="nv">$o</span> <span class="o">+</span> <span class="vg">$_</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span> <span class="nv">$num_rows</span><span class="p">,</span> <span class="nv">$num_cols</span><span class="p">;</span>
    <span class="o">...</span> <span class="nv">snip</span> <span class="o">...</span>
       <span class="c1"># go inner matrix</span>
        <span class="nv">$num_rows</span> <span class="o">-=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="nv">$num_cols</span> <span class="o">-=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
<span class="o">...</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>And also we need to change the code to work with offset variable and num_rows and num_cols! so I leave the full code of the function called "getSpiralArrayFromMatrixRef()"<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">sub </span><span class="nf">getSpiralArrayFromMatrixRef</span> <span class="p">($)</span> <span class="p">{</span>
    <span class="k">my</span> <span class="nv">@mat</span> <span class="o">=</span> <span class="nv">@</span><span class="p">{</span><span class="vg">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]};</span> <span class="c1"># copy</span>

    <span class="k">my</span> <span class="nv">$num_rows</span> <span class="o">=</span> <span class="nb">scalar</span> <span class="nv">@mat</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">$num_cols</span> <span class="o">=</span> <span class="nb">scalar</span> <span class="nv">@</span><span class="p">{</span><span class="nv">$mat</span><span class="p">[</span><span class="mi">0</span><span class="p">]};</span>

    <span class="k">my</span> <span class="nv">@spiral_array</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span> <span class="k">my</span> <span class="nv">$o</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$num_rows</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nv">$num_cols</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="o">++</span><span class="nv">$o</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">my</span> <span class="p">(</span><span class="nv">$row_end</span><span class="p">,</span> <span class="nv">$col_end</span><span class="p">)</span> <span class="o">=</span> <span class="nb">map</span> <span class="p">{</span> <span class="nv">$o</span> <span class="o">+</span> <span class="vg">$_</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span> <span class="nv">$num_rows</span><span class="p">,</span> <span class="nv">$num_cols</span><span class="p">;</span>

        <span class="c1"># north</span>
        <span class="nb">push</span> <span class="nv">@spiral_array</span><span class="p">,</span> <span class="nv">@</span><span class="p">{</span><span class="nv">$mat</span><span class="p">[</span><span class="nv">$o</span><span class="p">]}[</span><span class="nv">$o</span> <span class="o">..</span> <span class="nv">$col_end</span><span class="p">];</span>
        <span class="c1"># east</span>
        <span class="k">if</span> <span class="p">(</span> <span class="nv">$num_rows</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nb">push</span> <span class="nv">@spiral_array</span><span class="p">,</span>
              <span class="nb">map</span> <span class="p">{</span> <span class="vg">$_</span><span class="o">-&gt;</span><span class="p">[</span><span class="nv">$col_end</span><span class="p">]</span> <span class="p">}</span> <span class="nv">@mat</span><span class="p">[</span> <span class="nv">$o</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$row_end</span> <span class="p">];</span>
            <span class="c1"># south</span>
            <span class="k">if</span> <span class="p">(</span> <span class="nv">$num_cols</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nb">push</span> <span class="nv">@spiral_array</span><span class="p">,</span>
                  <span class="nv">@</span><span class="p">{</span><span class="nv">$mat</span><span class="p">[</span><span class="nv">$row_end</span><span class="p">]}[</span> <span class="nb">reverse</span> <span class="nv">$o</span> <span class="o">..</span> <span class="p">(</span><span class="nv">$col_end</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">];</span>
                <span class="c1"># west</span>
                <span class="k">if</span> <span class="p">(</span> <span class="nv">$num_rows</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="nb">push</span> <span class="nv">@spiral_array</span><span class="p">,</span>
                      <span class="nb">map</span> <span class="p">{</span> <span class="vg">$_</span><span class="o">-&gt;</span><span class="p">[</span><span class="nv">$o</span><span class="p">]</span> <span class="p">}</span> <span class="nb">reverse</span> <span class="nv">@mat</span><span class="p">[</span> <span class="nv">$o</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$row_end</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">];</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="c1"># go inner matrix</span>
        <span class="nv">$num_rows</span> <span class="o">-=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="nv">$num_cols</span> <span class="o">-=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nv">@spiral_array</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#a-bit-functional-approach-raku-haskell" class="anchor">
  </a>
  <strong>A bit Functional Approach</strong> (<a href="https://github.com/jeongoon/perlweeklychallenge-club/blob/master/challenge-088/jeongoon/raku/ch-2.raku">Raku</a>, <a href="https://github.com/jeongoon/perlweeklychallenge-club/blob/master/challenge-088/jeongoon/haskell/ch-2.hs">Haskell</a>)
</h3>

<p>In Raku, I made a function called <em>peel-off</em> which read outside of matrix in clockwise and return it with inner matrix<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">sub </span><span class="nf">peel</span><span class="p">-off( @a ) {</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$re</span><span class="p">,</span> <span class="nv">$ce</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@a</span><span class="o">.</span><span class="nv">end</span><span class="p">,</span> <span class="nv">@a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="nv">end</span><span class="p">;</span>

    <span class="k">my</span> <span class="nv">@inside</span>  <span class="o">=</span> <span class="nv">@a</span><span class="p">[</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$re</span><span class="o">.</span><span class="nv">pred</span><span class="p">;</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$ce</span><span class="o">.</span><span class="nv">pred</span> <span class="p">]</span> <span class="sr">//</span> <span class="nv">Empty</span><span class="p">;</span>
    <span class="nv">@inside</span> <span class="o">.=</span> <span class="nv">rotor</span><span class="p">(</span><span class="nv">$ce</span><span class="o">.</span><span class="nv">pred</span><span class="p">)</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="o">*.</span><span class="nv">Array</span><span class="p">)</span> <span class="k">if</span> <span class="nv">@inside</span><span class="p">;</span> 
    <span class="k">my</span> <span class="nv">@outside</span> <span class="o">=</span> <span class="nv">@a</span><span class="p">[</span> <span class="mi">0</span><span class="p">;</span> <span class="o">*</span> <span class="p">];</span>                           <span class="c1"># outside of top</span>

    <span class="k">for</span> <span class="p">(</span> <span class="p">[</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$re</span><span class="p">;</span>     <span class="nv">$ce</span>         <span class="p">],</span>                <span class="c1"># outside of right</span>
          <span class="p">[</span> <span class="nv">$re</span><span class="p">;</span>          <span class="nv">$ce</span><span class="o">.</span><span class="nv">pred</span><span class="p">,</span>
                          <span class="nv">$ce</span><span class="o">.</span><span class="nv">pred</span><span class="o">.</span>
                           <span class="nv">pred</span> <span class="o">...</span> <span class="mi">0</span> <span class="p">],</span>                <span class="c1"># outside of bottom</span>
          <span class="p">[</span> <span class="nv">$re</span><span class="o">.</span><span class="nv">pred</span><span class="p">,</span>
            <span class="nv">$re</span><span class="o">.</span><span class="nv">pred</span><span class="o">.</span>
             <span class="nv">pred</span> <span class="o">...</span> <span class="mi">1</span><span class="p">;</span>   <span class="mi">0</span>         <span class="p">]</span>  <span class="p">)</span>               <span class="c1"># outside of left</span>
    <span class="o">-&gt;</span> <span class="p">(</span> <span class="nv">$rr</span><span class="p">,</span> <span class="nv">$cr</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">last</span> <span class="k">unless</span> <span class="nv">all</span><span class="p">(</span> <span class="nv">$rr</span><span class="o">.</span><span class="nv">elems</span><span class="o">.</span><span class="nv">so</span><span class="p">,</span> <span class="nv">$cr</span><span class="o">.</span><span class="nv">elems</span><span class="o">.</span><span class="nv">so</span> <span class="p">);</span>  <span class="c1"># out of range</span>
        <span class="nv">@outside</span><span class="o">.</span><span class="nv">append:</span> <span class="nv">@a</span><span class="p">[</span><span class="nv">$rr</span><span class="p">[</span><span class="o">*</span><span class="p">];</span> <span class="nv">$cr</span><span class="p">[</span><span class="o">*</span><span class="p">]];</span>
    <span class="p">}</span>

    <span class="nv">@inside</span><span class="p">,</span> <span class="nv">@outside</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>Raku works quite well with range in a matrix, so I use a <em>for loop</em> to iterate the row and column range for each segment. and basically this was my first solution. and I need to go inside by using <em>repeat</em> .. <em>while</em> loop<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="k">my</span> <span class="p">(</span> <span class="nv">$in</span><span class="p">,</span> <span class="nv">$out</span> <span class="p">);</span>
<span class="nv">repeat</span> <span class="p">{</span>
    <span class="p">(</span> <span class="nv">$in</span><span class="p">,</span> <span class="nv">$out</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">peel</span><span class="o">-</span><span class="nv">off</span><span class="p">(</span> <span class="nv">@mat</span> <span class="p">);</span>
    <span class="nv">@spiral</span><span class="o">.</span><span class="nv">append:</span> <span class="o">|</span><span class="nv">$out</span><span class="p">;</span>
    <span class="nv">@mat</span> <span class="o">=</span> <span class="o">|</span><span class="nv">$in</span><span class="p">;</span>

<span class="p">}</span> <span class="k">while</span> <span class="p">(</span> <span class="nv">@mat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="nv">andthen</span> <span class="p">{</span> <span class="o">.</span><span class="nv">elems</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">}</span> <span class="p">);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>It works as I expected without many debugging.</p>

<p>In Haskell, I could use more higher order function called <em>unfoldr</em><br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight haskell"><code><span class="n">getSpiralAarray</span> <span class="o">::</span> <span class="p">[[</span><span class="kt">String</span><span class="p">]]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span>
<span class="n">getSpiralAarray</span> <span class="n">mat</span> <span class="o">=</span>
  <span class="n">foldr1</span> <span class="p">(</span><span class="o">++</span><span class="p">)</span>
  <span class="p">(</span> <span class="n">unfoldr</span> <span class="p">(</span><span class="nf">\</span><span class="n">m</span> <span class="o">-&gt;</span>
                 <span class="kr">case</span> <span class="n">m</span> <span class="kr">of</span>
                   <span class="kt">Nothing</span> <span class="o">-&gt;</span> <span class="kt">Nothing</span>
                   <span class="kt">Just</span> <span class="n">m'</span> <span class="o">-&gt;</span> <span class="kr">case</span> <span class="p">(</span><span class="n">getInnerMatrix</span> <span class="n">m'</span><span class="p">)</span> <span class="kr">of</span>
                                <span class="kt">Left</span>  <span class="kr">_</span>   <span class="o">-&gt;</span> <span class="kt">Just</span> <span class="p">(</span><span class="n">outOf</span> <span class="n">m'</span><span class="p">,</span> <span class="kt">Nothing</span><span class="p">)</span>
                                <span class="kt">Right</span> <span class="n">m''</span> <span class="o">-&gt;</span> <span class="kt">Just</span> <span class="p">(</span><span class="n">outOf</span> <span class="n">m'</span><span class="p">,</span> <span class="kt">Just</span> <span class="n">m''</span><span class="p">))</span>
      <span class="p">(</span><span class="kt">Just</span> <span class="n">mat</span><span class="p">)</span> <span class="p">)</span>
  <span class="kr">where</span> <span class="n">outOf</span> <span class="n">m</span> <span class="o">=</span> <span class="n">readAroundMatrixCW</span> <span class="n">m</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>and I make a function for reading outside of matrix and another one for get inner matrix separately<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight haskell"><code><span class="n">getInnerMatrix</span> <span class="o">::</span> <span class="p">[[</span><span class="kt">String</span><span class="p">]]</span> <span class="o">-&gt;</span> <span class="kt">Either</span> <span class="kt">String</span> <span class="p">[[</span><span class="kt">String</span><span class="p">]]</span>
<span class="n">getInnerMatrix</span> <span class="n">m</span>
  <span class="o">|</span> <span class="n">length</span> <span class="n">m</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">=</span> <span class="kt">Left</span> <span class="s">"Too Short In Row"</span>
  <span class="o">|</span> <span class="n">otherwise</span> <span class="o">=</span> <span class="n">mapCutColumns</span> <span class="kt">[]</span> <span class="n">getShorterInRows</span>
    <span class="kr">where</span>
      <span class="n">mapCutColumns</span> <span class="n">acc</span> <span class="kt">[]</span> <span class="o">=</span> <span class="kt">Right</span> <span class="n">acc</span>
      <span class="n">mapCutColumns</span> <span class="n">acc</span> <span class="p">(</span><span class="n">r</span><span class="o">:</span><span class="n">rs</span><span class="p">)</span> <span class="o">=</span>
        <span class="kr">case</span> <span class="n">getShorterInCols</span> <span class="n">r</span> <span class="kr">of</span>
          <span class="kt">Nothing</span> <span class="o">-&gt;</span> <span class="kt">Left</span> <span class="s">"Too Short In Column"</span>
          <span class="kt">Just</span> <span class="n">r'</span> <span class="o">-&gt;</span> <span class="n">mapCutColumns</span> <span class="p">(</span><span class="n">acc</span> <span class="o">++</span> <span class="p">[</span><span class="n">r'</span><span class="p">])</span> <span class="n">rs</span>
      <span class="n">getShorterInRows</span> <span class="o">=</span> <span class="p">(</span><span class="n">init</span><span class="o">.</span><span class="n">tail</span><span class="p">)</span> <span class="n">m</span> <span class="c1">-- cut top and bottom</span>
      <span class="n">getShorterInCols</span> <span class="n">row</span> <span class="o">=</span>
        <span class="kr">if</span> <span class="p">(</span><span class="n">length</span> <span class="n">row</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="kr">then</span> <span class="kt">Nothing</span>
        <span class="kr">else</span> <span class="kt">Just</span> <span class="o">$</span> <span class="p">(</span><span class="n">init</span><span class="o">.</span><span class="n">tail</span><span class="p">)</span> <span class="n">row</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<blockquote>
<p>(init.tail) composition works like @a[1..$#a] in Perl<br>
this code is not efficient probably, but I think it is easier to debug. Debugging in Haskell is not easy, IMHO. Especially it is not when debugging a pure function.</p>
</blockquote>

<p>and To reading outside...<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight haskell"><code><span class="n">readAroundMatrixCW</span> <span class="o">::</span> <span class="p">[[</span><span class="kt">String</span><span class="p">]]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span>
<span class="n">readAroundMatrixCW</span> <span class="kt">[]</span> <span class="o">=</span> <span class="kt">[]</span>
<span class="n">readAroundMatrixCW</span> <span class="n">m</span> <span class="o">=</span>
  <span class="n">foldr1</span> <span class="p">(</span><span class="o">++</span><span class="p">)</span> <span class="o">$</span>
  <span class="n">getNorth</span>
  <span class="o">:</span> <span class="kr">case</span> <span class="n">findEast</span> <span class="kr">of</span>
      <span class="kt">Nothing</span> <span class="o">-&gt;</span> <span class="kt">[]</span>
      <span class="kt">Just</span>  <span class="n">e</span> <span class="o">-&gt;</span> <span class="n">e</span>
        <span class="o">:</span> <span class="kr">case</span> <span class="n">findSouth</span> <span class="kr">of</span>
            <span class="kt">Nothing</span> <span class="o">-&gt;</span> <span class="kt">[]</span>
            <span class="kt">Just</span>  <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span>
              <span class="o">:</span> <span class="kr">case</span> <span class="n">findWest</span> <span class="kr">of</span>
                  <span class="kt">Nothing</span> <span class="o">-&gt;</span> <span class="kt">[]</span>
                  <span class="kt">Just</span>  <span class="n">w</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">w</span><span class="p">]</span>
  <span class="kr">where</span>
<span class="o">...</span> <span class="n">snip</span> <span class="o">...</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>I skipped the <em>where</em> part for blog purpose. main different thing is that I need to specify the every return value in branch. and I'm still happy with that. This kind of practice helps a lot when creating a function in Perl as well.</p>

<h2>
  <a href="#elm-solution" class="anchor">
  </a>
  <a href="https://github.com/jeongoon/perlweeklychallenge-club/blob/master/challenge-088/jeongoon/elm/src/Ch2.elm"><strong>Elm Solution</strong></a>
</h2>

<p>After noticing there is some chance to produce unnecessary data, I made another type of solution in Elm(basically function programming language). I confessed that it is hardest to debug. because it is not handy to access the element in the list in Elm. perhaps I need to zip the each row number or column number along with the data but I just use <em>drop</em>, <em>take</em> and "head" composition.<br>
code below is for reading west segment in Elm.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight elm"><code><span class="o">...</span>
        <span class="n">west</span>  <span class="o">=</span> <span class="cm">{-if L.isEmpty south then []
                else-}</span> <span class="c1">-- already checked previously</span>
                <span class="k">if</span> <span class="n">nr</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="k">then</span> <span class="p">[]</span>
                <span class="k">else</span> <span class="n">mat</span>
                    <span class="o">|&gt;</span> <span class="kt">L</span><span class="o">.</span><span class="n">drop</span> <span class="p">(</span><span class="n">o</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                    <span class="o">|&gt;</span> <span class="kt">L</span><span class="o">.</span><span class="n">take</span> <span class="p">(</span><span class="n">nr</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
                    <span class="o">|&gt;</span> <span class="kt">L</span><span class="o">.</span><span class="n">reverse</span>
                    <span class="o">|&gt;</span> <span class="kt">L</span><span class="o">.</span><span class="n">filterMap</span> <span class="p">(</span><span class="kt">L</span><span class="o">.</span><span class="n">drop</span> <span class="n">o</span> <span class="o">&gt;&gt;</span> <span class="kt">L</span><span class="o">.</span><span class="n">head</span><span class="p">)</span>
<span class="o">...</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>But I really enjoyed the syntax <em>|&gt;</em> because it makes more readable for most of programmer even if this is a functional programming language!!! we don't need to read from bottom to top anymore!!<br>
<em>&gt;&gt;</em> is an composition operator (which is same as <em>.</em> in Haskell) but applying order is left from right as the arrow direction indicate. so <em>&lt;&lt;</em> has the normal composition way as <em>.</em> does.</p>

<p>Okay. That's all for this week.<br>
Please don't forget the visit~~!!<br>
<a href="https://perlweeklychallenge.org">🐪PWC🦋</a></p>

<p>I'll have my holiday for challenge. I need to do something more important things in my life.<br>
and I'll come back next year!!! 👋<br>
say $_ for "Merry Christmas", "and", "Happy New Year!!";<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight perl"><code><span class="nv">$Myoungjin_JEON</span><span class="o">=</span><span class="err">@@</span><span class="o">=</span><span class="sx">qw^rekcaH lreP rehtonA tsuJ^</span><span class="p">;</span><span class="vg">$|</span><span class="o">++</span><span class="p">;{</span><span class="nv">$i</span><span class="o">=</span><span class="nv">$like</span><span class="o">=</span><span class="nb">pop</span><span class="nv">@@</span><span class="p">;</span><span class="nb">unshift</span><span class="err">@@</span><span class="p">,</span><span class="nv">$i</span><span class="p">;</span><span class="vg">$~</span><span class="o">=</span><span class="mi">18</span><span class="o">-</span><span class="nb">length</span><span class="nv">$i</span><span class="p">;</span><span class="k">print</span><span class="p">"</span><span class="se">\r</span><span class="s2">[</span><span class="p">","</span><span class="s2">~</span><span class="p">"</span><span class="nv">x</span> <span class="nb">abs</span><span class="p">,(</span><span class="nb">scalar</span> <span class="nb">reverse</span><span class="nv">$i</span><span class="p">),"</span><span class="s2">~</span><span class="p">"</span><span class="nv">x</span><span class="p">(</span><span class="vg">$~</span><span class="o">-</span><span class="nb">abs</span><span class="p">),"</span><span class="s2">]</span><span class="p">"</span><span class="ow">and</span> <span class="nb">select</span><span class="nv">$good</span><span class="p">,</span><span class="nv">$day</span><span class="p">,</span><span class="nv">$mate</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="err">$</span><span class="o">~</span><span class="k">for</span> <span class="mi">0</span><span class="o">..</span><span class="vg">$~</span><span class="p">,</span><span class="o">-</span><span class="vg">$~</span><span class="o">+</span><span class="mi">1</span><span class="o">..-</span><span class="mi">1</span><span class="p">;</span><span class="k">redo</span><span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Myoungjin Jeon
     on Sunday 29 November 2020 11:44</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/samir_parikh/2020/11/perl-weekly-challenge-088.html">Perl Weekly Challenge 088</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>Despite the holiday week here in the U.S., I was able to tackle this week's <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-088/">Perl Weekly Challenge</a>.  I have to say that this week's challenge was the most satisfying for me as it allowed me to not only come up with a novel solution (for me!), but it also provided an opportunity for me to leverage two areas of Perl programming that have been a real challenge for me:  recursion and references.  The deadline to submit solutions for this challenge is <a href="https://www.timeanddate.com/countdown/generic?iso=20201129T2359&amp;p0=136&amp;msg=Perl+Weekly+Challenge+088+Deadline&amp;font=serif">fast approaching</a> so if you haven't solved it yourself yet, you may want to come back to this post later.</p>

<h2>Task 1</h2>

<p><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-088/#TASK1">Task #1</a>, "Array of Product", asks the following:</p>

<blockquote>
  <p>You are given an array of positive integers <code>@N</code>.</p>

<p>Write a script to return an array <code>@M</code> where <code>$M[i]</code> is the product of all elements of <code>@N</code> except the index <code>$N[i]</code>.</p>

<p>Example 1:</p>
</blockquote>

<pre><code>    Input:
        @N = (5, 2, 1, 4, 3)
    Output:
        @M = (24, 60, 120, 30, 40)

        $M[0] = 2 x 1 x 4 x 3 = 24
        $M[1] = 5 x 1 x 4 x 3 = 60
        $M[2] = 5 x 2 x 4 x 3 = 120
        $M[3] = 5 x 2 x 1 x 3 = 30
        $M[4] = 5 x 2 x 1 x 4 = 40
</code></pre>

<blockquote>
  <p>Example 2:</p>
</blockquote>

<pre><code>    Input:
        @N = (2, 1, 4, 3)
    Output:
        @M = (12, 24, 6, 8)

        $M[0] = 1 x 4 x 3 = 12
        $M[1] = 2 x 4 x 3 = 24
        $M[2] = 2 x 1 x 3 = 6
        $M[3] = 2 x 1 x 4 = 8
</code></pre>

<p>Like many of my prior solutions, I settled for using a brute force technique to solve this task.  I used an outer <code>for</code> loop iterating a variable <code>$i</code> which moves through each element in the input array <code>@N</code>.  An inner <code>for</code> loop using the variable <code>$j</code> does the same thing.  Both loops start at index <code>0</code> and go through the last index of the array.  An <code>if</code> statement checks to see whether or not <code>$i</code> and <code>$j</code> are equal.  If they are <em>not</em>, we update the running <code>$product</code> variable which is keeping track of our current product for <code>$M[0]</code>, <code>$M[1]</code>, etc. to satisfy the "product of all elements of <code>@N</code> except the index <code>$N[i]</code>" portion of the requirement.  If <code>i$</code> and <code>$j</code> are equal, we just move on to the next value of <code>$j</code>.  Once we are done executing the inner loop for a given value of <code>$i</code>, we update our output array <code>@M</code> by <code>push</code>ing the current value of <code>$product</code> into the end of the array <code>@M</code>.</p>

<p>This was actually the easy part.</p>

<p>The difficult part was formatting the output to match what was given in the challenge.  Not only do you have to print the summary of the products of the elements, e.g.:</p>

<pre><code>@M = (24, 60, 120, 30, 40)
</code></pre>

<p>but you also have to print the individual products for each element of <code>@M</code>:</p>

<pre><code>$M[0] = 2 x 1 x 4 x 3 = 24
$M[1] = 5 x 1 x 4 x 3 = 60
$M[2] = 5 x 2 x 4 x 3 = 120
$M[3] = 5 x 2 x 1 x 3 = 30
$M[4] = 5 x 2 x 1 x 4 = 40
</code></pre>

<p>The tricky part is you have to print the summary <strong>before</strong> the individual line items have been determined (i.e. you don't know what the final elements of the array <code>@M</code> are until you calculate them all).</p>

<p>To solve this portion of the problem, I relied on two string variables:  <code>$m_string</code> and <code>$output_string</code>.  The former string contains each individual product equation for each element of the array <code>@M</code>:</p>

<pre><code>$M[2] = 5 x 2 x 4 x 3 = 120
</code></pre>

<p>I update <code>$m_string</code> by "building it up" during each iteration of the inner <code>for my $j</code> loop by adding each element of the input array <code>@N</code> and the multiplication sign ("<code>x</code>").  The multiplication symbol is printed <em>before</em> each number and thus is not required for the first element, hence the <code>if ($first)</code> statement.  At the conclusion of the inner <code>for</code> loop, I update <code>$m_string</code> with the final product:</p>

<pre><code>$m_string .= " = " . $product;
</code></pre>

<p>and then append the whole string to <code>$output_string</code> which contains the overall detailed line items:</p>

<pre><code>$output_string .= "\t". $m_string . "\n";
</code></pre>

<p>Once we are done executing through both of our loops, I can then print the summary of the <code>@M</code> array followed by the detailed line items which are stored in <code>$output_string</code>.  I thought this was a pretty clever solution (for me) to storing the intermediate results before we had to print them.  Originally, I was going to write the intermediate results to a temporary file but then thought better of it.  Putting it all together, we come up with our solution:</p>

<pre><code>use warnings;
use strict;
use diagnostics;
use v5.10;

# run program as:
# $ ./ch-1.pl "100, 4, 50, 3, 2"
my @N = split /, /, $ARGV[0];
my @M;
my $output_string = "";

for (my $i = 0; $i &lt; scalar(@N); $i++) {
    my $product = 1;
    my $m_string = "\$M[" . $i . "] = ";
    my $first = 1;
    for (my $j = 0; $j &lt; scalar(@N); $j++) {
        my $print_x;
        if ($i != $j) {
            $product = $product * $N[$j];
            if ($first) {
                $print_x = "";
                $first = 0;
            } else {
                $print_x = " x ";
            }
            $m_string .= $print_x . $N[$j]; 
        }
    }
    push (@M, $product);
    $m_string .= " = " . $product;
    $output_string .= "\t". $m_string . "\n";
}

say "Input:\n\t\@N = (", join(", ", @N), ")";
say "Output:";
say "\t\@M = (", join(", ", @M), ")\n";
say "$output_string";
</code></pre>

<h2>Task 2</h2>

<p><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-088/#TASK2">Task #2</a>, "Spiral Matrix", was the one I was both most looking forward to and dreading at the same time!  The task states: </p>

<blockquote>
  <p>You are given <code>m x n</code> matrix of positive integers.</p>

<p>Write a script to print a spiral matrix as a list.</p>

<p>Example 1:</p>
</blockquote>

<pre><code>    Input:
        [ 1, 2, 3 ]
        [ 4, 5, 6 ]
        [ 7, 8, 9 ]
    Output:
        [ 1, 2, 3, 6, 9, 8, 7, 4, 5 ]
</code></pre>

<blockquote>
  <p>Example 2:</p>
</blockquote>

<pre><code>    Input:
        [  1,  2,  3,  4 ]
        [  5,  6,  7,  8 ]
        [  9, 10, 11, 12 ]
        [ 13, 14, 15, 16 ]
    Output:
        [ 1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5, 6, 7, 11, 10 ]
</code></pre>

<p>I was excited because I've solved similar spiral challenges like this before using Python, specifically <a href="https://projecteuler.net/problem=28">Problem 28</a> of the <a href="https://projecteuler.net/about">Project Euler</a> series of coding problems.  In my version, I used a series of <code>for</code> loops to work my way around a two-dimensional array.  But for this task of Challenge 088, I wanted to try my hand at using a recursive solution which has been a <a href="https://samirparikh.com/blog/permutations-and-recursion.html">pain point</a> for me.  I also got the sense that this problem would also require me to work with Perl references and multi-dimensional arrays, other areas where I've <a href="https://www.perlmonks.org/?node_id=11123691">been</a> <a href="https://www.perlmonks.org/?node_id=11124042">struggling</a>.  But despite these reservations, I plowed ahead and here is what I did.</p>

<p>The main portion of the solution resides in the subroutine <code>return_spiral</code>.  I pass it a two-dimensional array, <code>@array</code>, which is formulated using the subroutine <code>define_matrix</code> which I've <a href="https://samirparikh.com/blog/perl-weekly-challenge-084.html">used</a> <a href="https://samirparikh.com/blog/perl-weekly-challenge-087.html">before</a>.  The purpose of <code>return_spiral</code> is to return an array, <code>@spiral</code>, comprised solely of those elements around the perimeter of <code>@array</code>, starting at the top-left corner and then moving in a clockwise fashion, plus the resulting two-dimensional matrix that remains.  For example, if we were to pass it the array <code>@array</code> in Example 2 from above:</p>

<pre><code>[  1,  2,  3,  4 ]
[  5,  6,  7,  8 ]
[  9, 10, 11, 12 ]
[ 13, 14, 15, 16 ]
</code></pre>

<p>the subroutine should return a simple array <code>@spiral</code>:</p>

<pre><code>(1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5)
</code></pre>

<p>and the remaining two-dimensional array:</p>

<pre><code>[  6,  7 ]
[ 10, 11 ]
</code></pre>

<p>which gets passed back to the subroutine in a recursive fashion.  To make it recursive, I'd need a statement like:</p>

<pre><code>return ( @spiral, &amp;return_spiral(@array) );
</code></pre>

<p>To get the elements around the perimeter of the array, there are four steps (since there are four "sides" to the matrix):</p>

<ol>
<li>Get the elements in the first row using the statement <code>push ( @spiral, @{$array[0]} )</code>.</li>
<li>Get the elements in the right column, going down, using the <code>for my $y</code> loop</li>
<li>Get the elements of the last row (in reverse order) using the statement <code>push ( @spiral, reverse ( @{$array[$#array]} ) )</code>.</li>
<li>Get the elements of the left column, going up, using the <code>for my $i</code> loop.</li>
</ol>

<p>All recursive functions need what is called a "base case", or terminating condition.  Otherwise, you'd end up in an endless loop.  For my subroutine, I actually came up with four base cases which would cause the subroutine to ultimately finish by just returning the spiral portion of the array.  Those four cases are:</p>

<ol>
<li>The array has just one row.</li>
<li>The array has just one column.</li>
<li>The array has just two rows.</li>
<li>The array has just two columns. </li>
</ol>

<p>I check the first two conditions near the beginning of the subroutine.  Assuming that the array passed to <code>return_spiral</code> has at least two rows and two columns, I check the third and fourth terminating conditions after we've done one "lap" around the array to define <code>@spiral</code>.  The checks for the third and fourth base cases is done by the <code>if</code> statement:</p>

<pre><code>if (scalar( @array ) == 2 || scalar ( @{$array[0]} ) == 2)
</code></pre>

<p>If that <code>if</code> statement is true, that means that the array that was originally passed to <code>return_spiral</code> only had two rows or two columns, in which case one "lap" around the array is all we need.</p>

<p>If we haven't hit a base case, the subroutine "trims" off the peripheral elements we've populated in the array <code>@sprial</code> using a series of <code>shift</code> and <code>pop</code> statements and concludes with returning both the <code>@sprial</code> array (which contains all of the elements around the perimeter of the original array) and by recursively calling the subroutine itself with the remaining interior elements of <code>@array</code>.  The resulting script becomes:</p>

<pre><code>use v5.10;
use warnings;
use strict;

# assumptions:
# matrix does not have to be square
# spiral is clockwise

sub define_matrix {
    open (INPUT, '&lt;', $_[0]) or die "$!: could not open file $_[0]";
    say "Input:";
    my (@line, @matrix);
    while (&lt;INPUT&gt;) {
        chomp;
        say $_;
        s/\s+//g; # remove any whitespace
        s/\[//;
        s/\]//;
        @line = split /,/, $_;
        push (@matrix, [@line]);
    }
    close (INPUT) or die "$!: could not close file $_[0]";
    return ( @matrix );
}

sub return_spiral {
    my @array = @_;
    my @spiral;
# handle special cases
# just one row
    if (scalar(@array) == 1) {
        return ( @{$array[0]} );
# just one column
    } elsif ( scalar ( @{$array[0]} ) == 1 ) {
        for (my $i = 0; $i &lt; scalar(@array); $i++) {
            push ( @spiral, @{$array[$i]}[0] );
        }
        return ( @spiral );
# we have at least a 2 x 2 array
    } else {
# get first row
        push ( @spiral, @{$array[0]} );
# get right column
        my $right_ci = scalar ( @{$array[0]} ) - 1;
        for (my $y = 1; $y &lt; scalar ( @array ); $y++) {
            push ( @spiral, @{$array[$y]}[$right_ci] );
        }
# remove last element from last row
        pop ( @{$array[$#array]} );
# get last row in reversed order
        push ( @spiral, reverse ( @{$array[$#array]} ) );
# get left column
        for (my $i = ($#array - 1); $i &gt; 0; $i--) {
            push ( @spiral, @{$array[$i]}[0] );
        }
# check if resulting array is empty (i.e. we were originally sent
# just a two-row or two-column array to begin with
        if (scalar( @array ) == 2 || scalar ( @{$array[0]} ) == 2) {
            return ( @spiral );
        } else {
# trim array
# trim top row:
            shift @array;
# trim bottom row:
            pop @array;
# remove first and last element from remaining rows
            for (my $i = 0; $i &lt; scalar(@array); $i++) {
                shift ( @{$array[$i]} );
                pop   ( @{$array[$i]} );
            }
            return ( @spiral, &amp;return_spiral(@array) );
        }
    }
}

my @matrix = &amp;define_matrix($ARGV[0]);
my @spiral2 = &amp;return_spiral(@matrix);
say "Output:";
say "[ ", join(", ", @spiral2), " ]";
</code></pre>

<p>I suppose that I could have combined the "trim" operations with the statements where I traverse the perimeter in the first place to populate <code>@spiral</code> to tighten up the script, but in the end, that wasn't an optimization I had the energy to pursue.</p>

<p>As I said before, I really enjoyed working on this week's tasks and solving the programming and algorithmic challenges they presented.  I'm eager to see how others in the Perl Weekly Challenge community came up with their own solution as there is always so much to learn from them.  Until next time!</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Samir Parikh
     on Sunday 29 November 2020 13:04</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2020/11/cccxvii-9-cpan-great-modules-released.html">(cccxvii) 9 CPAN great modules released last week</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br/><br/><ol><li><a href='https://metacpan.org/release/SKAJI/App-cpm-0.995' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>App::cpm</span></b></a> - a fast CPAN module installer <ul>  <li>Version: <strong>0.995</strong> on 2020-11-28</li>  <li>Votes: 49</li>  <li>Previous version: 0.994 was 21 days before</li></ul></li><li><a href='https://metacpan.org/release/DOMM/App-TimeTracker-3.005' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>App::TimeTracker</span></b></a> - time tracking for impatient and lazy command line lovers <ul>  <li>Version: <strong>3.005</strong> on 2020-11-22</li>  <li>Votes: 14</li>  <li>Previous version: 3.004 was 3 months, 12 days before</li></ul></li><li><a href='https://metacpan.org/release/MHX/Convert-Binary-C-0.84' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Convert::Binary::C</span></b></a> - Binary Data Conversion using C Types <ul>  <li>Version: <strong>0.84</strong> on 2020-11-23</li>  <li>Votes: 13</li>  <li>Previous version: 0.83 was 4 days before</li></ul></li><li><a href='https://metacpan.org/release/ETJ/Graph-0.9711' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Graph</span></b></a> - graph data structures and algorithms <ul>  <li>Version: <strong>0.9711</strong> on 2020-11-27</li>  <li>Votes: 20</li>  <li>Previous version: 0.9708 was 21 days before</li></ul></li><li><a href='https://metacpan.org/release/JBERGER/Mojo-JWT-0.09' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Mojo::JWT</span></b></a> - JSON Web Token the Mojo way <ul>  <li>Version: <strong>0.09</strong> on 2020-11-22</li>  <li>Votes: 14</li>  <li>Previous version: 0.08 was 1 year, 11 months, 18 days before</li></ul></li><li><a href='https://metacpan.org/release/HAARG/Moo-2.004004' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Moo</span></b></a> - Minimalist Object Orientation (with Moose compatibility) <ul>  <li>Version: <strong>2.004004</strong> on 2020-11-25</li>  <li>Votes: 277</li>  <li>Previous version: 2.004003 was 4 days before</li></ul></li><li><a href='https://metacpan.org/release/ETHER/Package-Stash-0.39' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Package::Stash</span></b></a> - Routines for manipulating stashes <ul>  <li>Version: <strong>0.39</strong> on 2020-11-22</li>  <li>Votes: 27</li>  <li>Previous version: 0.38 was 1 year, 10 months, 22 days before</li></ul></li><li><a href='https://metacpan.org/release/PEVANS/Syntax-Keyword-Try-0.20' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Syntax::Keyword::Try</span></b></a> - a try/catch/finally syntax for perl <ul>  <li>Version: <strong>0.20</strong> on 2020-11-24</li>  <li>Votes: 31</li>  <li>Previous version: 0.18 was 3 months, 23 days before</li></ul></li><li><a href='https://metacpan.org/release/CORION/WWW-Mechanize-Chrome-0.63' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>WWW::Mechanize::Chrome</span></b></a> - automate the Chrome browser <ul>  <li>Version: <strong>0.63</strong> on 2020-11-28</li>  <li>Votes: 14</li>  <li>Previous version: 0.61 was 25 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
     on Saturday 28 November 2020 16:55</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2020/11/cdxliv-metacpan-weekly-report-plack.html">(cdxliv) metacpan weekly report - Plack</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This is the weekly favourites list of CPAN distributions. Votes count: 36</p><p>Week's winners (+3):<b>&nbsp;<a href="https://metacpan.org/module/Plack">Plack</a></b></p><p>Build date: 2020/11/28 15:51:00 GMT</p><br /><p>Clicked for <u>first time</u>:</p><ul><li><a href="https://metacpan.org/module/Acme::Working::Out::Dependencies::From::META::files::Will::Be::Wrong::At::Some::Point::Like::This::Module::For::Instance" target="_blank">Acme::Working::Out::Dependencies::From::META::files::Will::Be::Wrong::At::Some::Point::Like::This::Module::For::Instance</a> - Because there is nothing like being right</li><li><a href="https://metacpan.org/module/App::XML::DocBook::Builder" target="_blank">App::XML::DocBook::Builder</a> - Build DocBook/XML files.</li><li><a href="https://metacpan.org/module/XML::Sig" target="_blank">XML::Sig</a> - A toolkit to help sign and verify XML Digital Signatures.</li></ul><br /><p><u>Increasing</u> its reputation:</p><ul><li><a href="https://metacpan.org/module/Amon2" target="_blank">Amon2</a> (+1=27)</li><li><a href="https://metacpan.org/module/CallBackery" target="_blank">CallBackery</a> (+1=3)</li><li><a href="https://metacpan.org/module/CLDR::Number" target="_blank">CLDR::Number</a> (+1=9)</li><li><a href="https://metacpan.org/module/Config::Tiny" target="_blank">Config::Tiny</a> (+1=29)</li><li><a href="https://metacpan.org/module/Coro" target="_blank">Coro</a> (+1=70)</li><li><a href="https://metacpan.org/module/Dancer2::Plugin::Auth::Tiny" target="_blank">Dancer2::Plugin::Auth::Tiny</a> (+1=6)</li><li><a href="https://metacpan.org/module/Dancer2::Plugin::Database" target="_blank">Dancer2::Plugin::Database</a> (+1=4)</li><li><a href="https://metacpan.org/module/Dancer2::Plugin::Locale::Wolowitz" target="_blank">Dancer2::Plugin::Locale::Wolowitz</a> (+1=3)</li><li><a href="https://metacpan.org/module/DBIx::Class" target="_blank">DBIx::Class</a> (+1=274)</li><li><a href="https://metacpan.org/module/EV" target="_blank">EV</a> (+1=43)</li><li><a href="https://metacpan.org/module/Getopt::Long" target="_blank">Getopt::Long</a> (+1=105)</li><li><a href="https://metacpan.org/module/Locale::Maketext" target="_blank">Locale::Maketext</a> (+1=5)</li><li><a href="https://metacpan.org/module/Locale::Wolowitz" target="_blank">Locale::Wolowitz</a> (+1=6)</li><li><a href="https://metacpan.org/module/Log::Any::Adapter::TAP" target="_blank">Log::Any::Adapter::TAP</a> (+1=3)</li><li><a href="https://metacpan.org/module/Log::Log4perl" target="_blank">Log::Log4perl</a> (+2=87)</li><li><a href="https://metacpan.org/module/Mojolicious::Command::Author::generate::cpanfile" target="_blank">Mojolicious::Command::Author::generate::cpanfile</a> (+1=2)</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::AssetPack" target="_blank">Mojolicious::Plugin::AssetPack</a> (+1=47)</li><li><a href="https://metacpan.org/module/Net::API::REST" target="_blank">Net::API::REST</a> (+1=2)</li><li><a href="https://metacpan.org/module/Net::MQTT::Simple" target="_blank">Net::MQTT::Simple</a> (+1=2)</li><li><a href="https://metacpan.org/module/OptArgs2" target="_blank">OptArgs2</a> (+1=3)</li><li><a href="https://metacpan.org/module/PDL::NDBin" target="_blank">PDL::NDBin</a> (+1=3)</li><li><a href="https://metacpan.org/module/perl" target="_blank">perl</a> (+1=364)</li><li><a href="https://metacpan.org/module/Plack" target="_blank">Plack</a> (+3=218)</li><li><a href="https://metacpan.org/module/POE" target="_blank">POE</a> (+1=50)</li><li><a href="https://metacpan.org/module/Prima" target="_blank">Prima</a> (+1=32)</li><li><a href="https://metacpan.org/module/TheSchwartz" target="_blank">TheSchwartz</a> (+1=12)</li><li><a href="https://metacpan.org/module/Tickit::Widgets" target="_blank">Tickit::Widgets</a> (+1=5)</li><li><a href="https://metacpan.org/module/Tie::Hash::Indexed" target="_blank">Tie::Hash::Indexed</a> (+1=4)</li><li><a href="https://metacpan.org/module/Try::Tiny" target="_blank">Try::Tiny</a> (+1=168)</li><li><a href="https://metacpan.org/module/XML::Hash::XS" target="_blank">XML::Hash::XS</a> (+1=12)</li></ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
     on Saturday 28 November 2020 16:52</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2020/11/cdlxix-stackoverflow-perl-report.html">(cdlxix) stackoverflow perl report</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>These are the ten most rated questions at <a href="http://www.stackoverflow.com">Stack Overflow</a> last week.<br />Between brackets: [<b>question score</b> / answers count]<br />Build date: 2020-11-28 15:35:26 GMT</p><hr /><ol><li><a href="http://stackoverflow.com/questions/64993183" target="_blank">Perl: Best way to open a file exclusively?</a> - [<b>4</b>/1]</li><li><a href="http://stackoverflow.com/questions/64956649" target="_blank">Store and read string with newline from Config::Simple config file</a> - [<b>3</b>/2]</li><li><a href="http://stackoverflow.com/questions/65012690" target="_blank">(Windows 10) Trying to Install Perl Modules both PPM and CPAN fail?</a> - [<b>3</b>/0]</li><li><a href="http://stackoverflow.com/questions/64957598" target="_blank">atom feed: script to combine multiple &lt;author&gt; items into one?</a> - [<b>2</b>/2]</li><li><a href="http://stackoverflow.com/questions/64974031" target="_blank">Why does File::Slurp get UTF8 characters wrong when I use open ':std', ':encoding(UTF-8)';?</a> - [<b>2</b>/2]</li><li><a href="http://stackoverflow.com/questions/64993281" target="_blank">create a hash of occurrences in an array with map</a> - [<b>2</b>/2]</li><li><a href="http://stackoverflow.com/questions/64963938" target="_blank">What difference does curly brace make in accessing an object</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/64971546" target="_blank">How do I change a Perl Readonly scalar in a module for a unit test?</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/65002289" target="_blank">Perl load module BEGIN</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/64949457" target="_blank">Monitoring stdout of a forked process in perl by character</a> - [<b>2</b>/0]</li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
     on Saturday 28 November 2020 16:38</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/use-perl-tidy-in-your-application">Use Perl::Tidy module in your application</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
<a href="https://metacpan.org/pod/Perl::Tidy">Perl::Tidy</a> is usually used as a stand-alone program to <a href="/run-perl-tidy-to-beautify-the-code">beautify your Perl code</a>.
Sometimes, for example when you'd like to <a href="/introducing-perltidy-tk-project">build a GUI for it</a>, you need to be able to use it as part of your application.
<p>
This is a simple example showing how to do it.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
     on Friday 27 November 2020 07:30</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/cpan-digger-dashboard-rocks">CPAN Digger - CPAN Dashboard - CPAN Rocks</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
CPAN Digger monitors the most recently uploaded distributions, CPAN Dashboard provides an overview to the authors, CPAN Rocks provides stats from Meta::CPAN.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
     on Thursday 26 November 2020 13:30</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://blog.perl-academy.de/2020-11-26-wie-setzen-wir-gitlab-ci-ein">Wie setzen wir die Gitlab-CI ein?</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
In meinem Artikel über die Optimierung von Docker-Images habe ich erwähnt, dass wir die »Gitlab-CI« einsetzen. In diesem Artikel beschreibe ich nun näher, was das eigentlich ist und welche Erfahrungen wir gemacht haben.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://blog.perl-academy.de/" class="badge badge-primary" style="float: left">Perl-Academy.de</a>

              <p class="text-right"><small>Published
     on Thursday 26 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2020/11/perl-weekly-challenge-88-array-of-products-and-spiral-matrices.html">Perl Weekly Challenge 88: Array of Products and Spiral Matrices</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 88 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-088/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a couple of days (November 29, 2020). This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: Array of Products</h2>

<p><em>You are given an array of positive integers @N.</em></p>

<p><em>Write a script to return an array @M where $M[i] is the product of all elements of @N except the index $N[i].</em></p>

<p><em>Example 1:</em></p>

<pre><code>Input:
    @N = (5, 2, 1, 4, 3)
Output:
    @M = (24, 60, 120, 30, 40)

    $M[0] = 2 x 1 x 4 x 3 = 24
    $M[1] = 5 x 1 x 4 x 3 = 60
    $M[2] = 5 x 2 x 4 x 3 = 120
    $M[3] = 5 x 2 x 1 x 3 = 30
    $M[4] = 5 x 2 x 1 x 4 = 40
</code></pre>

<p><em>Example 2:</em></p>

<pre><code>Input:
    @N = (2, 1, 4, 3)
Output:
    @M = (12, 24, 6, 8)

    $M[0] = 1 x 4 x 3 = 12
    $M[1] = 2 x 4 x 3 = 24
    $M[2] = 2 x 1 x 3 = 6
    $M[3] = 2 x 1 x 4 = 8
</code></pre>

<h3>Array of Products in Raku</h3>

<p>I immediately thought about two methods to solve this problem. Although I thought the second method was probably better, let me show first the first one.</p>

<p>The first way to do it is to traverse the input array and, for each item, multiply all items before with all items after and store the product in the equivalent position of the result array. Here we use the reduction metaoperator with multiplication, <code>[*]</code>, to compute the chained multiplication. And we use array slices to pick the relevant items to be multiplied. For some reason, array slice did not work properly for the first element of the array, so I computed it separately before entering the <code>for</code> loop.</p>

<pre><code>use v6;

my @tests = [5, 2, 1, 4, 3], [2, 1, 4, 3];
for @tests -&gt; @array {
    my @result; 
    @result[0] = [*] @array[1..@array.end];
    for 1..@array.end -&gt; $i {
        @result[$i] = ([*] @array[0..$i-1]) * [*] (@array[$i+1..@array.end]);
    }
    say "Input array: ", @array;
    say "Result: ", @result;
}
</code></pre>

<p>This script produces the following output:</p>

<pre><code>$ raku array-of_products.raku
Input array: [5 2 1 4 3]
Result: [24 60 120 30 40]
Input array: [2 1 4 3]
Result: [12 24 6 8]
</code></pre>

<p>There may be a better way to handle the special case of the first item of the list, but, rather than trying to improve it, I preferred to implement the second method. Here, the idea is to compute only once the product of all elements of the input array. Then, for each position in the array, we divide the overall product by the item in the current position. The code becomes slightly simpler, and the performance is also likely to be better, since we&#8217;re performing much less arithmetical operations overall (especially if the input array is somewhat large).</p>

<pre><code>my @tests = [5, 2, 1, 4, 3], [2, 1, 4, 3];
for @tests -&gt; @array {
    my $product = [*] @array;
    my @result = map { $product / $_ }, @array;
    say "Input array: ", @array;
    say "Result: ", @result;
}
</code></pre>

<p>This script produces the same result as before:</p>

<pre><code>Input array: [5 2 1 4 3]
Result: [24 60 120 30 40]
Input array: [2 1 4 3]
Result: [12 24 6 8]
</code></pre>

<h3>Array of Products in Perl</h3>

<p>This is a port to Perl of the method used in the second Rakudo script above: we compute the product of all elements of the input array. Then, for each position in the array, we divide the overall product by the item in the current position.</p>

<pre><code>use strict;
use warnings;
use feature "say";

my @tests = ([5, 2, 1, 4, 3], [2, 1, 4, 3]);
for my $array_ref (@tests) {
    my $product = 1;
    $product *= $_ for @$array_ref;
    my @result = map $product / $_, @$array_ref;
    say "Input: @$array_ref";
    say "Result: @result";
}
</code></pre>

<p>This displays the following output:</p>

<pre><code>$ perl array-of-products.pl
Input: 5 2 1 4 3
Result: 24 60 120 30 40
Input: 2 1 4 3
Result: 12 24 6 8
</code></pre>

<h2>Task 2: Spiral Matrix</h2>

<p><em>You are given <code>m x n</code> matrix of positive integers.</em></p>

<p><em>Write a script to print spiral matrix as list.</em></p>

<p><em>Example 1:</em></p>

<pre><code>Input:
    [ 1, 2, 3 ]
    [ 4, 5, 6 ]
    [ 7, 8, 9 ]
Ouput:
    [ 1, 2, 3, 6, 9, 8, 7, 4, 5 ]
</code></pre>

<p><em>Example 2:</em></p>

<pre><code>Input:
    [  1,  2,  3,  4 ]
    [  5,  6,  7,  8 ]
    [  9, 10, 11, 12 ]
    [ 13, 14, 15, 16 ]
Output:
    [ 1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5, 6, 7, 11, 10 ]
</code></pre>

<h3>Spiral Matrix in Raku</h3>

<p>For this task, we&#8217;ll use a <code>@tests</code> array of five rectangular matrices. The <code>print-matrix</code> subroutine is a helper function to pretty print the input matrix. Note that, when applied to a list, the <a href="https://docs.raku.org/routine/fmt">fmt</a> method applies the formatting string to each element of the list (contrary to <code>sprintf</code>), so that there is no need to add a <code>map</code> to process each item of a matrix line. For example:</p>

<pre><code>say &lt;1 2 3 4&gt;.fmt("%04i");
</code></pre>

<p>will print:</p>

<pre><code>0001 0002 0003 0004
</code></pre>

<p>The main <code>loop</code> reads the values of the matrix (in accordance to the rules explained just after) and stores them into the <code>@result</code> array. It processes first the first matrix line (left to right); it then processes the last column, i.e. the last item of each line, from top to bottom, and deletes it at the same time; it then processes (right to left) the last line of the matrix and also deletes this line; and it processes the first column (bottom to top) of the matrix. It then assign to <code>@matrix</code> a version of the original matrix with all values on the four edges removed. And the loop is restarted with the new smaller matrix if it is not empty.</p>

<p>Note that the <code>:delete</code> adverb removes entirely the last item of an array, but it leaves a &#8220;hole&#8221; when applied to any other element of the array. </p>

<pre><code>use v6;

my @tests =
    [ [ |(0..3) ], [ |(4..7)  ],  [ |(8..11)  ], [ |(12..15) ] ],
    [ [ |(0..4) ], [ |(5..9)  ],  [ |(10..14) ], [ |(15..19) ] ],
    [ [ |(0..5) ], [ |(6..11) ], [ |(12..17)  ], [ |(18..23) ] ],
    [ [ |(0..5) ], [ |(6..11) ], [ |(12..17)  ] ],
    [ [ |(0..2) ], [ |(4..6)  ],  [ |(8..10)  ], [ |(12..14) ] ];

sub print-matrix (@matrix) {
        say "[ {$_.fmt("% 3i")} ]" for @matrix;
        say "";
}

for @tests -&gt; @matrix {
    my @result;
    print-matrix @matrix;
    loop {
        push @result, |@matrix[0];
        push @result, @matrix[$_][*-1]:delete for 1..@matrix.end;
        push @result, |(reverse @matrix[@matrix.end]:delete);
        last if @matrix.elems == 1;
        push @result, @matrix[$_][0]:delete for reverse 1..@matrix.end;
        @matrix = map { [$_[|(1..$_.end)]] }, @matrix[|(1..@matrix.end)];
        # print-matrix @matrix;
        last unless @matrix;
    }
    say @result, "\n";
}
</code></pre>

<p>This program displays the following output:</p>

<pre><code>[   0   1   2   3 ]
[   4   5   6   7 ]
[   8   9  10  11 ]
[  12  13  14  15 ]

[0 1 2 3 7 11 15 14 13 12 8 4 5 6 10 9]

[   0   1   2   3   4 ]
[   5   6   7   8   9 ]
[  10  11  12  13  14 ]
[  15  16  17  18  19 ]

[0 1 2 3 4 9 14 19 18 17 16 15 10 5 6 7 8 13 12 11]

[   0   1   2   3   4   5 ]
[   6   7   8   9  10  11 ]
[  12  13  14  15  16  17 ]
[  18  19  20  21  22  23 ]

[0 1 2 3 4 5 11 17 23 22 21 20 19 18 12 6 7 8 9 10 16 15 14 13]

[   0   1   2   3   4   5 ]
[   6   7   8   9  10  11 ]
[  12  13  14  15  16  17 ]

[0 1 2 3 4 5 11 17 16 15 14 13 12 6 7 8 9 10]

[   0   1   2 ]
[   4   5   6 ]
[   8   9  10 ]
[  12  13  14 ]

[0 1 2 6 10 14 13 12 8 4 5 9]
</code></pre>

<p>We can make it slightly simpler by stripping out the used matrix edges as we go, using the <code>pop</code> and <code>shift</code> methods each time we use some values, so that we don&#8217;t have to reassign the <code>@matrix</code> at each iteration. This also simplifies the handling of array subscripts. In the code below, the only changes are in the <code>loop</code> block:</p>

<pre><code>use v6;

my @tests =
    [ [ |(0..3) ], [ |(4..7)  ],  [ |(8..11)  ], [ |(12..15) ] ],
    [ [ |(0..4) ], [ |(5..9)  ],  [ |(10..14) ], [ |(15..19) ] ],
    [ [ |(0..5) ], [ |(6..11) ], [ |(12..17)  ], [ |(18..23) ] ],
    [ [ |(0..5) ], [ |(6..11) ], [ |(12..17)  ] ],
    [ [ |(0..2) ], [ |(4..6)  ],  [ |(8..10)  ], [ |(12..14) ] ];

sub print-matrix (@matrix) {
        say "[ {$_.fmt("% 3i")} ]" for @matrix;
        say "";
}
for @tests -&gt; @matrix {
    my @result;
    print-matrix @matrix;
    loop {
        push @result, |@matrix.shift;
        push @result, @matrix[$_].pop for 0..@matrix.end;
        last unless @matrix.elems;
        push @result, |(reverse @matrix.pop);
        push @result, @matrix[$_].shift for reverse 0..@matrix.end;
        last unless @matrix;
    }
    say @result, "\n";
}
</code></pre>

<p>This produces the same output as before:</p>

<pre><code>[   0   1   2   3 ]
[   4   5   6   7 ]
[   8   9  10  11 ]
[  12  13  14  15 ]

[0 1 2 3 7 11 15 14 13 12 8 4 5 6 10 9]

[   0   1   2   3   4 ]
[   5   6   7   8   9 ]
[  10  11  12  13  14 ]
[  15  16  17  18  19 ]

[0 1 2 3 4 9 14 19 18 17 16 15 10 5 6 7 8 13 12 11]

[   0   1   2   3   4   5 ]
[   6   7   8   9  10  11 ]
[  12  13  14  15  16  17 ]
[  18  19  20  21  22  23 ]

[0 1 2 3 4 5 11 17 23 22 21 20 19 18 12 6 7 8 9 10 16 15 14 13]

[   0   1   2   3   4   5 ]
[   6   7   8   9  10  11 ]
[  12  13  14  15  16  17 ]

[0 1 2 3 4 5 11 17 16 15 14 13 12 6 7 8 9 10]

[   0   1   2 ]
[   4   5   6 ]
[   8   9  10 ]
[  12  13  14 ]

[0 1 2 6 10 14 13 12 8 4 5 9]
</code></pre>

<h3>Spiral Matrix in Perl</h3>

<p>For this task, we&#8217;ll use a <code>@tests</code> array of five rectangular matrices. The <code>print_matrix</code> subroutine is a helper function to pretty print the input matrix.</p>

<p>The main <code>while</code> loop reads the values of the matrix (in accordance to the rules explained just after) and stores them into the <code>@result</code> array. It processes first the first matrix line (left to right) and removes it from the matrix; it then processes the last column, i.e. the last item of each line, from top to bottom, and deletes it at the same time; it then processes (right to left) the last line of the matrix and also deletes this line; and finally it processes the first column (bottom to top) of the matrix and removes it. 
After one iteration, the original matrix is stripped of all its edge items. And the loop is restarted with the new smaller matrix if it is not empty.</p>

<pre><code>use strict;
use warnings;
use feature "say";
use Data::Dumper;


my @tests = ( [ [ 0..3 ], [ (4..7) ],  [ (8..11) ],  [ (12..15) ] ],
              [ [ 0..4 ], [ (5..9) ],  [ (10..14) ], [ (15..19) ] ],
              [ [ 0..5 ], [ (6..11) ], [ (12..17) ], [ (18..23) ] ],
              [ [ 0..5 ], [ (6..11) ], [ (12..17) ] ],
              [ [ 0..2 ], [ (4..6) ],  [ (8..10) ],  [ (12..14) ] ]
            );

# @tests = ( [ [ 0..3 ], [ (4..7) ],  [ (8..11) ],  [ (12..15) ] ] );

sub print_matrix {
    my @matrix = @{$_[0]};
    say "";
    say "[ ", (map { sprintf "% 3i", $_ } @$_), " ]" for @matrix;
    say "";
}

for my $m_ref (@tests) {
    print_matrix($m_ref);
    my @result;
    my @matrix = @$m_ref;
    while (1) {
        push @result, @{shift @matrix};
        last if scalar @matrix == 0;
        push @result, pop @{$matrix[$_]} for 0..$#matrix;
        push @result, reverse @{pop @matrix};
        push @result, shift @{$matrix[$_]} for reverse 0..$#matrix;
        last if @matrix == 0;
    }
    say join " ", @result;    
}
</code></pre>

<p>This displays the following output:</p>

<pre><code>[   0  1  2  3 ]
[   4  5  6  7 ]
[   8  9 10 11 ]
[  12 13 14 15 ]

0 1 2 3 7 11 15 14 13 12 8 4 5 6 10 9

[   0  1  2  3  4 ]
[   5  6  7  8  9 ]
[  10 11 12 13 14 ]
[  15 16 17 18 19 ]

0 1 2 3 4 9 14 19 18 17 16 15 10 5 6 7 8 13 12 11

[   0  1  2  3  4  5 ]
[   6  7  8  9 10 11 ]
[  12 13 14 15 16 17 ]
[  18 19 20 21 22 23 ]

0 1 2 3 4 5 11 17 23 22 21 20 19 18 12 6 7 8 9 10 16 15 14 13

[   0  1  2  3  4  5 ]
[   6  7  8  9 10 11 ]
[  12 13 14 15 16 17 ]

0 1 2 3 4 5 11 17 16 15 14 13 12 6 7 8 9 10

[   0  1  2 ]
[   4  5  6 ]
[   8  9 10 ]
[  12 13 14 ]

0 1 2 6 10 14 13 12 8 4 5 9
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check <a href="https://perlweeklychallenge.org/">https://perlweeklychallenge.org/</a> and make sure you answer the challenge before 23:59 BST (British summer time) on Sunday, December 6, 2020. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
     on Wednesday 25 November 2020 23:07</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/gitlab-ci">GitLab CI for Perl projects</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
According to <a href="https://cpan.rocks/">CPAN Rocks</a> there are 29 CPAN modules that use GitLab as their bug-tracking system. That probably means those
are the projects that use GitLab as a VCS.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
     on Tuesday 24 November 2020 20:30</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/dave-report-2020-october">Maintaining the Perl 5 Core (Dave Mitchell): Grant Report for October 2020</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
     <p>This is a monthly report by Dave Mitchell on his grant under <a href="http://www.perlfoundation.org/perl_5_core_maintenance_fund">Perl 5 Core Maintenance Fund</a>.
We thank the TPF sponsors to make this grant possible.</p>

<pre>
This mainly consisted in tracking down a (harmless as it turned out)
off-by-one error in Cwd.xs, which I thought was being flagged up by
valgrind. As it turned out, the valgrind report was a false positive caused
by a bug in valgrind when perl is built with -D_FORTIFY_SOURCE, and I
found the Cwd bug by manual code inspection of the area complained about
by valgrind!

SUMMARY:
      4:35 add some magic free vtable methods for faster freeing
     15:59 investigate ASan failure in t/op/coreamp.t
      2:30 process p5p mailbox
    ------
     23:04 TOTAL (HH::MM)
</pre>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Matthias Bloch
     on Tuesday 24 November 2020 02:53</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/cpan-digger-explained">CPAN Digger explained</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
The web site of <a href="https://cpan-digger.perlmaven.com/">CPAN Digger</a> shows the most recently uploaded CPAN distributions. Currently about 110 of them
and some meta information about them. Let me go through quickly what you see there, why is that interesting and what to do about it.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
     on Monday 23 November 2020 15:30</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://blog.perl-academy.de/2020-11-23-testtreiber-fuer-test-class-moose">Testtreiber für Test::Class::Moose</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Test::Class::Moose hilft beim Organisieren von Tests dadurch, dass objektorientiertes Schreiben von Tests ermöglicht wird.       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://blog.perl-academy.de/" class="badge badge-primary" style="float: left">Perl-Academy.de</a>

              <p class="text-right"><small>Published
     on Monday 23 November 2020 10:00</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/ben_bullock/2020/11/the-mysterious-case-of-the-svt-pviv.html">The mysterious case of the SVt_PVIV</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>The other day I wanted to send my friend some silly emojis on LINE and so I updated my <a href="https://www.lemoda.net/tools/unicode/index.html">flaky old Unicode browser</a> to the new-fangled Unicode with values above 0x10000, so that I could fetch the Emojis, which start <a href="https://www.lemoda.net/tools/unicode/index.html?char=1F348">around here</a>. The thing also features a perl script which fetches values from <a href="https://metacpan.org/pod/Unicode::UCD">Unicode::UCD</a> using the <code>charinfo</code> function. I also updated to Perl 5.32 around the same time. Now the funny thing was that I started getting all kinds of errors about invalid JSON in the browser console. My Perl script was sending something of the form <code>{... "script":Common ...}</code> from my module JSON::Create, which is not valid JSON due to not having quotes around <code>Common</code>, and obviously my module was faulty.</p>

<p>Investigating the fault led me into the XS (C) code of my module where the value part of the JSON thought that the value associated with the <code>script</code> key in the hash reference returned by <code>charinfo</code> was of the form <code>SVt_PVIV</code>. <code>PV</code> means "pointer value" which is basically a string, and <code>IV</code> means "integer value", you can probably guess what that is supposed to contain.</p>

<p>My stupid module assumed that the string in an <code>SVt_PVIV</code> was just a representation of the IV part, so it just printed the PV as a string without quotes, leading to the above Common appearing. But it doesn't seem to be so. Is it some kind of "dual variable"? It turned out that the IV part wasn't even valid, so forcing it to treat the <code>SVt_PVIV</code> as an IV didn't work. <a href="https://metacpan.org/source/BKB/JSON-Create-0.27_01/json-create-perl.c#L1442">The solution at the moment</a> is to test with something called SvIOK whether the IV part is OK then treat it as a string if not.</p>

<p>The mysterious part for me is why is the <code>script</code> value an SVt_PVIV in the first place? Answers on a postcard, or comment below if you prefer.</p>

<p>I tried to replicate this bug for testing purposes using Scalar::Util's <code>dualvar</code>, but that creates an SVt_PVNV (floating point/string combo), which my daft module treated differently again.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Ben Bullock
     on Monday 23 November 2020 04:40</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2020/11/22#pwc087">Perl Weekly Challenge 087</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><h2 id="part-1">Part 1</h2>
<p><em>You are given an unsorted array of integers <span class="citation" data-cites="N">@N</span>. Write a script to find the longest consecutive sequence. Print 0 if no sequence found.</em></p>
<h3 id="solution">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# You are given an unsorted array of integers @N.
# Write a script to find the longest consecutive sequence. 
# Print 0 if no sequence found.
##
sub min_max{
    my @a = @_;
    my($min, $max) = ($a[0], $a[0]);
    for my $x (@a){
        $min = $x if($x < $min);
        $max = $x if($x > $max);
    }
    return ($min, $max);
}

sub longest_sequence{
    my @sequences = @_;
    my @max = (0);
    for my $sequence (@sequences){
        @max = @{$sequence} if((@{$sequence} > @max) && (@{$sequence} > 1));
    }
    return @max;
}

sub continuous_sub_sequences{
    my @a = @_;
    my($min, $max) = min_max(@a);
    my @sub_sequences;
    my $sub_sequence = [];
    while($min <= $max){
        my $test = grep {$_ == $min} @a;
        if($test){
            push @{$sub_sequence}, $min;
        }
        else{
            push @sub_sequences, $sub_sequence if(@{$sub_sequence} > 0);
            $sub_sequence = [];
        }
        $min++;
    }
    return @sub_sequences;
}

MAIN:{
    my @N = (100, 4, 50, 3, 2);
    my @sequences = continuous_sub_sequences(@N);
    my @max = longest_sequence(@sequences);
    print join(",", @max) . "\n";
    @N = (20, 30, 10, 40, 50);
    @sequences = continuous_sub_sequences(@N);
    @max = longest_sequence(@sequences);
    print join(",", @max) . "\n";
    @N = (20, 19, 9, 11, 10);
    @sequences = continuous_sub_sequences(@N);
    @max = longest_sequence(@sequences);
    print join(",", @max) . "\n";
}
</code></pre>
<h3 id="sample-run">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-1.pl
2,3,4
0
9,10,11
</code></pre>
<h3 id="notes">Notes</h3>
<p>I decided to force myself to work with an artificial constraint as a way fo forcing a little bit more creativity in my solution. When I first looked at this problem I immediately thought “ok, first thing should be to sort the list”. Based on that first impression my self-imposed constraint was to “solve this without using a sort”!</p>
<p>What I did can be summarized as follows: 1. Find the minimum and maximum numbers in the given list. 2. Starting with the minimum number generate test sequences by incrementing upwards towards the maximum list value. 3. As each new element of the test sequence is added test to see if it is in the original list. 4. If it is in the list, good, keep going. 5. If it is not in the list then save the test sequence generated up to that point and continue with a new test sequence. 6. Return all successful test sequences and determine the longest one.</p>
<p>The most blatant inefficiency to this approach is when lists are sparse. For example, suppose we are given <code>(2, 100000000, 3, 4, 5)</code> then we would be iterating from <code>2</code> to <code>100000000</code>. An approach using a sorted list would basically need only loop over the elements of the list, checking to see if the next element was 1 larger than the previous.</p>
<h2 id="part-2">Part 2</h2>
<p><em>You are given matrix m x n with 0 and 1. Write a script to find the largest rectangle containing only 1. Print 0 if none found.</em></p>
<h3 id="solution-1">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# You are given matrix m x n with 0 and 1.
# Write a script to find the largest rectangle 
# containing only 1. Print 0 if none found.
##
use boolean;

sub print_solution{
    my($m, $n) = @_;
    if(!$m || !$n){
        print "0\n";
    }
    else{
        for (1 .. $n){
            print "[". join(" ", (1)x $m) . "]\n";
        }       
    }
}

sub evaluate{
    my($m, $n, $matrix) = @_;
    my $row_string = join(",", (1) x $m);
    my $columns = 0;
    for my $row (@{$matrix}){
        my $test = join(",", @{$row});
        if(index($test, $row_string) > -1){
            $columns++;
            return true if($columns == $n);
        }
        else{
            $columns = 0;
        }
    }
    return false;
}

sub largest_rectangle{
    my @matrix = @_;
    my $rows = @{$matrix[0]};
    my $columns = @matrix;
    my $max_area = 0;
    my @rectangle;
    for my $m (2 .. $columns){
        for my $n (1 .. $rows){
            if(evaluate($m, $n, \@matrix)){
                if(($m * $n) > $max_area){
                    $max_area = ($m * $n);
                    @rectangle = ($m, $n);
                }
            }
        }
    }
    return @rectangle;
}

MAIN:{
    my @MATRIX = (
        [0, 0, 0, 1, 0, 0],
        [1, 1, 1, 0, 0, 0],
        [0, 0, 1, 0, 0, 1],
        [1, 1, 1, 1, 1, 0],
        [1, 1, 1, 1, 1, 0]
    );
    print_solution(largest_rectangle(@MATRIX));
    @MATRIX = (
        [1, 0, 1, 0, 1, 0],
        [0, 1, 0, 1, 0, 1],
        [1, 0, 1, 0, 1, 0],
        [0, 1, 0, 1, 0, 1]
    );
    print_solution(largest_rectangle(@MATRIX));
    @MATRIX = (
        [0, 0, 0, 1, 1, 1],
        [1, 1, 1, 1, 1, 1],
        [0, 0, 1, 0, 0, 1],
        [0, 0, 1, 1, 1, 1],
        [0, 0, 1, 1, 1, 1]
    );
    print_solution(largest_rectangle(@MATRIX));  
}
</code></pre>
<h3 id="sample-run-1">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-2.pl
[1 1 1 1 1]
[1 1 1 1 1]
0
[1 1 1 1]
[1 1 1 1]
</code></pre>
<h3 id="notes-1">Notes</h3>
<p>Unlike Part 1 I did not necessarily have a self-imposed constraint other than to try and be as creative as possible. I’ll only know when I look at other submitted solutions if I was really all that relatively clever or not!</p>
<p>Here I do the following: 1. Check the size of the given matrix 2. Test the matrix for all possible sub-matrix sizes. 3. For all found sub-matrices determine the largest one.</p>
<p>For checking the presence of sub-matrices I <a href="https://perldoc.perl.org/functions/join">join</a> the rows into strings and then use <a href="https://perldoc.perl.org/functions/index">index</a> to see if they appear in a given row or not. To determine if a sub-matrix is the largest I compare the areas of the “rectangles”.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
     on Sunday 22 November 2020 17:36</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2020/11/cccxvi-11-cpan-great-modules-released.html">(cccxvi) 11 CPAN great modules released last week</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br/><br/><ol><li><a href='https://metacpan.org/release/MHX/Convert-Binary-C-0.83' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Convert::Binary::C</span></b></a> - Binary Data Conversion using C Types <ul>  <li>Version: <strong>0.83</strong> on 2020-11-19</li>  <li>Votes: 13</li>  <li>Previous version: 0.79 was 6 months before</li></ul></li><li><a href='https://metacpan.org/release/BINGOS/ExtUtils-MakeMaker-7.56' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>ExtUtils::MakeMaker</span></b></a> - Create a module Makefile <ul>  <li>Version: <strong>7.56</strong> on 2020-11-19</li>  <li>Votes: 47</li>  <li>Previous version: 7.54 was 7 days before</li></ul></li><li><a href='https://metacpan.org/release/ETJ/GraphViz2-2.62' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>GraphViz2</span></b></a> - A wrapper for AT&T's Graphviz <ul>  <li>Version: <strong>2.62</strong> on 2020-11-16</li>  <li>Votes: 12</li>  <li>Previous version: 2.61 was 8 days before</li></ul></li><li><a href='https://metacpan.org/release/BINGOS/Module-CoreList-5.20201120' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Module::CoreList</span></b></a> - what modules shipped with versions of perl <ul>  <li>Version: <strong>5.20201120</strong> on 2020-11-20</li>  <li>Votes: 34</li>  <li>Previous version: 5.20201020 was 1 month before</li></ul></li><li><a href='https://metacpan.org/release/HAARG/Moo-2.004003' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Moo</span></b></a> - Minimalist Object Orientation (with Moose compatibility) <ul>  <li>Version: <strong>2.004003</strong> on 2020-11-21</li>  <li>Votes: 277</li>  <li>Previous version: 2.004000 was 7 months, 12 days before</li></ul></li><li><a href='https://metacpan.org/release/NLNETLABS/Net-DNS-1.29' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Net::DNS</span></b></a> - Perl Interface to the Domain Name System <ul>  <li>Version: <strong>1.29</strong> on 2020-11-18</li>  <li>Votes: 21</li>  <li>Previous version: 1.28 was 26 days before</li></ul></li><li><a href='https://metacpan.org/release/ETJ/PDL-2.025' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>PDL</span></b></a> - Perl Data Language <ul>  <li>Version: <strong>2.025</strong> on 2020-11-19</li>  <li>Votes: 37</li>  <li>Previous version: 2.024 was 2 months, 2 days before</li></ul></li><li><a href='https://metacpan.org/release/KHW/Pod-Simple-3.42' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Pod::Simple</span></b></a> - framework for parsing Pod <ul>  <li>Version: <strong>3.42</strong> on 2020-11-14</li>  <li>Votes: 15</li>  <li>Previous version: 3.41 was 1 month, 2 days before</li></ul></li><li><a href='https://metacpan.org/release/KIMOTO/SPVM-0.0927' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>SPVM</span></b></a> - Static Perl Virtual Machine. Fast Calculation, Fast Array Operation, and Easy C/C++ Binding. <ul>  <li>Version: <strong>0.0927</strong> on 2020-11-20</li>  <li>Votes: 21</li>  <li>Previous version: 0.0926 was 14 days before</li></ul></li><li><a href='https://metacpan.org/release/OALDERS/WWW-YouTube-Download-0.65' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>WWW::YouTube::Download</span></b></a> - WWW::YouTube::Download - Very simple YouTube video download interface <ul>  <li>Version: <strong>0.65</strong> on 2020-11-19</li>  <li>Votes: 19</li>  <li>Previous version: 0.64 was 1 month, 29 days before</li></ul></li><li><a href='https://metacpan.org/release/PREACTION/Yancy-1.067' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Yancy</span></b></a> - The Best Web Framework Deserves the Best CMS <ul>  <li>Version: <strong>1.067</strong> on 2020-11-16</li>  <li>Votes: 36</li>  <li>Previous version: 1.066 was 3 months, 8 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
     on Saturday 21 November 2020 15:29</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2020/11/cdxliii-metacpan-weekly-report.html">(cdxliii) metacpan weekly report - Tickit::Widgets</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This is the weekly favourites list of CPAN distributions. Votes count: 60</p><p>Week's winner (+3):<b>&nbsp;<a href="https://metacpan.org/module/Tickit::Widgets">Tickit::Widgets</a></b></p><p>Build date: 2020/11/21 14:22:09 GMT</p><br /><p>Clicked for <u>first time</u>:</p><ul><li><a href="https://metacpan.org/module/File::ShouldUpdate" target="_blank">File::ShouldUpdate</a> - should files be rebuilt?</li><li><a href="https://metacpan.org/module/Mojo::SAML" target="_blank">Mojo::SAML</a> - A SAML2 toolkit using the Mojo toolkit</li><li><a href="https://metacpan.org/module/Net::SockAddr" target="_blank">Net::SockAddr</a> - Socket address OO-wrapper with Perl and C++ interface.</li><li><a href="https://metacpan.org/module/Zydeco::Lite::App" target="_blank">Zydeco::Lite::App</a> - use Zydeco::Lite to quickly develop command-line apps</li></ul><br /><p><u>Increasing</u> its reputation:</p><ul><li><a href="https://metacpan.org/module/AI::Genetic::Pro" target="_blank">AI::Genetic::Pro</a> (+1=4)</li><li><a href="https://metacpan.org/module/App::HTTPThis" target="_blank">App::HTTPThis</a> (+1=20)</li><li><a href="https://metacpan.org/module/Argon" target="_blank">Argon</a> (+1=9)</li><li><a href="https://metacpan.org/module/Array::Diff" target="_blank">Array::Diff</a> (+1=5)</li><li><a href="https://metacpan.org/module/Child" target="_blank">Child</a> (+1=6)</li><li><a href="https://metacpan.org/module/CLDR::Number" target="_blank">CLDR::Number</a> (+1=9)</li><li><a href="https://metacpan.org/module/common::sense" target="_blank">common::sense</a> (+1=21)</li><li><a href="https://metacpan.org/module/CPAN::Changes" target="_blank">CPAN::Changes</a> (+1=28)</li><li><a href="https://metacpan.org/module/CPAN::Digger" target="_blank">CPAN::Digger</a> (+1=2)</li><li><a href="https://metacpan.org/module/Daemon::Control" target="_blank">Daemon::Control</a> (+1=42)</li><li><a href="https://metacpan.org/module/DateTime::Moonpig" target="_blank">DateTime::Moonpig</a> (+1=12)</li><li><a href="https://metacpan.org/module/DateTime::Tiny" target="_blank">DateTime::Tiny</a> (+1=7)</li><li><a href="https://metacpan.org/module/DateTimeX::Immutable" target="_blank">DateTimeX::Immutable</a> (+1=2)</li><li><a href="https://metacpan.org/module/DBIx::RunSQL" target="_blank">DBIx::RunSQL</a> (+1=5)</li><li><a href="https://metacpan.org/module/Devel::Confess" target="_blank">Devel::Confess</a> (+1=32)</li><li><a href="https://metacpan.org/module/Dist::Zilla" target="_blank">Dist::Zilla</a> (+1=175)</li><li><a href="https://metacpan.org/module/Excel::Writer::XLSX" target="_blank">Excel::Writer::XLSX</a> (+1=55)</li><li><a href="https://metacpan.org/module/Fsdb" target="_blank">Fsdb</a> (+1=6)</li><li><a href="https://metacpan.org/module/Getopt::Kingpin" target="_blank">Getopt::Kingpin</a> (+1=7)</li><li><a href="https://metacpan.org/module/Getopt::Lucid" target="_blank">Getopt::Lucid</a> (+1=12)</li><li><a href="https://metacpan.org/module/Gtk3::ImageView" target="_blank">Gtk3::ImageView</a> (+1=2)</li><li><a href="https://metacpan.org/module/Gtk3::WebKit2" target="_blank">Gtk3::WebKit2</a> (+2=2)</li><li><a href="https://metacpan.org/module/Guard" target="_blank">Guard</a> (+1=19)</li><li><a href="https://metacpan.org/module/HTTP::Daemon" target="_blank">HTTP::Daemon</a> (+1=11)</li><li><a href="https://metacpan.org/module/HTTP::Tiny::Multipart" target="_blank">HTTP::Tiny::Multipart</a> (+1=3)</li><li><a href="https://metacpan.org/module/Import::Base" target="_blank">Import::Base</a> (+1=14)</li><li><a href="https://metacpan.org/module/Lexical::Var" target="_blank">Lexical::Var</a> (+1=2)</li><li><a href="https://metacpan.org/module/Log::Any" target="_blank">Log::Any</a> (+1=57)</li><li><a href="https://metacpan.org/module/Mail::Toaster" target="_blank">Mail::Toaster</a> (+1=2)</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::Log::Any" target="_blank">Mojolicious::Plugin::Log::Any</a> (+1=3)</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::SecurityHeader" target="_blank">Mojolicious::Plugin::SecurityHeader</a> (+1=4)</li><li><a href="https://metacpan.org/module/Net::NATS::Client" target="_blank">Net::NATS::Client</a> (+1=4)</li><li><a href="https://metacpan.org/module/OptArgs" target="_blank">OptArgs</a> (+1=11)</li><li><a href="https://metacpan.org/module/PAR::Dist" target="_blank">PAR::Dist</a> (+1=3)</li><li><a href="https://metacpan.org/module/Paws" target="_blank">Paws</a> (+1=45)</li><li><a href="https://metacpan.org/module/PDL::CCS" target="_blank">PDL::CCS</a> (+1=4)</li><li><a href="https://metacpan.org/module/Perl::Tidy" target="_blank">Perl::Tidy</a> (+1=120)</li><li><a href="https://metacpan.org/module/PkgConfig" target="_blank">PkgConfig</a> (+1=4)</li><li><a href="https://metacpan.org/module/Pod::Usage" target="_blank">Pod::Usage</a> (+1=37)</li><li><a href="https://metacpan.org/module/Regexp::Common" target="_blank">Regexp::Common</a> (+1=50)</li><li><a href="https://metacpan.org/module/Rex" target="_blank">Rex</a> (+2=73)</li><li><a href="https://metacpan.org/module/Smart::Comments" target="_blank">Smart::Comments</a> (+1=36)</li><li><a href="https://metacpan.org/module/String::ShellQuote" target="_blank">String::ShellQuote</a> (+1=15)</li><li><a href="https://metacpan.org/module/Term::Animation" target="_blank">Term::Animation</a> (+1=4)</li><li><a href="https://metacpan.org/module/Text::Levenshtein::Damerau" target="_blank">Text::Levenshtein::Damerau</a> (+1=3)</li><li><a href="https://metacpan.org/module/Text::Table" target="_blank">Text::Table</a> (+1=13)</li><li><a href="https://metacpan.org/module/Tickit" target="_blank">Tickit</a> (+1=24)</li><li><a href="https://metacpan.org/module/Tickit::Widget::Statusbar" target="_blank">Tickit::Widget::Statusbar</a> (+1=2)</li><li><a href="https://metacpan.org/module/Tickit::Widgets" target="_blank">Tickit::Widgets</a> (+3=5)</li><li><a href="https://metacpan.org/module/Types::Serialiser" target="_blank">Types::Serialiser</a> (+1=2)</li><li><a href="https://metacpan.org/module/use" target="_blank">use</a> (+1=2)</li><li><a href="https://metacpan.org/module/WWW::Mechanize" target="_blank">WWW::Mechanize</a> (+1=84)</li></ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
     on Saturday 21 November 2020 15:23</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/tpf-minutes-202010">TPF Meeting Minutes for October 2020</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
     <p>TPF Board members and the community leaders meet every month and here are the minutes from the October 2020 meeting.</p>

<h2>Part 1 - Community</h2>

<ul>
<li><p>Attendees</p>

<ul>
<li>Board: Stuart Mackintosh, Peter Krawczyk, Dan Wright, Dave Rolsky, Ricardo Signes, Makoto Nozaki (late) </li>
<li>Leaders: Jason Crome, Samantha McVey, Alex Beamish, Sawyer X, Todd Rinaldo, Matthias Bloch</li>
<li>Admin: Nic Evans</li>
<li>Confirmed absence: Mark Keating, Curtis Poe</li>
</ul></li>
<li><p>Grants</p>

<ul>
<li>One grant approved - needs funding as there's no budget</li>
<li>Another grant was approved earlier but no work started 
<ul>
<li>Should have been canceled / resubmitted already according to the charter</li>
</ul></li>
<li>Working with Nic on website updates - close to completion</li>
<li>Main issue - no working budget
<ul>
<li>Possibly review previous budgets and consider how this can be increased per year</li>
<li>Funds are sectioned to languages (GC, Perl and Raku)</li>
<li>Pete looking to rearrange fund 'pots' to enable easier tracking next year</li>
</ul></li>
<li>Discussion around grants funding for funds - Can/should there be different pots? Can sponsors request specific support for each language - this needs further discussion - Jason Crome to follow up</li>
<li>Grant suggestions from the committee are available on the web</li>
</ul></li>
<li><p>Marketing</p>

<ul>
<li>Brief survey carried out regarding brand of The Perl Foundation</li>
<li>Highlighted need for wider survey, putting together budget proposal</li>
<li>Filled in creative brief for TPF</li>
<li>Promotion of TPF via Google Ads - discussion going on</li>
<li>z/OS article was mentioned as a good addition to marketing</li>
<li>Website improvements, bugs/issues list created</li>
</ul></li>
<li><p>The Perl/Raku Conference (USA)</p>

<ul>
<li>The contract of 2020/2021 is active</li>
</ul></li>
<li><p>EU Conference</p>

<ul>
<li>Discussion points: Organizers and sponsorship</li>
<li>Organizers
<ul>
<li>Andrew mentioned possibility of Perl/Raku conference</li>
<li>Should we talking about making EU conference a TPF event?</li>
<li>There is currently no immediate visible interest in having funding of an EU conference in Europe taken over by TPF</li>
<li>Historically YEF was formed because TPF didn't have the people to do this. Also EPO was formed</li>
<li>We need to talk to the key people to organize an event in Europe</li>
<li>The nature of conferences may be different going forward, we don't know when they will return to how they used to be. We need to look at our future - do we want more virtual conferences? Are there other opportunities for physical?</li>
</ul></li>
<li><p>Sponsorship</p>

<ul>
<li>Costs might be lower for virtual - how easy to get sponsors for virtual versus physical conferences?</li>
<li><p>We need to be clear with sponsors if we have both a US and an EU conference</p></li>
<li><p>Opinions:</p>

<ul>
<li>We have obligations to control how money is spent. There must be set guidelines. Whenever we create a special bucket for sponsorship we have an obligation to spend money on that bucket. We cannot then spend it on something else. What if we collect funds for a conference and it doesn't happen? We would have to give the money back. Currently we ask sponsors to give money to TPF (general funds) for this reason.</li>
<li>I want to make sure when I talk to sponsors to steer away from where money is going to 'this is TPF and we have various things we want to spend money on'. We need to avoid earmarked funds . Do not encourage sponsorship for specific items such as a conference.</li>
<li>I see this as more of an opportunity to get more money especially when the conference is held in a city where a major sponsor is located - need to find a way around legal issues - otherwise a missed opportunity</li>
</ul></li>
<li>Could have a soft earmarking with disclaimer such as 'should event not happen, it will be moved to general funds.'</li>
</ul></li>
<li>To continue discussion at next meeting</li>
</ul></li>
<li><p>Raku</p>

<ul>
<li>The Raku steering council formed recently, elected by core developers.</li>
<li>Question: How does CAT relate to Raku community?</li>
<li>Stuart: joint decision taken to keep Raku with TPF for now - longer term vision keen to progress recognised resources. These must adhere to set of recognised quality standards. CAT was established to do this, so should also provide support to Raku communities. Although sounds like marketing, it is a governance function. So we should support Raku Steering Council in any conduct issues. We need a recognised Raku presence within the organisation. </li>
<li>Action: invite member of Raku community to attend the Community leaders meeting - let them know TPF will support Raku community</li>
</ul></li>
<li><p>Perl</p>

<ul>
<li>Governance work to try and over time figure out a proper governance structure that is understood, accepted and supported by the community. </li>
<li>Stuart: this is about creating a process that will help the technical ecosystem for a long time. If it takes a long time, it needs to be done right/as best it can be - follow up again next month</li>
</ul></li>
<li><p>Infrastructure</p>

<ul>
<li>Trying to get a coherent list of what needs to be done</li>
<li>Discussion on getting perl web infrastructure managed under same system</li>
<li>All the essential password are documented</li>
<li>We need to look at Github tracker and see that issues are closed</li>
<li>Feedback at moment is positive - need to promote the committee exists when it is in a good position.</li>
</ul></li>
</ul>

<h2>Part 2 - Board</h2>

<h3>Attendees</h3>

<ul>
<li>Stuart Mackintosh, Dave Rolsky, Dan Wright, Ricardo Signes, Pete Krawczyk, Makoto Nozaki, Nic Evans (admin)</li>
</ul>

<h3>Meeting topics</h3>

<p>Note: the second part of the meeting (the board only) was short as the first part overran.</p>

<ul>
<li>TPRC 2020 Transparency Report was drafted. It will be reviewed and posted.</li>
<li>Advisory Board - action items below.
<ul>
<li>Define the charter and procedure to "retire" people from the board</li>
<li>Think whether we could invite somebody to the Advisory Board even if they are not a board member</li>
<li>Announce the Advisory Board with inaugural members</li>
</ul></li>
</ul>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Makoto Nozaki
     on Thursday 19 November 2020 12:14</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2020/11/15#pwc086">Perl Weekly Challenge 086</a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><h2 id="part-1">Part 1</h2>
<p><em>You are given an array of integers <span class="citation" data-cites="N">@N</span> and an integer $A. Write a script to find find if there exists a pair of elements in the array whose difference is $A. Print 1 if exists otherwise 0.</em></p>
<h3 id="solution">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# You are given an array of integers @N and an integer $A.
# Write a script to find find if there exists a pair of elements 
# in the array whose difference is $A.
# Print 1 if exists otherwise 0.
##
use boolean;
use Math::Combinatorics;

sub build_constraints{
    my @constraints;
    my $a_not_equal_b = sub { $_[0] != $_[1] };
    my $difference_equal_n = sub { $_[0] - $_[1] == $_[2] };
    return (
       $a_not_equal_b,
       $difference_equal_n
    );
}

MAIN:{
    my $combinations = Math::Combinatorics->new(
                           count => 2,
                           data => [@ARGV[1 .. @ARGV - 1]],
                       );
    my $found = false;  
    my ($check_equal, $check_difference) = build_constraints();           
    while(my @combination = $combinations->next_combination()){  
        if($check_equal->(@combination) && $check_difference->(@combination, $ARGV[0])){
            $found = true;
            print "1\n"; last;
        }
    }
    print "0\n" if(!$found);
}
</code></pre>
<h3 id="sample-run">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-1.pl 15 10 30 20 50 40
0
$ perl perl/ch-1.pl 7 10 8 12 15 5
1
</code></pre>
<h3 id="notes">Notes</h3>
<p>This is a fairly silly use of the <em>constraint programming</em> approach I used <a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl/2020/11/08">last week</a>. Like last time I generate all combinations and test them using a filtering approach. The filter is an array of constraint functions. Here we just have two simple constraints though!</p>
<h2 id="part-2">Part 2</h2>
<p><em>You are given Sudoku puzzle (9x9). Write a script to complete the puzzle</em></p>
<h3 id="notes-1">Notes</h3>
<p>I didn’t have a chance to implement a solution in Perl. I would have used a similar constraint approach if I did. This is a natural use for Prolog and if you’re interested in reading in my Prolog implementation you can go <a href="http://www.rabbitfarm.com/cgi-bin/blosxom/prolog/2020/11/15">here</a>.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
     on Sunday 15 November 2020 23:49</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/grant_proposals_nov_2020">Grant Proposals: November 2020 </a></h2>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
     <p>We received no grant proposals for Perl or Raku in time for the November voting round. The next round of voting will be held starting in early January.</p>

<p>But... there's no need to wait until then. We accept grant proposals all year round. To apply, please read <a href="https://www.perlfoundation.org/how-to-write-a-proposal.html">How to Write a Proposal</a>, <a href="https://www.perlfoundation.org/grants-committee.html">GC Charter, Rules of Operation</a> and <a href="https://www.perlfoundation.org/running-grants.html">Running Grants List</a> will also help you understand how the grant process works. We also got some <a href="https://grants.perlfoundation.org/">grant ideas</a> from the community.</p>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Jason A. Crome
     on Friday 13 November 2020 22:52</small></p>
            </div><!-- card-footer -->
          </div><!-- card -->

        </div><!-- col-md-8 -->
        <div class="col-md-2">
<script type="text/javascript"><!--
google_ad_client = "pub-3663319204757145";
/* planet */
google_ad_slot = "8413744374";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
        </div><!-- col-md-2 -->
      </div><!-- row -->
      <div class="row">
        <div class="col-md-12">
      <address><a href="https://twitter.com/@davorg">@davorg</a> / Tuesday 01 December 2020 08:46 UTC</address>
        </div><!-- col-md-12 -->
      </div><!-- row -->
    </div><!-- container -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-56332-76"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-56332-76');
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
            integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
            crossorigin="anonymous"></script>
    <script src="/script.js"></script>
  </body>
</html>
