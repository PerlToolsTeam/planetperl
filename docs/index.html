<!DOCTYPE html>
<html>
  <head>
    <meta property="og:title" content="Planet Perl" /> 
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://perl.theplanetarium.org/" />
    <meta property="og:image" content="https://perl.theplanetarium.org/planet-perl.jpg" />
    <meta property="og:description" content="Collecting the best Perl web feeds"/>
    <title>Planet Perl</title>
    <meta charset="UTF-8">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
          crossorigin="anonymous">

    <link rel="alternate" type="application/atom+xml" title="Atom" href="http://perl.theplanetarium.org/atom.xml" />
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Planet Perl</a>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 left">
          <p>Text: <a href="#" id="show">show</a> / <a href="#" id="hide">hide</a></p>
          <h2>Sources</h2>
          <ul>
            <li><a href="http://blogs.perl.org/">blogs.perl.org</a></li>
            <li><a href="https://dev.to/t/perl">dev.to #perl</a></li>
            <li><a href="https://domm.plix.at/perl.html">domm (Perl and other tech)</a></li>
            <li><a href="https://metacpan.org/news">MetaCPAN News</a></li>
            <li><a href="https://niceperl.blogspot.com/">Niceperl</a></li>
            <li><a href="https://nxadm.wordpress.com/tag/perl/">nxadm</a></li>
            <li><a href="https://news.perlfoundation.org/">Perl Foundation News</a></li>
            <li><a href="https://perlhacks.com/">Perl Hacks</a></li>
            <li><a href="https://perlmaven.com/">Perl Maven</a></li>
            <li><a href="https://perlweekly.com/">Perl Weekly</a></li>
            <li><a href="https://blog.perl-academy.de/">Perl-Academy.de</a></li>
            <li><a href="https://perl.com/">perl.com</a></li>
            <li><a href="https://perlancar.wordpress.com/">Perlancar</a></li>
            <li><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl">RabbitFarm Perl</a></li>
            <li><a href="https://log.perl.org/">The Perl NOC</a></li>
          </ul>
          <p><a href="/atom.xml"><img alt="Feed" src="/images/feed.gif" /> Subscribe</a>
          <br />
          <a href="/opml.xml"><img alt="OPML" src="/images/opml.png" /> OPML</a></p>
          <p>
            <ul>
              <li>Powered by <a href="https://metacpan.org/release/Perlanet">Perlanet</a></li>
              <li>Code on <a href="https://github.com/davorg/planetperl">Github</a></li>
              <li><a href="https://github.com/davorg/planetperl/issues">Feedback welcome</a></li>
            </ul>
          </p>
        </div><!-- col-md-2 -->
        <div class="col-md-8">
          <div class="card" id="card_1">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2021/11/perl-weekly-challenge-140-add-binary.html">Perl Weekly Challenge 140: Add Binary</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Friday 26 November 2021 23:31</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 140 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-140/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few days from now (on November 28, 2021 at 24:00). This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: Add Binary</h2>

<p><em>You are given two decimal-coded binary numbers, <code>$a</code> and <code>$b</code>.</em></p>

<p><em>Write a script to simulate the addition of the given binary numbers.</em></p>

<blockquote>
  <p><em>The script should simulate something like <code>$a + $b</code>. (operator overloading)</em></p>
</blockquote>

<p><em>Example 1:</em></p>

<pre><code>Input: $a = 11; $b = 1;
Output: 100
</code></pre>

<p><em>Example 2:</em></p>

<pre><code>Input: $a = 101; $b = 1;
Output: 110
</code></pre>

<p><em>Example 3:</em></p>

<pre><code>Input: $a = 100; $b = 11;
Output: 111
</code></pre>

<h3>Add Binary in Raku</h3>

<p>In Raku, we simply convert the binary strings to regular integers, using the <a href="https://docs.raku.org/routine/parse-base">parse-base</a> method, add these integers with normal addition, and convert the result back to a binary string with the <a href="https://docs.raku.org/routine/base">base</a> built-in method.</p>

<pre><code>use v6;

sub add-bin ($a, $b) {
    ($a.Str.parse-base(2) + $b.Str.parse-base(2)).base(2);
}
for (11, 1), (101, 1), (100, 11), (1011,11) -&gt; $test {
    say "$test\t=&gt; ", add-bin $test[0], $test[1];
}
</code></pre>

<p>This scipt displays the following output:</p>

<pre><code>$ raku ./add-binary.raku
11 1    =&gt; 100
101 1   =&gt; 110
100 11  =&gt; 111
</code></pre>

<h3>Add Binary in Perl</h3>

<p>In Perl, we implemented manually an <code>add_bin</code> subroutine to perform direct addition of decimal-coded binary numbers.</p>

<pre><code>use strict;
use warnings;
use feature "say";

sub add_bin {
    my ($c, $d) = @_;
    ($d, $c) = ($c, $d) if $d &gt; $c;
    my $result = "";
    my @c = reverse split //, $c;
    my @d = reverse split //, $d;
    my $carry = 0;   # carry over
    for my $i (0 .. $#c){
        my $e = $d[$i] // 0;
        my $t = $c[$i] + $e + $carry;
        $result .= $t and $carry = 0 if $t &lt;= 1;
        if ($t == 2) {
            $result .= 0;
            $carry = 1;
        } elsif ($t == 3) {
            $result .= 1;
            $carry = 1;
        }
    }
    $result .= ($carry == 0 ? '' : $carry == 1 ? 1 : '01');
    return scalar reverse $result;
}
for my $test ( [11, 1], [101, 1], [100, 11], [100, 100], [1011, 11]) {
    say "@$test\t=&gt; ", add_bin @$test;
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ perl  ./add-binary.pl
11 1    =&gt; 100
101 1   =&gt; 110
100 11  =&gt; 111
100 100 =&gt; 1000
1011 11 =&gt; 1110
</code></pre>

<h2>Task 2: Multiplication Table</h2>

<p>I have no time now to complete this task and will be busy most of the weekend. I might be able to complete it on Sunday evening and will post accordingly if I do.</p>

<p><em>Update:</em> I manage to complete Task 2 in time. Please find below a link to my new blog post providing Raku and Perl solutions to task 2 of PWC 140:</p>

<p>http://blogs.perl.org/users/laurent_r/2021/11/perl-weekly-challenge-140-multiplication-tables.html</p>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on December 5, 2021. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_2">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/laurent_r/2021/11/perl-weekly-challenge-140-multiplication-tables.html">Perl Weekly Challenge 140: Multiplication Tables</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by laurent_r
 on Monday 29 November 2021 03:16</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>These are some answers to the Week 139 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-140/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<h2>Task 1: Add Binary</h2>

<p>This task was covered in the following blog post: http://blogs.perl.org/users/laurent_r/2021/11/perl-weekly-challenge-140-add-binary.html.</p>

<h2>Task 2: Multiplication Table</h2>

<p><em>You are given 3 positive integers, <code>$i</code>, <code>$j</code> and <code>$k</code>.</em></p>

<p><em>Write a script to print the <code>$kth</code> element in the sorted multiplication table of <code>$i</code> and <code>$j</code>.</em></p>

<p><em>Example 1:</em></p>

<pre><code>Input: $i = 2; $j = 3; $k = 4
Output: 3

Since the multiplication of 2 x 3 is as below:

    1 2 3
    2 4 6

The sorted multiplication table:

    1 2 2 3 4 6

Now the 4th element in the table is "3".
</code></pre>

<p><em>Example 2:</em></p>

<pre><code>Input: $i = 3; $j = 3; $k = 6
Output: 4

Since the multiplication of 3 x 3 is as below:

    1 2 3
    2 4 6
    3 6 9

The sorted multiplication table:

    1 2 2 3 3 4 6 6 9

Now the 6th element in the table is "4".
</code></pre>

<h3>Multiplication Table in Raku</h3>

<p>We use the built-in infix <code>X</code> <a href="https://docs.raku.org/routine/X">cross-product</a> operator to create all combinations from each range, and combine it with the <code>*</code> multiplication operators to obtain all the products of the multiplication table. Then, we simply sort the values obtained and pick the right one (at index <code>$k - 1</code>). In Raku, we can chain all these operations in just one code-line:</p>

<pre><code>use v6;

sub mult-table (UInt $i, UInt $j, UInt $k) {
    say (sort 1..$i X* 1..$j)[$k - 1]
}
for (2, 3, 4), (3, 3, 6) -&gt; $a, $b, $c {
    mult-table $a, $b, $c;
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>raku ./mult-table.raku
3
4
</code></pre>

<h3>Multiplication Table in Perl</h3>

<p>Since we don&#8217;t have the cross-product operator in Perl, we will simply use two nested <code>for</code> loops to compute the products and store them in the <code>@products</code> array. Then, we sort the values obtained and pick the right one (at index <code>$k - 1</code>).</p>

<pre><code>use strict;
use warnings;
use feature "say";

sub mult_table {
    my ($c, $d, $k) = @{$_[0]};
    my @products;
    for my $i (1..$c) {
        for my $j (1..$d) {
            push @products, $i * $j;
        }
    }
    say +(sort {$a &lt;=&gt; $b} @products)[$k - 1];

}
for my $test ([2, 3, 4], [3, 3, 6]) {
    mult_table $test;
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ perl mult-table.pl
3
4
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon. If you want to participate in this challenge, please check https://perlweeklychallenge.org/ and make sure you answer the challenge before 23:59 BST (British summer time) on December 5, 2021. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>

        

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_3">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2021/11/28#pwc140">A Binary Addition Simulation / Nth from a Sorted Multiplication: Table The Weekly Challenge 140</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 28 November 2021 17:16</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>You are given two decimal-coded binary numbers, $a and $b. Write a script to simulate the
addition of the given binary numbers.</em> </p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
sub add_binary{
    my($x, $y) = @_;
    my $sum = ""; 
    my @a = reverse(split(//, $x));            
    my @b = reverse(split(//, $y));            
    if(@b > @a){
        my @c = @b;
        @b = @a;
        @a = @c;   
    } 
    my $carry = 0; 
    for(my $d = 0; $d <= @a - 1; $d++){ 
        my $d0 = $a[$d]; 
        my $d1 = $b[$d];
        if($d1){
            $sum = "0$sum", $carry = 0 if $d0 == 1 && $d1 == 1 && $carry == 1;  
            $sum = "1$sum", $carry = 0 if $d0 == 1 && $d1 == 0 && $carry == 0; 
            $sum = "0$sum", $carry = 1 if $d0 == 1 && $d1 == 1 && $carry == 0; 
            $sum = "0$sum", $carry = 1 if $d0 == 0 && $d1 == 1 && $carry == 1; 
            $sum = "0$sum", $carry = 0 if $d0 == 0 && $d1 == 0 && $carry == 0; 
            $sum = "1$sum", $carry = 0 if $d0 == 0 && $d1 == 0 && $carry == 1; 
            $sum = "0$sum", $carry = 1 if $d0 == 1 && $d1 == 0 && $carry == 1; 
            $sum = "1$sum", $carry = 0 if $d0 == 0 && $d1 == 1 && $carry == 0; 
        } 
        else{
            $sum = "0$sum", $carry = 1, next if $d0 == 1 && $carry == 1;  
            $sum = "1$sum", $carry = 0, next if $d0 == 0 && $carry == 1;  
            $sum = "0$sum", $carry = 0, next if $d0 == 0 && $carry == 0;  
            $sum = "1$sum", $carry = 0, next if $d0 == 1 && $carry == 0;  
        }  
    } 
    $sum = "$carry$sum" if $carry == 1;  
    return $sum; 
}

MAIN:{
    print add_binary(11, 1) . "\n"; 
    print add_binary(101, 1) . "\n"; 
    print add_binary(100, 11) . "\n"; 
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
100
110
111
</code></pre>

<h3>Notes</h3>

<p>I have an unusual fondness for Perl's right hand conditional. But that is pretty obvious 
from the way I wrote this, right? </p>

<h2>Part 2</h2>

<p><em>You are given 3 positive integers, $i, $j and $k. Write a script to print the $kth 
element in the sorted multiplication table of $i and $j.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
sub nth_from_table{
    my($i, $j, $k) = @_;
    my @table;
    for my $x (1 .. $i){
        for my $y (1 .. $j){
            push @table, $x * $y; 
        }  
    }  
    return (sort {$a <=> $b} @table)[$k - 1];   
} 

MAIN:{
    print nth_from_table(2, 3, 4) . "\n";  
    print nth_from_table(3, 3, 6) . "\n";  
} 
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl 
3
4
</code></pre>

<h3>Notes</h3>

<p>Full Disclosure: At first I wanted to do this in some convoluted way for fun. After
experimenting with, like, nested <code>map</code>s for a few minutes I lost all interest in "fun" and
just went with a couple of <code>for</code> loops!</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-140/">Challenge 140</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_4">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/maintaining_perl5_tony_cook_oct_2021">Maintaining Perl 5 Core (Tony Cook): October 2021</a></h2>
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Jason A. Crome
 on Sunday 28 November 2021 17:01</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
     <p>Approximately 25 tickets were reviewed, and 3 patches were
applied.
```
[Hours]         [Activity]
  0.83          #12957 review discussion (mentioned in #19182), review
                sdbm source, comment
  1.27          #18958 look over code
                #18958 review code and comment
                #18958 comment
  1.59          #19020 research - should the shell be trapping in this
                case?  haven’t found anything appropriate, also look at
                dash source
                #19020 more dash source, comment
  2.74          #19121 research and comment
                #19121 re-work
                #19121 consider alternative for the delimiter, looking
                over code
                #19121 look at a :crlf issue - is it a problem elsewhere
                cpan #133233
  0.30          #19122 apply to blead, perldelta
  1.27          #19124 debugging
  0.30          #19166 review
  0.45          #19171 review and briefly comment
                #19171 review latest changes and apply to blead
  1.22          #19172 review and a couple of brief comments
  0.30          #19174 review discussion, testing, research and comment
  2.42          #19182 review, comments
                #19182 review changes, comment
                #19182 review, testing, brief comment
  0.43          #19184 review, consider if feature regen needs some re-
                work
                #19184 briefly review
  0.60          #19186 review, research and comment
  0.62          #19187 review and approve
  0.63          #19190 review, research, briefly comment
  0.91          #19191 review and apply, also supply patch upstream and
                update customizations
                #19191 comment
  0.43          #19194 review and approve
  2.18          #19197 review, research (who wrote that test? it was me)
                and comment
                #19197 review new commits
  9.56          #19198 debugging and comment
                #19198 debugging, work on a fix, simple testing, comment
                #19198 recheck, testing, try to find good place to add
                regression test, minor perl5db.t re-work
                #19198 minor cleanup and document DebugWrap in perl5db.t,
                write test, test the test with and without the fix,
                testing
                #19198 fix global destruction issue from fix, debug
                another threads only failure and work out a fix
                #19198 polish, documentation, more testing, update PR
  0.92          review coverity reported defects, create PR #19200
  1.42          :utf8 more on re-working fill/readdelim
  0.65          :utf8 more readdelim re-work
  1.58          :utf8 work on re-working fill
  0.17          github notifications</p>

<h1>  1.07          security list: research, testing, comment</h1>

<p>33.86 hours total
```</p>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_5">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2021/11/ccclxix-12-great-cpan-modules-released.html">(ccclxix) 12 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 27 November 2021 17:56</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br /><br /><ol><li><a href="https://metacpan.org/release/OLIVER/App-Netdisco-2.051005" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">App::Netdisco</span></b></a> - An open source web-based network management tool. <ul>  <li>Version: <strong>2.051005</strong> on 2021-11-25</li>  <li>Votes: 13</li>  <li>Previous version: 2.051001 was 11 days before</li></ul></li><li><a href="https://metacpan.org/release/GUGOD/App-perlbrew-0.93" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">App::perlbrew</span></b></a> - Manage perl installations in your $HOME <ul>  <li>Version: <strong>0.93</strong> on 2021-11-22</li>  <li>Votes: 167</li>  <li>Previous version: 0.92 was 7 months, 7 days before</li></ul></li><li><a href="https://metacpan.org/release/DWHEELER/App-Sqitch-v1.2.0" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">App::Sqitch</span></b></a> - Sensible database change management <ul>  <li>Version: <strong>v1.2.0</strong> on 2021-11-20</li>  <li>Votes: 38</li>  <li>Previous version: v1.1.0 was 1 year, 6 months before</li></ul></li><li><a href="https://metacpan.org/release/DROLSKY/Code-TidyAll-0.80" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Code::TidyAll</span></b></a> - Engine for tidyall, your all-in-one code tidier and validator <ul>  <li>Version: <strong>0.80</strong> on 2021-11-26</li>  <li>Votes: 36</li>  <li>Previous version: 0.78 was 1 year, 7 months, 1 day before</li></ul></li><li><a href="https://metacpan.org/release/ANDK/CPAN-2.29" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">CPAN</span></b></a> - query, download and build perl modules from CPAN sites <ul>  <li>Version: <strong>2.29</strong> on 2021-11-23</li>  <li>Votes: 33</li>  <li>Previous version: 2.28 was 1 year, 5 months, 10 days before</li></ul></li><li><a href="https://metacpan.org/release/BINGOS/CPANPLUS-0.9914" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">CPANPLUS</span></b></a> - Ameliorated interface to the CPAN <ul>  <li>Version: <strong>0.9914</strong> on 2021-11-23</li>  <li>Votes: 12</li>  <li>Previous version: 0.9912 was 3 months, 2 days before</li></ul></li><li><a href="https://metacpan.org/release/BINGOS/Module-CoreList-5.20211120" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Module::CoreList</span></b></a> - what modules shipped with versions of perl <ul>  <li>Version: <strong>5.20211120</strong> on 2021-11-21</li>  <li>Votes: 37</li>  <li>Previous version: 5.20211020 was 1 month before</li></ul></li><li><a href="https://metacpan.org/release/JHTHORSEN/Mojo-mysql-1.25" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Mojo::mysql</span></b></a> - Mojolicious and Async MySQL/MariaDB <ul>  <li>Version: <strong>1.25</strong> on 2021-11-22</li>  <li>Votes: 35</li>  <li>Previous version: 1.24 was 1 month, 17 days before</li></ul></li><li><a href="https://metacpan.org/release/JHTHORSEN/Mojolicious-Plugin-OpenAPI-5.02" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Mojolicious::Plugin::OpenAPI</span></b></a> - OpenAPI / Swagger plugin for Mojolicious <ul>  <li>Version: <strong>5.02</strong> on 2021-11-21</li>  <li>Votes: 41</li>  <li>Previous version: 5.01 was 1 day before</li></ul></li><li><a href="https://metacpan.org/release/PEVANS/Object-Pad-0.58" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Object::Pad</span></b></a> - a simple syntax for lexical slot-based objects <ul>  <li>Version: <strong>0.58</strong> on 2021-11-25</li>  <li>Votes: 22</li>  <li>Previous version: 0.57 was 7 days before</li></ul></li><li><a href="https://metacpan.org/release/VANSTYN/RapidApp-1.3500" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">RapidApp</span></b></a> - Turnkey ajaxy webapps <ul>  <li>Version: <strong>1.3500</strong> on 2021-11-22</li>  <li>Votes: 29</li>  <li>Previous version: 1.3404 was 2 months, 5 days before</li></ul></li><li><a href="https://metacpan.org/release/ETHER/Try-Tiny-0.31" target="_blank"><b><span style="font-family: Courier New, Courier, monospace;">Try::Tiny</span></b></a> - Minimal try/catch with proper preservation of $@ <ul>  <li>Version: <strong>0.31</strong> on 2021-11-23</li>  <li>Votes: 168</li>  <li>Previous version: 0.30 was 3 years, 11 months, 2 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_6">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2021/11/cdxcii-metacpan-weekly-report-dbdpg.html">(cdxcii) metacpan weekly report - DBD::Pg</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 27 November 2021 17:54</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This is the weekly favourites list of CPAN distributions. Votes count: 24</p><p>Week's winner: <b><a href="https://metacpan.org/module/DBD::Pg" target="_blank">DBD::Pg (+2)</a></b></p><p>Build date: 2021/11/27 16:53:53 GMT</p><br/><p>Clicked for <u>first time</u>:</p><ul><li><a href="https://metacpan.org/module/Cookie" target="_blank">Cookie</a> - Cookie Object with Encryption or Signature</li><li><a href="https://metacpan.org/module/DBIx::Spreadsheet" target="_blank">DBIx::Spreadsheet</a> - Query a spreadsheet with SQL</li><li><a href="https://metacpan.org/module/Dist::Zilla::MintingProfile::AlienBuild" target="_blank">Dist::Zilla::MintingProfile::AlienBuild</a> - A minimal Dist::Zilla minting profile for Aliens</li><li><a href="https://metacpan.org/module/Perl::Critic::RENEEB" target="_blank">Perl::Critic::RENEEB</a> - A collection of handy Perl::Critic policies</li><li><a href="https://metacpan.org/module/Text::CleanFragment" target="_blank">Text::CleanFragment</a> - clean up text to use as URL fragment or filename</li></ul><br/><p><u>Increasing</u> its reputation:</p><ul><li><a href="https://metacpan.org/module/App::cpanminus" target="_blank">App::cpanminus</a> (+1=261)</li><li><a href="https://metacpan.org/module/App::plx" target="_blank">App::plx</a> (+1=5)</li><li><a href="https://metacpan.org/module/Coro" target="_blank">Coro</a> (+1=72)</li><li><a href="https://metacpan.org/module/DateTime" target="_blank">DateTime</a> (+1=204)</li><li><a href="https://metacpan.org/module/DBD::Pg" target="_blank">DBD::Pg</a> (+2=87)</li><li><a href="https://metacpan.org/module/DBI" target="_blank">DBI</a> (+1=251)</li><li><a href="https://metacpan.org/module/MCE" target="_blank">MCE</a> (+1=88)</li><li><a href="https://metacpan.org/module/mod_perl" target="_blank">mod_perl</a> (+1=21)</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::Directory::Stylish" target="_blank">Mojolicious::Plugin::Directory::Stylish</a> (+1=2)</li><li><a href="https://metacpan.org/module/Object::Pad" target="_blank">Object::Pad</a> (+1=22)</li><li><a href="https://metacpan.org/module/Parallel::ForkManager" target="_blank">Parallel::ForkManager</a> (+1=89)</li><li><a href="https://metacpan.org/module/perl" target="_blank">perl</a> (+1=385)</li><li><a href="https://metacpan.org/module/POE" target="_blank">POE</a> (+1=51)</li><li><a href="https://metacpan.org/module/Statocles" target="_blank">Statocles</a> (+1=31)</li><li><a href="https://metacpan.org/module/StreamFinder" target="_blank">StreamFinder</a> (+1=4)</li><li><a href="https://metacpan.org/module/Test::Perl::Critic::Progressive" target="_blank">Test::Perl::Critic::Progressive</a> (+1=3)</li><li><a href="https://metacpan.org/module/UNIVERSAL::Object" target="_blank">UNIVERSAL::Object</a> (+1=12)</li><li><a href="https://metacpan.org/module/YAML" target="_blank">YAML</a> (+1=66)</li></ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_7">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2021/11/dxi-stackoverflow-perl-report.html">(dxi) stackoverflow perl report</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 27 November 2021 17:52</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>These are the ten most rated questions at <a href="http://www.stackoverflow.com">Stack Overflow</a> last week.<br />Between brackets: [<b>question score</b> / answers count]<br />Build date: 2021-11-27 15:58:04 GMT</p><hr /><ol><li><a href="http://stackoverflow.com/questions/70100892" target="_blank">Understanding the difference in behaviour between perl's assign-or operator and the combination of assignment and logical-or operators</a> - [<b>3</b>/2]</li><li><a href="http://stackoverflow.com/questions/70076261" target="_blank">Mojo::UserAgent fails to verify certificate, where LWP::UserAgent succeeds</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/70110446" target="_blank">Dump WWW::Curl::Easy request</a> - [<b>2</b>/1]</li><li><a href="http://stackoverflow.com/questions/70098858" target="_blank">2-Way-TLS support</a> - [<b>2</b>/0]</li><li><a href="http://stackoverflow.com/questions/70094403" target="_blank">In Perl, can I put unlimited conditions with the ternary conditional operator?</a> - [<b>1</b>/3]</li><li><a href="http://stackoverflow.com/questions/70109979" target="_blank">Multiple inheritance - wrong overload selected</a> - [<b>1</b>/3]</li><li><a href="http://stackoverflow.com/questions/70070566" target="_blank">How can I modify this Perl subroutine so that it prints the contents of the file, using print_file?</a> - [<b>1</b>/2]</li><li><a href="http://stackoverflow.com/questions/70105406" target="_blank">How to push an array into another array?</a> - [<b>1</b>/2]</li><li><a href="http://stackoverflow.com/questions/70130938" target="_blank">Extract HTTP body from curl response</a> - [<b>1</b>/2]</li><li><a href="http://stackoverflow.com/questions/70067505" target="_blank">CPAN fails to install Algorithm::CurveFit</a> - [<b>1</b>/1]</li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_8">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/tom_wyant/2021/11/my-favorite-warnings-experimental.html">My Favorite Warnings: experimental</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Tom Wyant
 on Friday 26 November 2021 21:36</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>Perl has had experimental features ever since I started using it at about version 5.6. These were things that were considered useful, but about which there was doubt -- about their final form, whether a satisfactory implementation existed, or whatever.</p>

<p>Until Perl 5.18, experimental features were simply documented as experimental. At that point, an <code>experimental</code> warning category was added, with sub-categories <code>experimental::lexical_subs</code>, <code>experimental::lexical_topic</code>, <code>experimental::regex_sets</code>, and <a href="https://perldoc.perl.org/perldiag#Smartmatch-is-experimental"><code>experimental::smartmatch</code></a>.</p>

<p>Most of the features covered by the original Perl 5.18 warning categories were actually introduced in Perl 5.10 as back-ports from Raku (or Perl 6, as it was then called), and not documented as experimental. My impression was that the relevant <code>experimental::</code> warnings  were introduced becaue the corresponding features were recognized as being more experimental than originally believed. Programmers already familiar with a feature might not notice an extra sentence in the documentation, but they will surely notice if their code starts spitting out <code>experimental</code> warnings.</p>

<p>Since that time a number of experimental warnings have been introduced, the latest in production being <a href="https://perldoc.perl.org/perldiag#isa-is-experimental">experimental::isa</a> introduced in Perl 5.32 and <a href="https://perldoc.perl.org/perldiag#try/catch-is-experimental">experimental::try</a> introduced in Perl 5.34. As of Perl 5.34, 19 experimental categories are defined, including <code>experimental</code> itself.</p>

<p>In theory, experimental features are eventually judged successful and considered mainstream Perl 5, or judged unsuccessful and removed.</p>

<p>If an experiment is successful, the warnings are removed, but for backward compatibility the warning category remains, even though it no longer corresponds to any diagnostics. These are included in the 19 categories reported a couple paragraphs ago.</p>

<p>If an experiment fails, both its implementation and its warning category are removed, so that any use of it (including an attempt to explicitly enable or disable its warnings) will result in a fatal error. As of Perl 5.34.0 there are only two of these, <code>experimental::autoderef</code> and <code>experimental::lexical_topic</code>, both of which were discussed in <a href="http://blogs.perl.org/users/tom_wyant/2021/11/my-favorite-warnings---ex-warnings.html">My Favorite (?) Warnings - Ex-Warnings</a>.</p>

<p>Previous entries in this series:</p>
<ol>
    <li><a href="http://blogs.perl.org/users/tom_wyant/2021/10/my-favorite-warnings-a-belated-introduction.html">A Belated Introduction</a></li>
    <li><a href="http://blogs.perl.org/users/tom_wyant/2021/09/my-favorite-warnings-once.html"><code>once</code></a></li>
    <li><a href="http://blogs.perl.org/users/tom_wyant/2021/09/my-favorite-warnings-redundant-and-missing.html"><code>redundant</code> and <code>missing</code></a></li>
    <li><a href="http://blogs.perl.org/users/tom_wyant/2021/09/my-favorite-warnings-exiting.html"><code>exiting</code></a></li>
    <li><a href="http://blogs.perl.org/users/tom_wyant/2021/10/my-favorite-warnings-uninitialized.html"><code>uninitialized</code></a></li>
    <li><a href="http://blogs.perl.org/users/tom_wyant/2021/10/my-favorite-warnings-redefine-sooner.html"><code>redefine</code></li>
    <li><a href="http://blogs.perl.org/users/tom_wyant/2021/11/my-favorite-warnings---ex-warnings.html">Ex-Warnings</a></li>
    <li><a href="http://blogs.perl.org/users/tom_wyant/2021/11/my-favorite-warnings-deprecated.html"><code>deprecated</code></a></li>
</ol>

        
           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_9">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/simongreennet/weekly-challenge-140-a50">Weekly Challenge 140</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Simon Green
 on Thursday 25 November 2021 12:41</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-140/">Challenge</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/tree/master/challenge-140/sgreen">My Solutions</a></p>

<p>So I discovered after doing last weeks challenge, that I was basically copying my Perl code and then converting it to Python. I've decided for future challenges I'm likely to do it the other way as Python is what challenges me the most.</p>

<h2>
  <a href="#task-1-add-binary">
  </a>
  TASK #1 › Add Binary
</h2>

<h3>
  <a href="#task">
  </a>
  Task
</h3>

<p>You are given two decimal-coded binary numbers, <code>$a</code> and <code>$b</code>.</p>

<p>Write a script to simulate the addition of the given binary numbers. The script should simulate something like $a + $b. (operator overloading)</p>

<h3>
  <a href="#my-solution">
  </a>
  My solution
</h3>

<p>So for this task, I have a class called BinaryDecimal, that holds a <code>value</code>, which is a decimal number. I make a check that this value contains only ones and zeros.</p>

<p>I then use the <code>__add__</code> method which overloads addition operator that adds two BinaryDecimal values together. Python does make a distinction between integers and strings so there will be no short cuts to be had :)</p>

<p>I'm sure I don't need to explain to Team PWC members how we were taught addition at primary school. I take the last digit of each number (using the modulus operator), and the <code>carry</code> value and add them up. If the result is two or 3, I set <code>carry</code> to be one. If the result is one or 3, I add the appropriate value to the <code>result</code> variable. I then divide both numbers by ten and continue until we have exhausted both numbers and the carry value.</p>

<p>For this task the Perl code is a transliteration of the Python code. All the extra <code>my</code>, dollar signs, semi-colons and brackets does make me appreciate Python. The only major change is that you use the <code>overload</code> module to overload operators, and we use <code>package</code> instead of <code>class</code>.</p>

<h3>
  <a href="#examples">
  </a>
  Examples
</h3>



<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./ch-1.py 11 1
100

$ ./ch-1.py 101 1
110

$ ./ch-1.py 100 11
111
</code></pre>

</div>



<h2>
  <a href="#task-2-multiplication-table">
  </a>
  TASK #2 › Multiplication Table
</h2>

<h3>
  <a href="#task">
  </a>
  Task
</h3>

<p>You are given 3 positive integers, <code>$i</code>, <code>$j</code> and <code>$k</code>.</p>

<p>Write a script to print the <code>$k</code><sup>th</sup> element in the sorted multiplication table of <code>$i</code> and <code>$j</code>.</p>

<h3>
  <a href="#my-solutions">
  </a>
  My solutions
</h3>

<p>When doing these challenges, there usually is a point where you decide how much work do you want to do to achieve an optimal solution. This is one such task. There are two ways to tackle this, so I took different paths with each language.</p>

<p>For the Python code, I use brute force: Calculate all the products, sort the array, and display the appropriate number. This works, and works well.</p>

<p>However, if you start using really large numbers you can quite easily exhaust your RAM by storing such a large array. For my Perl code, I use a smarter solution, where the maximum size of the array is 2 * <code>$k</code></p>

<p>The logic is as follows:</p>

<p>1) Iterate from 1 to <code>$i</code> using the variable <code>$m</code><br>
2) Work out the maximum number of products we need to find</p>

<ul>
<li>If the array size is already <code>$k</code> items, then the result of the last value divided by <code>$m</code> is the maximum.</li>
<li>Otherwise we calculate the minimum of <code>$k</code> and <code>$j</code>
3) Push to the array the product of these numbers multiplied by <code>$m</code>
4) Sort the array and trim it.</li>
</ul>

<p>This is much more efficient, and means calculating really big numbers is easy as. Probably overkill given the examples, but fun to do anyway.</p>

<h3>
  <a href="#examples">
  </a>
  Examples
</h3>



<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ ./ch-2.py 2 3 4
3

$ ./ch-2.py 3 3 6
4

$ ./ch-2.pl 2 3 4
3

$ ./ch-2.pl 3 3 6
4
</code></pre>

</div>



       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_10">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/neilb/2021/11/addressing-cpan-vulnerabilities-related-to-checksums.html">Addressing CPAN vulnerabilities related to checksums</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Neil Bowers
 on Tuesday 23 November 2021 23:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p>This blog post addresses checksum and signature verification vulnerabilities affecting CPAN, the cpan client, and the cpanm client, which were published in a <a href="https://blog.hackeriet.no/cpan-signature-verification-vulnerabilities">security advisory</a> on 23rd November 2021. If you're not aware of this topic, you might like to start by reading <a href="https://blog.hackeriet.no/cpan-signature-verification-vulnerabilities">the advisory</a>. This post gives a high-level description of the issues, what has been done to address them, what is still left to do, and what you should do. If you have any questions on this, you can add comments here, or email the PAUSE admins (modules at perl dot org).</p>

<p>Before we dig into the details, we'll first give an overview of how the relevant parts of the CPAN ecosystem work.</p>

<p>If you're not interested in the details, skip to the section "What do you need to do?"</p>

<p>TL;DR: make sure your CPAN client uses https and a trusted mirror – such as cpan.org</p>

        <h2>How a CPAN module gets from the author to you</h2>

<p>An author creates a new module and wants to share it on CPAN. They build a release, and upload the resulting tarball to PAUSE, where it goes into their author directory (my PAUSE id is NEILB and my author directory can be found on CPAN at <a href="https://www.cpan.org/authors/id/N/NE/NEILB">https://www.cpan.org/authors/id/N/NE/NEILB</a>). If the uploader has the relevant indexing permissions, PAUSE will update the CPAN Index. The Index is a big file which lists all modules on CPAN; here's the entry for the "enum" module, which I currently maintain:</p>

<p><code style="font-family: Source Code Pro,Consolas,Menlo,Courier New,fixed; font-size: 10pt;"><pre>
    enum     1.12      N/NE/NEILB/enum-1.12.tar.gz
</pre></code></p>

<p>It says "if you want enum, the latest version is 1.12 and it's found in the tarball enum-1.12.tar.gz at this path in the authors directory.”</p>

<p>PAUSE also generates checksums for all files in author directories. Every directory has a file called CHECKSUMS (here's an example <a href="https://www.cpan.org/authors/id/G/GL/GLASSER/CHECKSUMS">CHECKSUMS file for user GLASSER</a>. After generating a new CHECKSUMS file, PAUSE signs it with GnuPG.</p>

<p>If you want to install a module, you can download the tarball and install it manually, but most people use a <em>CPAN client</em>. There are four main CPAN clients (<a href="https://metacpan.org/dist/CPAN/view/scripts/cpan">cpan</a>, <a href="https://metacpan.org/pod/cpanm">cpanm</a>, <a href="https://metacpan.org/pod/cpm">cpm</a>, and <a href="https://metacpan.org/dist/CPANPLUS/view/bin/cpanp">cpanp</a>) but we'll describe use of <a href="https://metacpan.org/dist/CPAN/view/scripts/cpan">cpan</a>, which is the client that's bundled with perl itself. To reduce confusion, we'll use "CPAN.pm" to refer to this client (that's <a href="https://metacpan.org/pod/CPAN">the module</a> that the cpan script uses).</p>

<p>To install the module, you run:</p>

<p><code style="font-family: Source Code Pro,Consolas,Menlo,Courier New,fixed; font-size: 10pt;"><pre>
    $ cpan Foo::Bar
</pre></code></p>

<p>The client makes sure it has a recent copy of the index, and looks for the module. If it's in the index, the client looks up the associated tarball and downloads it, along with the CHECKSUMS file that's in the author's directory on CPAN. The client generates a checksum for the downloaded file and compares it with the one in the CHECKSUMS file, and if they match, it goes ahead and installs it.</p>

<p>By default CPAN.pm doesn't check that the signature on the file is valid, but you can optionally enable that check as well. Since it's not enabled by default, the vast majority of us haven't been checking for a valid signature.</p>

<p>If you want to know more, you could start with <a href="http://blogs.perl.org/users/neilb/2016/04/the-perl-toolchain-pause-and-cpan.html">a blog post on how PAUSE and CPAN work</a>, and read a <a href="http://neilb.org/2015/09/05/cpan-glossary.html">CPAN glossary</a> which defines the terminology.</p>

<h2>What issues did the advisory identify?</h2>

<p>There were three issues identified, each of which has a separate CVE. This is a summary here; read the original advisory for the full story. Here are the CVEs: CVE-2020-16154, CVE-2020-16155, and CVE-2020-16156.</p>

<p>All three issues involve someone setting up a malicious CPAN mirror, and getting people to start using it.</p>

<p>The first issue is that the CHECKSUMS file only included the name of the tarball. For example, here's a snippet from the CHECKSUMS file in my author directory, as they appeared before the changes described below:</p>

<p><code style="font-family: Source Code Pro,Consolas,Menlo,Courier New,fixed; font-size: 10pt;"><pre>
  'Date-QuarterOfYear-0.04.tar.gz' => {
      'md5' => '8dd1a29e60af035a652aee121ab0919d',
      'md5-ungz' => '85ba26240f1396a147dcc09413a97db4',
      'mtime' => '2021-06-14',
      'sha256' => '1d13f55e5a1e84a7b05ce8cfd1d4cf9d9da80addd8f5f9fc845d2973daa06200',
      'sha256-ungz' => 'b4808c921b994656498ed74fbbba0677ff88d9624dabeabc4ef4f97b0655482f',
      'size' => 10763
  },
</pre></code></p>

<p>There's no mention of the path there. Someone could create a malicious version of my module and upload a file with the same name to their PAUSE where it winds up in their author directory. Then they could upload copies of everything else in my author directory to PAUSE, so that their author directory looks the same as mine, except one file has been replaced with their malicious copy. Their author directory will have a CHECKSUMS file which looks the same as the one in my author directory, apart from different hashes for the one modified file. Plus it's been signed by PAUSE. They can set up their own CPAN mirror that swaps their author directory in place of mine, and if anyone downloads this tarball, even with the signing of CHECKSUMS validated, they get the malicious code but it looks like it’s coming from me.</p>

<p>The other two CVEs are for an issue that affects both CPAN.pm and cpanm. These again relate to someone setting up a malicious CPAN mirror. They can generate checksums for a directory and prepend an unsigned version of the checksum data to the CHECKSUMS file. Both CPAN.pm and cpanm will take the unsigned checksum data, ignoring the signed version that's also in the same CHECKSUMS file. It turned out that if you enabled the signature verification checks in CPAN.pm and cpanm, if an unsigned version of the CHECKSUM data has been injected above the signed data, then the clients would happily install the tarball for you anyway.</p>

<h2>Addressing the issues</h2>

<p>The first line of protection is to not use untrusted mirrors. In the early days of CPAN, when the internet was slower and more flakey, most of us used a local mirror, so a network of hundreds of CPAN mirrors sprang up. In 2021 they are largely irrelevant.  Since 2019, the mirror list was truncated to just www.cpan.org. Most CPAN clients already default to this or to cpan.metacpan.org (which we also consider a trustworthy source).</p>

<p>If an attacker controls your network traffic, then they could inject malicious tarballs and checksums as well. Using https is the easiest thing you can do here.</p>

<p>CPAN.pm has defaulted to use only cpan.org since 2013 and with the truncation of the mirror list in 2019, any newly configured CPAN.pm clients are not vulnerable to a malicious mirror.  The latest release of CPAN.pm will use https if at all possible.</p>

<p>PAUSE has been updated so that the CHECKSUMS files now include <code>cpan_path</code> for each file, which gives the relative path to the directory for which the checksums were generated.  CPAN.pm will fail to validate if the paths don’t match so a signed CHECKSUMS file can’t be used from a different directory without detection.</p>

<p>CPAN.pm has been updated so that if you have configured it to validate the signature on CHECKSUMS, it will refuse to install a tarball if the associated CHECKSUMS file isn't signed.</p>

<h2>The CPAN clients</h2>

<p>In this section we'll summarise how the various CPAN clients work as of 2021-11-23, so you can make an informed decision on whether to continue using your current client, whether to upgrade, reconfigure, or to switch.</p>

<h3>CPAN.pm / cpan 2.29</h3>

<ul>
<li>It now ignores any previously configured urllist and only uses cpan.org. If you want it to honour the urllist parameter instead, you must set the new pushy_https parameter to false.</li>
<li>It will try to use https, including use of curl or wget if the appropriate modules aren't installed. If none of those approaches work, it will fall back on http://www.cpan.org.</li>
<li>It always looks at the CHECKSUMS file, and if you set <code>check_sigs</code> to true, it will require the CHECKSUMS file to have a valid signature.</li>
</ul>

<h3>cpanm 1.7044</h3>

<ul>
<li>Defaults to using http://www.cpan.org (but can be configured to use https://www.cpan.org – see below).</li>
<li>By default it doesn't look at the CHECKSUMS file.</li>
<li>The <code>--verify</code> option tells it to validate the signature and content of the CHECKSUMS file.</li>
<li>As of 2021-11-23, the latest version of cpanm (1.7044) doesn't address the issues raised, and so will install a distribution with unsigned CHECKSUMS content.</li>
</ul>

<h3>cpm 0.997007</h3>

<ul>
<li>This is the most modern client, and as a result was already in good shape.</li>
<li>By default cpm always uses https and downloads files from MetaCPAN's CPAN mirror, which we consider a trusted source. You can specify your own mirror in the command-line arguments, and even in your cpanfile.</li>
<li>cpm's goal is speed, and as a result it doesn't look at the CHECKSUMS file, and there's no option to ask it to.</li>
</ul>

<h3>cpanp (CPANPLUS) 0.9914</h3>

<ul>
<li>The default mirror is now www.cpan.org</li>
<li>If the "md5" config option is set to "true", it will check that the checksums match. This defaults to true if Digest::SHA is available; this has been a core module since Perl 5.9.3. * There is no option to request verification of the signature.</li>
<li>The default is to not use https, but if you set <code>prefer_bin</code> to true, and configure <code>hosts</code> for https, then it will use https://www.cpan.org as the source.</li>
<li>A new version of CPANPLUS (0.9914) has been released which also checks the cpan_path field, and refuses to install if it doesn't match.</li>
</ul>

<h2>What do you need to do?</h2>

<p>Use only <a href="https://www.cpan.org">https://www.cpan.org/</a> or <a href="https://cpan.metacpan.org">https://cpan.metacpan.org/</a>.  Do not use any other mirror that you have not personally verified is trustworthy.</p>

<p>Here’s how to configure that in different CPAN clients:</p>

<ul>
<li><strong>CPAN.pm</strong>: preferably upgrade to version 2.29, or configure your existing installation. In the CPAN shell, run the following command: "o conf urllist https://www.cpan.org", followed by "o conf commit" to save that change.</li>
<li><strong>cpanm</strong>: set the PERL_CPANM_OPT environment variable to ""--from https://www.cpan.org"</li>
<li><strong>cpm</strong>: it is already using https://cpan.metacpan.org, so you don't need to do anything. Check you haven't configured it to use a different mirror, and if you have, either update the config to explicitly use https://cpan.metacpan.org, or remove your configuration so it will use the default.</li>
<li><strong>CPANPLUS</strong>: set the <code>prefer_bin</code> option to true and make sure you've got curl installed. Then set the <code>hosts</code> parameter to <code>{ 'scheme' =&gt; 'https', 'path' =&gt; '/', 'host' =&gt; 'www.cpan.org' }</code></li>
</ul>

<p>If you insist on using an untrusted mirror, configure your CPAN client to verify CHECKSUMS.  Here’s how to do that in different CPAN clients:</p>

<ul>
<li><strong>CPAN.pm</strong>: always verifies the checksums, but with the <code>check_sigs</code> option set to true ("o conf check_sigs true" then "o conf commit"), it will check the signature as well.</li>
<li><strong>cpanm</strong>: the --verify option tells it to verify the checksums, so add that to PERL_CPANM_OPT.</li>
<li><strong>cpm</strong>: doesn't verify the checksums, and there is currently no option to request that.</li>
<li><strong>CPANPLUS</strong>: as long as you're using Perl 5.10 or later, it will verify the checksums. There's no option for testing the signature.</li>
</ul>

<h2>What's left to do?</h2>

<p>At the moment CPAN clients can't make https mandatory, because Perl doesn't support https out of the box. We've <a href="https://www.nntp.perl.org/group/perl.perl5.porters/2021/11/msg261979.html">raised this on p5p</a>, and this will hopefully lead to an RFC and support for https in the not-too-distant future.</p>

<p>Fixes are being worked on for cpanm, so unsigned CHECKSUMS will be fatal if you've given --verify, and also to support the cpan_path key in the CHECKSUMS files.</p>

<p>We're hoping that CPANPLUS will be updated to try and use https by default, as we've done with CPAN.pm.</p>

<h2>Conclusion</h2>

<p>The best way to ensure you're downloading the original versions of CPAN releases is to use a trusted CPAN mirror, and only talk to it over https.</p>

<p>If you are aware of any further potential security issues with PAUSE, or the CPAN clients, you can raise them via email to the PAUSE Admins private email list: pause-admin at perl dot org.</p>

<h2>Acknowledgements</h2>

<p>Firstly, thank you to Stig Palmquist, who identified these issues, and who has been patient and helpful as they were being addressed.</p>

<p>As ever with Perl, this has been a team effort of volunteers. Thank you to the CPAN client authors and others, who have worked on changes, and in some cases are still working. Thank you to everyone who read drafts of this post, and improved it with their input.</p>

           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_11">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/thibaultduponchelle/5-cool-perlrakuprogramming-links-50dj">5 cool Perl/Raku/Programming links </a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Tib
 on Wednesday 24 November 2021 09:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Today I won't be too much verbose but very direct and just share some cool links!</p>

<h4>
  <a href="#mind-blowing-demonstration-of-raku-grammars">
  </a>
  <a href="https://www.youtube.com/watch?v=rxaB6m_sQKk">Mind Blowing demonstration of Raku grammars</a>
</h4>

<h4>
  <a href="#sanity-of-twitch-programmers-via-commits">
  </a>
  <a href="https://youtu.be/KjYBh7rq0-Y">Sanity of twitch programmers via commits</a>
</h4>

<h4>
  <a href="#programming-pain-in-one-video">
  </a>
  <a href="https://www.youtube.com/watch?v=ePhAj8ktiEA">Programming pain in one video</a>
</h4>

<h4>
  <a href="#hilarious-talk-about-fashion-and-perl">
  </a>
  <a href="https://www.youtube.com/watch?v=WquECQnnCq4">Hilarious talk about fashion and Perl</a>
</h4>

<h4>
  <a href="#tail-call-optimization-the-musical">
  </a>
  <a href="https://youtu.be/-PX0BV9hGZY">Tail Call Optimization: The Musical!</a>
</h4>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_12">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/lancew/building-a-simple-rss-aggregator-with-perl-and-mojolicious-to-replace-a-php-app-4a3n">Building a simple RSS aggregator with Perl and Mojolicious to replace a PHP app</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Lance Wicks
 on Tuesday 23 November 2021 00:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>In the last tale I shared a little of my experience of using the Digital Ocean app services for build, deploy and hosting of a simple web application.</p>

<p>In this tale, I'd like to summarise the small application I built.</p>

<h1>
  <a href="#introduction">
  </a>
  Introduction
</h1>

<p>The application I am replacing is a old (early 2000s) PHP application. It aggregates RSS feeds from a variety of Judo blogs and produces both a web presentation and a new RSS feed of the combined RSS items. The old site has limped along with little modification since early 2010s. It did well untill the hosting platform it was on (cPanel) upgraded PHP and broke the site.</p>

<p>There were two specific hacks that both helped and hindered. The web pages were being writen to static HTML files by a cron job that ran the PHP. To address multi-ligual need, the site had three installations of the same code running against different OPML files of sites. This actually menat the site stayed "up" when the PHP upgrade broke the app.</p>

<h1>
  <a href="#new-version">
  </a>
  New Version
</h1>

<p>I decided to build the site using Mojolicious. I've done a lot of work with Dancer2 in the past, so this was a good opportunity to build something real with Mojo.</p>

<p>Making the site properly multi-lingual was high on my agenda. Fast also an important factor for me.</p>

<h1>
  <a href="#starting">
  </a>
  Starting
</h1>

<p>I started by using the Mojolicious command line tool to scaffold a working application:</p>

<p><code><br>
mojo generate app<br>
</code></p>

<p>This gave me the shape of the app; Mojo/Mojolicious gives a pretty standard MVC web application structure to work with. As someone familiar with Dancer2 it's not difficult to adjust. All your regular tools for handling <code>GET</code> and <code>POST</code> requests are there already. Mojo also comes with <code>Morbo</code>.</p>
<h2>
  <a href="#morbo">
  </a>
  Morbo
</h2>

<p>Morbo is a development server that handles HTTP and has an almost mandatory feature for me... hot reloading. When you change some code, Morbo identifies that and reloads. This is pretty common in other languages and it's nice to have it baked into Mojo.</p>
<h2>
  <a href="#testmojo">
  </a>
  Test::Mojo
</h2>

<p>Mojo comes with <code>Test::Mojo</code> which is a really nice library to help you test the WebUI elements of your application. This is really nice and works well. I like to try and build things in a Test Driven Development style. Both in terms of unit tests AND integration style tests. Test::Mojo makes it easy to describe the web page I want to build and then confirm I have done it as I build it.</p>

<p>It does not replace unit testing for business logic (I still use <code>Test2::V0</code>) for that. Test::Mojo provides a ovely out of the box, pre-wired web page testing tool. The ease of use as a developer is important to me and frankly makes doing a more TDD style of development more of a default option than if you have to wire things together yourself.</p>
<h2>
  <a href="#xml">
  </a>
  XML
</h2>

<p>This was actually the hardest part of the puzzle. There are many options and in the end I have been using <code>XML::OPML</code> to parse the lists of sites in each language. <code>XML::Feed</code> handles the reading and and writing of the RSS feeds. Beyond this, I use <code>HTML::Strip</code> to clean the content from the external feeds along with <code>Text::Truncate</code> to limit the text shown for each item shown on screen. Lastly, I am using <code>Moo</code> for forming the object oriented "business logic" part of the code.</p>

<p>SInce starting (and in part from writing this tale) I see that Mojolicious has "JSON and HTML/XML parser with CSS selector support." so maybe I don't need all this? I shallneed to explore.</p>
<h1>
  <a href="#code-structure">
  </a>
  Code structure
</h1>

<p>The site is pretty simple at the moment, I have broken it into two parts. Feed fetching, parsing, aggregating is one part. Starting with reading an OPML file and culminating in writing an RSS file.</p>

<p>The second part is the website that reads the RSS file and presents it on screen. Currently, the website does not fetch the feeds from the external sites. This is being done locally on my machine as a stand alone script; this will probably change; though it does mean that the site is very simple currently.</p>
<h2>
  <a href="#routes">
  </a>
  Routes
</h2>

<p>The code is simple easy:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>
 $r-&gt;get('/')-&gt;to('Home#welcome');
 $r-&gt;get('/:lang')-&gt;to('Main#index');

</code></pre>

</div>



<p>The whole site is basically one route that is the language we are serving i.e. <code>/english</code>, <code>/french</code> or <code>/spanish</code>. The <code>:lang</code> is used within the code to decide which RSS file to read and display. So <code>/english</code> reads <code>rss_english.xml</code> and displays it. Currently the controller looks like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>
sub index ($self) {
    my $xml
        = XML::Feed-&gt;parse( 'public/rss_' . $self-&gt;param('lang') . '.xml' );
    my $opml_parser = XML::OPML-&gt;new;
    my $opml
        = $opml_parser-&gt;parse( 'public/' . $self-&gt;param('lang') . '.opml' );

    # Rendel template "example/welcome.html.ep" with message
    $self-&gt;render(
        lang =&gt; ucfirst $self-&gt;param('lang'),
        rss_xml =&gt; $xml,
        opml =&gt; $opml,
    );
}

</code></pre>

</div>



<p>As you can see, we read the OPML file (to show a list of sites down one side of the page) and the aggregated RSS feed for each item from the sites on the list.</p>

<h3>
  <a href="#hidden-complexity-in-the-template">
  </a>
  Hidden complexity in the template
</h3>

<p>The conroller is simple, which is in part becuase I have hidden a large about of code in the template itself. The template engine is complex enough to allow me to generate loops, strip HTML, truncate etc. This is convenient for me, but feels very wrong.</p>

<h2>
  <a href="#bootstrap">
  </a>
  Bootstrap
</h2>

<p>There is a little Bootstrap used to apply some design.</p>

<h1>
  <a href="#summary">
  </a>
  Summary
</h1>

<p>So for me Mojolisious has been enjoyable; well worth a try if you are looking for a developer focussed web framework; no matter what language you are coming from. The tooling (Morbo and Test::Mojo) make for an easy and reliable development process. The app structure is familiar to someone coming from most any MVC framework (be that Dancer2, Ruby on Rails, Django or Express.</p>

<p>Give it a try.</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_13">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/thibaultduponchelle/the-ephemeral-miniconf-the-videos-e2d">The ephemeral miniconf - The videos</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Tib
 on Monday 22 November 2021 18:08</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p><strong>The ephemeral miniconf</strong> was last week 😎 It went very well 👍 and it’s time to share all the videos: <a href="https://m.youtube.com/channel/UCoUiZ7IoTXa1us8jvCyQl6g/videos">[The epehemeral miniconf Youtube channel]</a></p>

<h4>
  <a href="#native-github-actions-in-perl-juan-juli%C3%A1n-merelo-guerv%C3%B3s">
  </a>
  <a href="https://m.youtube.com/watch?v=XNi8FMEI1Wo">Native GitHub actions in Perl - Juan Julián Merelo Guervós</a>
</h4>

<p><a href="https://m.youtube.com/watch?v=XNi8FMEI1Wo"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--zeCN4W62--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/v4mj9zz450226zsypew3.png" alt="Native GitHub actions in Perl" width="880" height="443"></a></p>

<h4>
  <a href="#do-you-really-know-xml-thibault-duponchelle">
  </a>
  <a href="https://m.youtube.com/watch?v=NgsDI2XeLLY">Do you really know XML? - Thibault Duponchelle</a>
</h4>

<p><a href="https://m.youtube.com/watch?v=NgsDI2XeLLY"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--tde3PcDc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0tkd7fobluwiok1ozmoo.png" alt="Do you really know XML?" width="880" height="408"></a></p>

<h4>
  <a href="#automatic-observability-jos%C3%A9-joaqu%C3%ADn-atria">
  </a>
  <a href="https://m.youtube.com/watch?v=a6mlym8nVHc">Automatic Observability - José Joaquín Atria</a>
</h4>

<p><a href="https://m.youtube.com/watch?v=a6mlym8nVHc"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VfcTO4xN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/q5v8xtmi54jgptj2bdqc.png" alt="Automatic Observability" width="880" height="423"></a></p>

<h4>
  <a href="#open-food-facts-stephane-gigandet">
  </a>
  <a href="https://m.youtube.com/watch?v=9SOROdmJn4g">Open Food Facts - Stephane Gigandet</a>
</h4>

<p><a href="https://m.youtube.com/watch?v=9SOROdmJn4g"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--lU6T5eag--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yfesxwfwua9o1mxjlcdf.png" alt="Open Food Facts" width="880" height="455"></a></p>

<h4>
  <a href="#cunninghams-law-a-year-of-being-wrong-on-the-internet-mark-gardner">
  </a>
  <a href="https://m.youtube.com/watch?v=mC_FLFH8FMw">Cunningham’s Law: A Year of Being Wrong on the Internet - Mark Gardner</a>
</h4>

<p><a href="https://m.youtube.com/watch?v=mC_FLFH8FMw"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--RO6F7ewp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sz8z4m815ldeidm30ccn.png" alt="Cunningham’s Law: A Year of Being Wrong on the Internet" width="880" height="359"></a></p>

<h4>
  <a href="#lemonldapng-clement-oudot">
  </a>
  <a href="https://m.youtube.com/watch?v=6jLaZt_grtM">LemonLDAP::NG - Clement Oudot</a>
</h4>

<p><a href="https://m.youtube.com/watch?v=6jLaZt_grtM"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--GCmF0Otk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/999f56qe1dxyyv5r67jx.png" alt="LemonLDAP::NG - Clement Oudot" width="880" height="353"></a></p>

<h4>
  <a href="#once-upon-perl-acronyms-thibault-duponchelle">
  </a>
  <a href="https://m.youtube.com/watch?v=Zdp3rKWq3-I">Once Upon Perl Acronyms - Thibault Duponchelle</a>
</h4>

<p><a href="https://m.youtube.com/watch?v=Zdp3rKWq3-I"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--m1hcOEtn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/lwx8zbf3suf0lphp0ojs.png" alt="Once Upon Perl Acronyms" width="880" height="765"></a></p>

<h1>
  <a href="#your-turn-to-watchenjoylike-them-now">
  </a>
  Your turn to watch/enjoy/like them now
</h1>

<h1>
  <a href="#grinning">
  </a>
  😀
</h1>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_14">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/539.html">#539 - Farewell to David H. Adler</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 22 November 2021 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi</p>
<p>Really sad news: that David H. Adler, known by many as DHA has passed away. I've included a number of links where people who can express themselves way better than I do say goodbye to him.</p>
<p>In other news the ephemeral miniconf took place this week. You can read about it below.</p>
<p>Lastly, The Weekly Challenge celebrates its first 1000 days. Congratulations to Mohammad Anwar, my co-editor of the Perl Weekly for keeping up with this project!</p>
<p>Enjoy your week!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_15">
            <div class="card-header">
              <h2 class="card-title"><a href="http://blogs.perl.org/users/mohammad_s_anwar/2021/11/the-weekly-challenge---1000-days.html">The Weekly Challenge - 1000 days</a></h2>
<a href="http://blogs.perl.org/" class="badge badge-primary" style="float: left">blogs.perl.org</a>

              <p class="text-right"><small>Published by Mohammad S Anwar
 on Monday 22 November 2021 04:10</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
        <p><img src="http://blogs.perl.org/users/mohammad_s_anwar/1000-days.jpg"></p>

<p><a href="https://theweeklychallenge.org/blog/1000-days/">https://theweeklychallenge.org/blog/1000-days/</a></p>
        
           </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_16">
            <div class="card-header">
              <h2 class="card-title"><a href="https://dev.to/preaction/a-new-type-of-mojolicious-frontend-3i52">A New Type of Mojolicious Frontend</a></h2>
<a href="https://dev.to/t/perl" class="badge badge-primary" style="float: left">dev.to #perl</a>

              <p class="text-right"><small>Published by Doug Bell
 on Sunday 21 November 2021 23:02</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>JavaScript has evolved quite a bit from its humble beginnings. Unfortunately, some of those advances have been difficult to take advantage of. Some require features not supported by all browsers, others require complicated tools. For my latest <a href="https://mojolicious.org">Mojolicious</a> web app, I wanted to see how I could use <a href="https://www.typescriptlang.org">Typescript</a> with a minimum of fuss.</p>

<p>We'll start from a simple <a href="https://docs.mojolicious.org/Mojolicious/Lite">Mojolicious::Lite</a> app, created using <code>mojo generate lite_app</code>:</p>

<p>From there, we can install Typescript using <a href="https://nodejs.org">Node</a>. Since Typescript cannot bundle itself into a single file, we will also install <a href="https://webpack.js.org">Webpack</a>:</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>npm install --save-dev typescript webpack webpack-cli ts-loader
</code></pre>

</div>

<p>After installation we can <a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html">configure Typescript using its tsconfig.json file</a>. We'll use the <code>public</code> directory for our output, since this directory is served by Mojolicious.</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>{
  "compilerOptions": {
    "outDir": "./public/",
    "sourceMap": true,
    "noImplicitAny": true,
    "module": "es6",
    "target": "es5",
    "jsx": "react",
    "allowJs": true,
    "moduleResolution": "node"
  }
}
</code></pre>

</div>

<p>We'll also need to configure Webpack's <code>webpack.config.js</code> file to get it to bundle everything into a single <code>app.js</code> file we can use. We'll have it start looking for our app in <code>src/index.ts</code> and write our bundled app to <code>public/app.js</code>.</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>const path = require('path');

module.exports = {
  entry: './src/index.ts',
  devtool: 'inline-source-map',
  module: {
    rules: [
      {
        test: /\.ts$/,
        use: 'ts-loader',
        exclude: /node_modules/,
      },
    ],
  },
  resolve: {
    extensions: [ '.ts', '.js' ],
  },
  output: {
    filename: 'app.js',
    path: path.resolve(__dirname, 'public'),
  },
};
</code></pre>

</div>

<p>With this complete, we can create a basic Typescript program.</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>// src/index.ts
function component() {
  const element = document.createElement('div');
  element.innerHTML = ['Hello,', 'Mojolicious!'].join(' ');
  return element;
}
document.body.appendChild(component());
</code></pre>

</div>

<p>We can then build our Typescript program using Webpack:</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>$ npx webpack
asset app.js 864 bytes [compared for emit] [minimized] (name: main)
./src/index.ts 196 bytes [built] [code generated]

webpack 5.64.2 compiled in 3123 ms
</code></pre>

</div>

<p>This creates <code>public/app.js</code>, which we can then add to our Mojolicious app. To automatically rebuild our <code>app.js</code> when needed, we can run <code>npx webpack --watch</code>.</p>

<p>For a complete example, see <a href="https://github.com/preaction/mojo-typescript">this sample repository for a Mojolicious/Typescript app</a>. As a bonus, you can get <a href="https://dev.to/kraih/playwright-and-mojolicious-21hn">full end-to-end testing for your Mojolicious and Typescript web app using Playwright</a>. With all this, you can bring the best that modern JavaScript has to offer to your Mojolicious web apps!</p>

       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_17">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2021/11/21#pwc139">Jort Sort the First Five Long Primes</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 21 November 2021 16:34</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>You are given a list of numbers. Write a script to implement JortSort. It should return 
true/false depending if the given list of numbers are already sorted.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use boolean;

sub jort_sort{
    for(my $i=0; $i < @_ - 1; $i++){
        return false if $_[$i + 1] < $_[$i];  
    }  
    return true;
}

MAIN:{
    print jort_sort(1, 2, 3, 4, 5) . "\n";
    print jort_sort(1, 3, 2, 4, 5) . "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
1
0
</code></pre>

<h3>Notes</h3>

<p>Apparently Jort Sort is a joke sort started by somebody in the JavaScript community. I 
didn't find it all that funny, but the code to implement it only took a quick minute.</p>

<h2>Part 2</h2>

<p><em>Write a script to generate the first 5 Long Primes.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use boolean;
use LWP::UserAgent;
use constant PRIME_URL => "http://primes.utm.edu/lists/small/100000.txt";

sub get_primes{
    my @primes;  
    my $ua = new LWP::UserAgent(
        ssl_opts => {verify_hostname => 0}
    );
    my $response = $ua->get(PRIME_URL);
    my @lines = split(/\n/,$response->decoded_content);
    foreach my $line (@lines){
        my @p = split(/\s+/, $line);
        unless(@p < 10){
            push @primes, @p[1..(@p - 1)]; 
        }  
    }
    return @primes; 
}

sub divide{
    my($n, $d) = @_; 
    my @remainders;
    my $q = (int($n / $d)) . ".";
    my $r = $n % $d; 
    push @remainders, $r; 
    my @a;
    for (0 .. $d){
        $q .= int($r*10 / $d);  
        $r = $r*10 % $d;
        @a = grep { $remainders[$_] == $r } (0 .. @remainders - 1);
        last if(@a); 
        push @remainders, $r; 
    }
    my $r_i = $a[0];
    my $i = index($q, ".");
    my $decimal_part = substr($q, $i+1); 
    return substr($q, 0, $i + 1) . substr($decimal_part, 0, $r_i) . "(" . substr($q, $i + $r_i + 1) . ")";  
}   

sub long_primes_five{
    my @long_primes;
    my @primes = get_primes();
    do{
        my $prime = shift @primes;    
        my $max_repetend = $prime - 1; 
        my $repeats = true if($prime != 2 && $prime != 5); 
        if($repeats){
            my $x = divide(1, $prime, [], []); 
            $x =~ m/\((\d+)\)/;
            my $repetend = $1;
            push @long_primes, [$prime, $x] if length($repetend) == $prime - 1;   
        }
    }while(@long_primes < 5);
    return @long_primes;
}

MAIN:{
    for my $p (long_primes_five()){
        print $p->[0] . "\t" . $p->[1] . "\n";
    }
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl 
7       0.(142857)
17      0.(0588235294117647)
19      0.(052631578947368421)
23      0.(0434782608695652173913)
29      0.(0344827586206896551724137931)
</code></pre>

<h3>Notes</h3>

<p>This second part of the challenge was much more fun! Maybe my favorite part was that it 
largely re-used code from <a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2021/04/04#pwc106">challenge 106</a>
and also <a href="https://adamcrussell.livejournal.com/5175.html">Challenge 015</a>. Here we grab a 
list of pre-computed primes and then check each one for the desired property. After we 
find five, as required, we're done.</p>

<h2>References</h2>

<p><a href="http://jort.technology/">Jort Sort</a></p>

<p><a href="https://mathworld.wolfram.com/FullReptendPrime.html">Long Prime</a></p>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-139/">Challenge 139</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_18">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/perl-tk-keyboard-and-mouse-events">Perl Tk: Keyboard and Mouse events</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Sunday 21 November 2021 09:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
Showing how to create to bind keyboard an mouse events to functions in a Perl Tk based application.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_19">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2021/11/ccclxviii-9-great-cpan-modules-released.html">(ccclxviii) 9 great CPAN modules released last week</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 20 November 2021 16:06</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">Updates for <i>great CPAN modules</i> released last week. A module is considered <i>great</i> if its favorites count is greater or equal than 12.<br/><br/><ol><li><a href='https://metacpan.org/release/OLIVER/App-Netdisco-2.051001' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>App::Netdisco</span></b></a> - An open source web-based network management tool. <ul>  <li>Version: <strong>2.051001</strong> on 2021-11-14</li>  <li>Votes: 13</li>  <li>Previous version: 2.050003 was 26 days before</li></ul></li><li><a href='https://metacpan.org/release/SBECK/Date-Manip-6.86' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Date::Manip</span></b></a> - Date manipulation routines <ul>  <li>Version: <strong>6.86</strong> on 2021-11-15</li>  <li>Votes: 16</li>  <li>Previous version: 6.85 was 8 months, 14 days before</li></ul></li><li><a href='https://metacpan.org/release/JHTHORSEN/JSON-Validator-5.03' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>JSON::Validator</span></b></a> - Validate data against a JSON schema <ul>  <li>Version: <strong>5.03</strong> on 2021-11-20</li>  <li>Votes: 29</li>  <li>Previous version: 5.02 was 1 month, 14 days before</li></ul></li><li><a href='https://metacpan.org/release/MARIOROY/MCE-1.875' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>MCE</span></b></a> - Many-Core Engine for Perl providing parallel processing capabilities <ul>  <li>Version: <strong>1.875</strong> on 2021-11-16</li>  <li>Votes: 87</li>  <li>Previous version: 1.874 was 1 year, 2 months, 29 days before</li></ul></li><li><a href='https://metacpan.org/release/JHTHORSEN/Mojo-Redis-3.27' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Mojo::Redis</span></b></a> - Redis driver based on Mojo::IOLoop <ul>  <li>Version: <strong>3.27</strong> on 2021-11-20</li>  <li>Votes: 17</li>  <li>Previous version: 3.26 was 8 months, 19 days before</li></ul></li><li><a href='https://metacpan.org/release/JHTHORSEN/Mojolicious-Plugin-OpenAPI-5.01' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Mojolicious::Plugin::OpenAPI</span></b></a> - OpenAPI / Swagger plugin for Mojolicious <ul>  <li>Version: <strong>5.01</strong> on 2021-11-20</li>  <li>Votes: 41</li>  <li>Previous version: 5.00 was 1 month, 18 days before</li></ul></li><li><a href='https://metacpan.org/release/PEVANS/Object-Pad-0.57' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Object::Pad</span></b></a> - a simple syntax for lexical slot-based objects <ul>  <li>Version: <strong>0.57</strong> on 2021-11-18</li>  <li>Votes: 21</li>  <li>Previous version: 0.56 was 27 days before</li></ul></li><li><a href='https://metacpan.org/release/ETJ/PDL-2.063' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>PDL</span></b></a> - Perl Data Language <ul>  <li>Version: <strong>2.063</strong> on 2021-11-19</li>  <li>Votes: 43</li>  <li>Previous version: 2.061 was 8 days before</li></ul></li><li><a href='https://metacpan.org/release/EXODIST/Test2-Suite-0.000142' target='_blank'><b><span style='font-family: Courier New, Courier, monospace;'>Test2::Suite</span></b></a> - Distribution with a rich set of tools built upon the Test2 framework. <ul>  <li>Version: <strong>0.000142</strong> on 2021-11-15</li>  <li>Votes: 31</li>  <li>Previous version: 0.000141 was 3 months, 20 days before</li></ul></li></ol>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_20">
            <div class="card-header">
              <h2 class="card-title"><a href="https://niceperl.blogspot.com/2021/11/cdxci-metacpan-weekly-report-appsdview.html">(cdxci) metacpan weekly report - App::sdview</a></h2>
<a href="https://niceperl.blogspot.com/" class="badge badge-primary" style="float: left">Niceperl</a>

              <p class="text-right"><small>Published by Unknown
 on Saturday 20 November 2021 16:03</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>This is the weekly favourites list of CPAN distributions. Votes count: 28</p><p>Week's winner: <b><a href="https://metacpan.org/module/App::sdview" target="_blank">App::sdview (+3)</a></b></p><p>Build date: 2021/11/20 15:03:15 GMT</p><br/><p>Clicked for <u>first time</u>:</p><ul><li><a href="https://metacpan.org/module/App::BorderStyleUtils" target="_blank">App::BorderStyleUtils</a> - CLI utilities related to border styles</li><li><a href="https://metacpan.org/module/App::Easer" target="_blank">App::Easer</a> - Simplify writing (hierarchical) CLI applications</li><li><a href="https://metacpan.org/module/Inline::Filters::Ragel" target="_blank">Inline::Filters::Ragel</a> - Run ragel when compiling your Inline modules</li></ul><br/><p><u>Increasing</u> its reputation:</p><ul><li><a href="https://metacpan.org/module/App::ModuleBuildTiny" target="_blank">App::ModuleBuildTiny</a> (+1=10)</li><li><a href="https://metacpan.org/module/App::Perldoc::Search" target="_blank">App::Perldoc::Search</a> (+1=2)</li><li><a href="https://metacpan.org/module/App::perlimports" target="_blank">App::perlimports</a> (+1=5)</li><li><a href="https://metacpan.org/module/App::PrereqGrapher" target="_blank">App::PrereqGrapher</a> (+1=12)</li><li><a href="https://metacpan.org/module/App::sdview" target="_blank">App::sdview</a> (+3=4)</li><li><a href="https://metacpan.org/module/autobox" target="_blank">autobox</a> (+1=27)</li><li><a href="https://metacpan.org/module/autobox::Base64" target="_blank">autobox::Base64</a> (+1=3)</li><li><a href="https://metacpan.org/module/autobox::JSON" target="_blank">autobox::JSON</a> (+1=4)</li><li><a href="https://metacpan.org/module/B::C" target="_blank">B::C</a> (+1=21)</li><li><a href="https://metacpan.org/module/cpan::listchanges" target="_blank">cpan::listchanges</a> (+1=12)</li><li><a href="https://metacpan.org/module/cpan::outdated" target="_blank">cpan::outdated</a> (+1=33)</li><li><a href="https://metacpan.org/module/Google::ProtocolBuffers::Dynamic" target="_blank">Google::ProtocolBuffers::Dynamic</a> (+1=10)</li><li><a href="https://metacpan.org/module/HTTP::Parser::XS" target="_blank">HTTP::Parser::XS</a> (+1=12)</li><li><a href="https://metacpan.org/module/IPC::Lite" target="_blank">IPC::Lite</a> (+1=2)</li><li><a href="https://metacpan.org/module/libapreq2" target="_blank">libapreq2</a> (+1=3)</li><li><a href="https://metacpan.org/module/Lingua::EN::ABC" target="_blank">Lingua::EN::ABC</a> (+1=2)</li><li><a href="https://metacpan.org/module/Math::GMPz" target="_blank">Math::GMPz</a> (+1=4)</li><li><a href="https://metacpan.org/module/Minilla" target="_blank">Minilla</a> (+1=53)</li><li><a href="https://metacpan.org/module/Mojolicious::Plugin::OpenAPI" target="_blank">Mojolicious::Plugin::OpenAPI</a> (+1=41)</li><li><a href="https://metacpan.org/module/PDL" target="_blank">PDL</a> (+1=43)</li><li><a href="https://metacpan.org/module/perl" target="_blank">perl</a> (+1=384)</li><li><a href="https://metacpan.org/module/Router::R3" target="_blank">Router::R3</a> (+1=11)</li><li><a href="https://metacpan.org/module/RPerl" target="_blank">RPerl</a> (+1=29)</li></ul>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_21">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/grants_nov_2021_votes">Grants: November 2021 Votes</a></h2>
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Jason A. Crome
 on Tuesday 16 November 2021 20:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
       <img src="_ra-rel-mnt_/simplecas/fetch_content/7f97282811f6a9f862d7e659c79e5462cc195d94/grant-funding .png" style="max-width:100%;max-height:100%;padding:20px;" /><br>
     
     <p>The Grants Committee has concluded voting on the November 2021 round. One grant request was submitted:</p>

<h4><a href="https://news.perlfoundation.org/post/grant_proposal_raku_dispatch_optimizations">Grant Proposal: Optimizations building upon the new Raku dispatch mechanism</a> (USD 12,000)</h4>

<p>VOTING RESULTS: Approved. 4 YES votes (14 points), 0 NO votes, 1 ABSTAIN</p>

<p>We accept proposals throughout the year; our next round of review will begin in January. You can <a href="https://www.perlfoundation.org/how-to-write-a-proposal.html">submit proposals</a> at any time.</p>

<p>If you want to help with funding and increase our budget, please visit our <a href="https://www.perlfoundation.org/make-a-donation.html">donations page</a>. We sincerely appreciate all the donors which make the grant program possible. If you donate, please take advantage of your employers' matching donation program.</p>

<p>As always, thanks to our <a href="https://www.perlfoundation.org/our-donors.html">donors</a>, both large and small, who support this program to give back to the community.</p>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_22">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/538.html">#538 - Are you Perl blogger?</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 15 November 2021 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there</p>
<p>Going back to the editorial of last week's <a href="https://perlweekly.com/archive/537.html">edition</a> of Perl Weekly, it is still there in my head raising many questions. It is a universal fact that Perl is no longer the favourite language among the youths in college these days. I remember when I was first introduced to Perl in 1999, it was the most popular language. Being a Perl fan, I feel it is my responsibility to bring Perl back to the discussion table. One way to do that is to talk about Perl-based projects and share them with the users of other languages. I have noticed that not as many people blog about Perl as they used to in the past. Talking about blogs, I would like to thank <a href="https://theweeklychallenge.org">The Weekly Challenge</a> team for spreading the power of Perl. For the record, in the last 138 weeks, the team have created and shared over 2000 blog posts. I used to blog regularly in the past but nowadays I hardly find time. Having said that, I still wrte a monthly report blog post where I talk about Perl and my other projects. I find making a live video is less time consuming than writing a blog post. I made some and then I stopped that as well, sorry. You can take a look my <a href="https://www.youtube.com/c/mohammadsajidanwar">YouTube Channel</a> if you fancy. I came across series of <a href="https://perlmaven.com/beginner-perl-maven-video-course">videos</a> by Gabor Szabo teaching Perl. It is great source for someone new to Perl and explore with live action.</p>
<p>I remember, Dave Cross, wrote a <a href="https://dev.to/davorg/don-t-be-a-perl-programmer-4h2d">blog post</a> talking about something that not many people would speak about. I personally agree with him fully and believe knowing more than one programming languages helps you as a programmer. I can tell from my own experience, I picked up Raku last year while participating the weekly challenge. Whatever little I know about Raku to date, I can tell it has helped me a lot. I use that knowledge to write better Perl programs. Recently, I started writing Python as well - just the basics for now. So the question is, does knowing Raku or Python make me any less of a Perl programmer? I am still a Perl programmer and all of my thought processes still follow Perl's rules. Perl is my first love and will remain so for the rest of my life. Even today, after more than 22 years, I find features that I never knew existed before, especially in the field of regex. I would like to give credit to Abigail for sharing the magic of regex in Perl as part of his weekly contributions.</p>
<p>While talking about blogs, how can I miss those who are doing great service on a regular basis? I would like to thank <a href="https://github.polettix.it/ETOOBUSY">Flavio Poletti</a> for blogging every day for months now. Also there is another name, <a href="https://phoenixtrap.com">Mark Gardner</a>, who writes a weekly blog post. Similarly we have weekly stats by <a href="https://niceperl.blogspot.com">Miguel Prz</a>.</p>
<p>Enjoy the rest of the newsletter.</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_23">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/perl-tk-menu">Perl Tk: The label, button, and entry widgets</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Monday 15 November 2021 08:00</small></p>
            </div> <!-- card-header -->

            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_24">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/fosdem-volunteers-call-for-participation">Volunteers needed for Perl dev room at FOSDEM (online)</a></h2>
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Nic Evans
 on Thursday 11 November 2021 16:20</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
     <p>FOSDEM will run online on 5-6 February 2022 and is <a href="https://fosdem.org/2022/news/2021-11-02-devroom-cfp/">calling for participation</a>. The Marketing Committee would like to run a Perl dev room (basically a talk track), but need volunteers and speakers to assist.</p>

<p>Talks need to be prerecorded and uploaded prior to the conference, which are then streamed to participants with Q&amp;A after each.</p>

<p>Before we request the room from FOSDEM and call for speakers, we need volunteers to assist with both organizing and supporting speakers.</p>

<p>We need 2-3 people who can meet regularly and spend time planning it, encouraging calls for papers, helping speakers record their talks as needed, supporting the management of our dev room on the day, including the collation of recordings etc.</p>

<p>If you can commit to support, we can submit a proposal for dev room (deadline is 23:59 UTC, Monday 15 November).</p>

<p>Please contact nic@perlfoundation.org by 12 noon UTC, Monday 15 November if you can help. </p>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_25">
            <div class="card-header">
              <h2 class="card-title"><a href="https://news.perlfoundation.org/post/sockwell-raku-persisent-data-structures">Grant update: Persistent Data Structures for Raku, Daniel Sockwell</a></h2>
<a href="https://news.perlfoundation.org/" class="badge badge-primary" style="float: left">Perl Foundation News</a>

              <p class="text-right"><small>Published by Moritz Lenz
 on Tuesday 09 November 2021 13:05</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
   
     
     <p>Daniel Sockwell has provided two updates to his <a href="https://news.perlfoundation.org/post/grant_proposal_persistent_data_structures_for_raku">Grant: Persistent Data Structures for Raku</a>.</p>

<p>The first update was already submitted in October, and not posted due to my own error. Enjoy the thorough description!</p>

<hr />

<h2>Raku Persistent Data Structures Grant Report for September 2021</h2>

<p>In September, I spent 28 hours on implementing Raku persistent data structures.  That's a bit under
the 10 hour/week I'd estimated that I'd spend, but I was still able to make a good start on the
implementation.</p>

<p>The main reason I didn't spend the full 40 hours on the grant – as well as the explanation for why
you're getting this update now instead of closer to the beginning of the month – is that I decided
to devote a large chunk of my Raku time to two other issues – both of which are directly related to
implementing persistent data structures.  (Though not <em>so</em> related that I'm counting time spent on
them towards the grant.  Which is good, because doing so would mean that I <em>well</em> exceeded my
~40/month budget!)</p>

<p>I'm going to tell you a bit about these two projects and how each relates to Raku persistent data
structures, and then I'll describe the progress I made during the 28 hours I'm actually counting.</p>

<h3>What even is immutability?</h3>

<p>The biggest selling point of persistent data structures is, of course, that they are immutable while
also being fairly cheap to copy.  But to deliver on that promise, it's important to have a very
clear idea of what we mean by "immutability".</p>

<p>I don't mean in some sort of fancy <a href="https://en.wikipedia.org/wiki/Heraclitus">philosophical sense</a>;
I'm asking the very practical question "When we describe the <code>List</code> in <code>my $list = (1, 2, 3)</code> as
immutable, what does that mean?  What different <em>behavior</em> should I expect when I know that the
<code>List</code> is immutable?" (You could say "semantic difference" instead of "different behavior" if you
want to sound a bit more technical.)</p>

<p>Raku has some very clear answers to parts of this question but is also slightly confused (to say
nothing of confusing) on some others.  And, as it turns out, some of the less-clear areas of the
question end up being pretty significant for the sort of immutability that give persistent data
structures so much of their power. </p>

<p>Let's start with an area where Raku is clear: the distinction between immutable <strong>values</strong> and
immutable <strong>bindings</strong>.  This is <a href="https://docs.raku.org/language/containers">well documented</a> (and
isn't what I spent time on; this is still background), but here's a recap:</p>

<h4>Values</h4>

<p>When we describe the list <code>(1, 2, 3)</code>, the string <code>codesections</code>, or the number <code>42</code> as
immutable, we are saying that they are immutable <em>values</em>.  That is, there's no way to take <code>(1, 2,
3)</code> and change the <code>2</code> into a <code>0</code> while still having the same list we started with – we can create a
new list with those values, but that's not at all the same thing.  Contrast that with the <code>Array</code> of
<code>my @a = [1, 2, 3]</code>: here, the code <code>@a[1] = 0</code> literally changes the existing <code>Array</code>.</p>

<p>Strings and numbers in Raku are immutable values in exactly the way <code>List</code>s are (and <code>Array</code>s
aren't).  That is, there's no way to transform a string or a number; all you can do is to return a
modified version of the string or number.  In contrast, C, C++, Rust, and many other languages allow
you to mutate strings in-place; they essentially treat strings as arrays of characters or codepoints
and let you modify that array in exactly the same way Rakoons modify an <code>Array</code>.  (For C's <code>char*</code>
strings, you're literally dealing with character arrays; for other languages that's more of an
(over) simplification).  I'm pretty sure that no programming language is crazy enough <a href="http://rigaux.org/language-study/various/mutability-and-sharing/">to have
mutable numbers</a> (math would get
<em>weird</em>) but I'd love to learn that I'm wrong about that.</p>

<p>Note that I'm discussing the semantics of immutable values that Raku (the language) provides, not
implementation details of how any particular compiler stores those values.  So, while <code>List</code>s and
<code>Str</code>s provide immutable semantics, there's nothing preventing an implementation from storing
different values in a more complex way.  Put differently, when you say <code>my $a = 'foo' x 500; my $b =
$a ~ ' and bar'</code>, you <em>conceptually</em> have two separate and immutable strings, but implementations
are free to let those strings share (or even mutate) some of their backing data.  And, indeed, MoarVM
uses a really amazing system for <a href="https://github.com/MoarVM/MoarVM/blob/master/docs/sts.asciidoc">storing
strings</a> that shares memory in a way
that's not that different from the way the data structures I'm building do.</p>

<h4>Bindings</h4>

<p>Entirely separate from the question of mutable versus immutable values, programming languages can
also constrain the mutability of variable bindings.  That is: once the programmer has defined a
variable as pointing at a particular value, can they later change it to point at a <em>different</em>
value?</p>

<p>One non-Raku example that many programmers may be familiar with is JavaScript's <code>let</code> and <code>const</code>,
especially when used with arrays or objects.  In JavaScript, <code>const</code> enforces immutable bindings –
you can't say <code>const a = [1, 2, 3]; a = [4, 5, 6]</code>.  But it does nothing to make the <em>values</em>
immutable – and, in js, arrays are always mutable.  This means that you can validly write <code>const a =
[1, 2, 3]; a[1] = 99</code> to mutate the value that <code>a</code> points to.  (This distinction, and the lack of
immutable arrays in JavaScript, leads to <a href="https://overreacted.io/on-let-vs-const/">perennial
debates</a> about the advisability of using <code>const</code> in js.)</p>

<p>Raku gives us accesses to the semantics of both mutable and immutable bindings, and lets us combine
either with mutable or immutable values.  Thus, we can write <code>my @a = [1, 2, 3]</code> - mutable binding
to a mutable value.  Or <code>my $l = (1, 2, 3)</code> – an mutable binding to an immutable value (we can't
change the value of the <code>List</code>, but we <em>can</em> make <code>$l</code> point to a different value altogether).  Or
we can write <code>constant @a = [1, 2, 3]</code> – an immutable binding to a mutable value (<code>@a</code> will always
point to that exact <code>Array</code>, but we can freely mutate that <code>Array</code> with code like <code>@a[1] = 99</code>).
Or, finally, we can write <code>constant $l = (1, 2, 3)</code> – an immutable binding to an immutable value
(<code>$l</code> will always point to the same <code>List</code>, and that <code>List</code> will always contain exactly the values
<code>1</code>, <code>2</code>, and <code>3</code>).</p>

<p>This last category – an immutable binding to an immutable value – best fits many peoples intuitions
about what the terms "immutable" or "constant" mean – that variable always gives me the same value,
no matter what.  In addition to being more intuitive, this last category is notable for how much it
can simplify reasoning about code.  There's something very clarifying about knowing the value of a
variable without needing to track whether that value has changed; just like the related idea of
using <a href="https://en.wikipedia.org/wiki/Referential_transparency">referentially transparent</a> functions,
programming with variables that are immutably bound to immutable values can greatly simplify complex
codebases.</p>

<h4>How immutable values and binding fit with persistent data structures</h4>

<p>The distinction between the mutability of values and bindings matters for the data structures I'm
implementing in two ways.</p>

<p>First, because the data structures I'm creating are immutable values, we'll be able to use them to
be in that wonderful forth category – immutable binding to immutable values – if and only if Raku
lets us bind to them immutably.  So it's really important to be clear on what options Raku provides
for immutable bindings.</p>

<p>I've already shown one way that Raku supports immutable bindings: <code>constant $l = (1, 2, 3)</code>.  But
constants are evaluated at compile time and (even though Raku's definition of "compile time" is
pretty expansive) the options for using constants are inherently limited.  So what other options
does Raku provide?</p>

<p>Well, before the beginning of September, I thought that Raku provided three other options for
immutable bindings: so-called <a href="https://docs.raku.org/language/variables#index-entry-_(sigilless_variables)">sigilless
variables</a> (like <code>my
\l = (1, 2, 3)</code>); function parameters that aren't declared as <a href="https://docs.raku.org/type/Signature#index-entry-trait_is_rw"><code>rw</code> or
<code>copy</code></a> (like <code>sub fn($l) {…}</code>); and
lists of variables that are destructured with the <code>:=</code> operator (which share the same semantics as
parameters).  Now, in mid-October, I <strong>still</strong> think that's the case, but I admit that the situation
is more complex than I first thought and, at a minimum, existing compilers don't fully implement
those semantics.</p>

<p>(Note: some people don't like the term "sigilless variable", since the semantics I just described
mean that they don't really vary.  But it's the term the docs use, so I'm going to stick with it for
this post.)</p>

<p>I first realized something odd was going on when comment in this <a href="https://github.com/Raku/doc/issues/3950">docs.raku.org
issue</a> pointed out that, while you can't reassign a
sigilless variable, you can sometimes re-<a href="https://docs.raku.org/language/containers#Binding">bind</a>
it: <code>my Int \x = 2; x := 4</code> changes the value bound to <code>x</code>.  At first I thought that this issue only
applied when certain type constraints were applied, but I soon realized that it applied whenever
any type is mentioned, including <code>Any</code> or <code>Mu</code>.  Moreover, it's not just sigilless variables that
can be rebound – parameters can too: <code>sub f(Any $a) { $a := 42; $a}; f 0</code> returns 42.  In the last
step to make this pervasive, the <code>@</code> and <code>%</code> sigils add implicit type constraints, which means that
any parameter with either of those sigils can be rebound.  (As mentioned, destructuring with <code>:=</code>
shares the semantics of parameter binding, all of that applies there as well.)</p>

<p>Given that sigilless variables and parameters both allowed rebinding, all of the above lead me to
wonder whether Raku is trying to provide immutable bindings at all.  It turns out that there isn't a
<a href="https://github.com/Raku/roast">Roast</a> specification test that's 100% on point.  And, when I <a href="https://stackoverflow.com/questions/69231506/what-are-the-rules-for-re-binding">asked
on StackOverflow</a> I
mixed opinions about whether the current behavior (allowing rebinding) was intentional or a bug.</p>

<p>If Raku does pervasively allow rebinding, that would be pretty bad news for the usefulness of the
data structures I'm implementing.  They'd still have some value – more than enough to be
worthwhile.  But it'd mean that we pretty much can never get to the
immutable-bindings-to-immutable-values promised land that can have such a simplifying effect on
code.</p>

<p>Given that impact, I decided to research the issue pretty thoroughly.  After doing so, I've
concluded that Raku is designed to provide immutable bindings after all, and I produced a <a href="https://github.com/rakudo/rakudo/pull/4536">pull
request</a> that both explains my logic and provides a
patch that gives Raku those semantics.  That PR hasn't been merged yet (I still need to respond to
at least one change request about what error to throw, and I'd like to see if anyone else weighs
in).  But I'm optimistic that it will be and that fixing that bug will make immutable bindings to
immutable values much more practical in Raku.</p>

<h4>What's on the inside</h4>

<p>I mentioned earlier that the values-versus-binding distinction is important for the work I'm doing
in two ways.  The second way it matters is because it gives us the right framework to talk about
"shallow" immutability (also sometimes called <a href="https://stackoverflow.com/questions/69231506/what-are-the-rules-for-re-binding">interior
mutability</a>).</p>

<p>Lets look at a slightly different constant: <code>constant $l = (1, 2, $)</code>.  What can we say about <code>$l</code>?
Well, the variable <code>$l</code> is immutably bound to a <code>List</code>, and the <code>List</code> is comprised of three values,
<code>1</code>, <code>2</code>, and … a <a href="https://docs.raku.org/language/containers#Scalar_containers">scalar</a>.  But a
scalar a container – specifically, a <em>mutable</em> container.  Thus, despite the immutability of <code>$l</code>'s
binding and the immutability of <code>List</code>s, we can still make changes: <code>$l[2] = 99</code> is valid code.</p>

<p>That change is allowed because <code>List</code>s are only <em>shallowly</em> immutable.  Or, to say the same thing in
different words, <code>List</code>s are an immutable type that allows for interior mutability.</p>

<p>One of the goals I mentioned in the <a href="https://news.perlfoundation.org/post/grant_proposal_persistent_data_structures_for_raku">initial grant proposal for the persistent data
structures</a>
is to provide deeply immutable data types.  I hope that the discussion so far gives some context to what I
meant by that.  But it's a point I'll return to in a just a minute.</p>

<h3>Meanwhile, in another thread altogether…</h3>

<p>The second related-but-distinct task has occupied a good deal of my time recently has involved
concurrency and parallelism (which are famously <a href="https://go.dev/blog/waza-talk">not the same
thing</a>).  One of the key selling points of immutable data –
especially deeply immutable data – is that it can be more easily shared across threads.  A lot of
the headache of dealing with parallel code (locks, mutexes, atomics, cache misses, deadlocks,
livelocks, etc) come from ways to prevent different threads from modifying data at the same time.
But different threads will never modify (deeply) immutable data at the same time – because <em>nothing</em>
will ever mutate that data at any time.  I'm very optimistic that the data structures I'm working on
will have significant application for anyone writing multithreaded Raku. </p>

<p>So I've been slightly concerned that I hadn't yet written any non-trivial parallel and concurrent
code in Raku.  Not <em>that</em> concerned – I've written quite a bit of concurrent and parallel Rust code
and concurrent JavaScript (JS is single-threaded, so it's inherently non-parallel).  And I'd gotten
to know Raku's concurrency model by watching some excellent
<a href="https://www.youtube.com/watch?v=hGyzsviI48M&amp;t=43s">conference</a>
<a href="https://www.youtube.com/watch?v=l2fSbOPeSQs&amp;t=1184s">talks</a> and by reading the
<a href="https://docs.raku.org/language/concurrency">docs</a>/<a href="https://6guts.wordpress.com/2017/11/24/a-unified-and-improved-supply-concurrency-model/">other</a>
<a href="https://stackoverflow.com/questions/65473206/what-concurrency-mechanisms-are-provided-by-raku-and-how-can-they-be-evaluated">resources</a>.
Still, though, I was keeping my eye out for a medium-scale project that would let me confirm my
understanding of Raku's approach to concurrency.</p>

<p>In late September, I found the perfect project.  Someone on the r/rakulang subreddit asked if there
was a good way to <a href="https://www.reddit.com/r/rakulang/comments/pvdpd2/recreate_javascript_bouncing_balls_in_raku/">recreate a JavaScript exercise in
Raku</a>.
That exercise involved rendering balls to an HTML5 canvas in a browser – a task that's pretty
challenging with a version of Raku running on MoarVM.  (It would obviously be much easier using the
JavaScript backend, but that wouldn't currently be my first choice for someone new to Raku.)  So, I
decided to write a simple <a href="https://cro.services/">Cro</a> server that would let someone write Raku code
to display balls on an HTML canvas.</p>

<p>Specifically, I decided on the following architecture: A Cro server that would listen for commands
from the user's Raku code, generate a set of balls to display, and then send a JSON representation
of those balls to any connected clients via WebSockets.  Oh, and then do that again with updated
ball positions 16 milliseconds later – with the goal of maintaining a frame rate of 60 fps.  It's
this last bit would normally be a bit of an odd choice: WebSockets are typically used to communicate
with a remote server, and thus it'd typically be a questionable choice to stream updates 60 times
per second.  But the program I had in mind would run locally, which removes network latency from
consideration.  And, besides, I figured that this design would provide good trial by fire for my
understanding of Raku's concurrency model: if my program can stream balls to dozens of
simultaneously connected clients at 60 fps, I must have a pretty decent understanding of how Raku
handles parallelism and concurrency.</p>

<p>You can see the <a href="https://github.com/codesections/LearnRakuWith">program I ended up with</a> on GitHub.
I'm pretty happy with how it turned out: in not much more than 100 lines of Raku, the program sets
up exactly the architecture described above plus an
<a href="https://en.wikipedia.org/wiki/Erlang_(programming_language)">Erlang</a>-style error recovery strategy
for resetting to a known-good state when user input that doesn't produce valid output.</p>

<p>But getting there took longer than I expected it to and, in the middle, had me seriously questioning
whether I actually understood Raku's concurrency model well enough to be implementing new data
structures that'd fit with it.  One of the first things anyone learns about programming is that "<a href="https://blog.plover.com/2017/11/12/">it
is not a compiler error. It is never a compiler error.</a>"  In
other words, even if some issue <em>seems</em> to be caused by a bug in the compiler/runtime/etc, it's far
more likely to be caused by a bug in your own code.</p>

<p>And when writing that module, I kept running into some crashes that made me think that I'd either
run into the mythical compiler bug or – more likely – was seriously misunderstanding how to write
concurrent code.  After spending quite a bit of time double-checking my code, I determined that, as
expected, I had <em>not</em> run into a compiler bug.  No, I'd run into
<a href="https://github.com/croservices/cro-websocket/issues/36">two</a> of
<a href="https://github.com/MoarVM/MoarVM/issues/1565">them</a>.</p>

<p>In fairness, neither was a <em>compiler</em> bug; they were both issues with the MoarVM runtime.  Moreover,
both were fixed extremely quickly, and the second never even made it into production – I only ran
into it because I was using a pre-release build to try out Rakudo's <a href="https://6guts.wordpress.com/2021/09/29/the-new-moarvm-dispatch-mechanism-is-here/">new dispatch
mechanism</a>.  The
whole point of running pre-release builds is to help catch edge-case bugs like these, and I'm
certainly not complaining – but it turns out that streaming 60 fps to dozens of clients was a good
stress test for the new dispatch system and not just for my understanding of Raku's concurrency
model.</p>

<h3>Lessons for persistent data structures</h3>

<p>Once I realized that I wasn't fundamentally misunderstanding concurrency in Raku, implementing
Learn::Raku::With taught me a couple of lessons with important (though subtle) implication for the
persistent data structures I'm building.</p>

<h4>"Concurrency control" ≠ "concurrency"</h4>

<p>The first lesson I learned is that I'd slightly misunderstood what's going on in code like this
(adapted from <a href="https://docs.raku.org/routine/migrate">an example</a> in the docs):</p>

<p>```raku</p>

<h1>A simple stock ticker for Apple and Google stock</h1>

<p>react {
    whenever $stock-info-for-APPL { say "Apple's stock price is now:  $_ " }
    whenever $stock-info-for-GOOG { say "Google's stock price is now: $_ " }
}
```</p>

<p>My previous (<strong>incorrect</strong>) reading of that example was pretty much just an English version of the
code:</p>

<p>&gt; Whenever we get an update about either Apple or Google's stock, print that update.  We don't know
&gt; when these updates could come, but we want to react to them the instant they do, whether that
&gt; means reacting to the Apple one first, reacting to the Google one first, or reacting to both at
&gt; the same time.</p>

<p>That's <em>so close</em> to correct, but it goes wrong in the very last 7 words: we are guaranteed <strong>not</strong>
to react to both updates at the same time.  This is a consequence of Raku's
<a href="https://6guts.wordpress.com/2017/11/24/a-unified-and-improved-supply-concurrency-model/#user-content-supplies-and-concurrency">run-to-completion</a>
semantics: the code inside a <code>whenever</code> block is guaranteed to finish executing (that is, to "run to
completion") before the code in any other <code>whenever</code> block can start.  This wouldn't matter much for
the simple example above, but here are two modified versions in which it would:</p>

<p>```raku</p>

<h1>Lets store our results in a Map instead of printing them</h1>

<p>react {
    my %prices is Map;
    react {
        my Map $prices = Map.new;
        whenever $stock-info-for-APPL { $prices = %(|$prices, :APPL($<em>)) }
        whenever $stock-info-for-GOOG { $prices = %(|$prices, :GOOG($</em>)) }
    }
}
```</p>

<p>Under the incorrect understanding, we could've be in both <code>whenever</code> blocks at the same time and
this would create a race condition – we might lose a price update if two came in at the same time.
However, because the concurrency control Raku provides <em>prevents</em> concurrent access here, this is
actually 100% fine: we'll be in exactly one <code>whenever</code> block at a time.  Raku's semantics protect us
from any race condition.</p>

<p>Here's an example where Raku's semantics would have a less ideal impact on naive code:</p>

<p>```raku</p>

<h1>Now with buy/sell recomendations!</h1>

<p>react {
    whenever $stock-info-for-APPL { 
        say "Apple's stock price is now:  $_ ";
        say "Rating: " ~slow-fn-to-calculte-recomendation('APPL', $<em>);
    }
    whenever $stock-info-for-GOOG { 
        say "Google's stock price is now: $</em> ";
        say "Rating: " ~slow-fn-to-calculte-recomendation('GOOG', $_);
    }
}
```</p>

<p>This code would <em>not</em> behave as the author might hope, due to those same run-to-completion
semantics.  Specifically, while <code>slow-fn-to-calculate-recomendation</code> is running, other updates would
be blocked.  If you don't want this behavior, Raku offers several ways to schedule work outside of
the run-to-completion guarantee of the <code>whenever</code> block; Raku's semantics aren't going to <em>stop</em> you
from doing anything here, but it's important to understand the behavior they provide by default. </p>

<p>(It may be helpful to compare Raku's semantics to JavaScript, which guarantees that <em>every</em> function
will run to completion before any other work begins – a model I've <a href="https://stackoverflow.com/questions/67679309/raku-equivalent-to-javascripts-settimeoutfn-0">contrasted with Raku's
before</a>.)</p>

<p>So, how does all of this impact persistent data structures?  Well, some of the performance
optimizations for persistent data structures involve temporarily suspending the immutability
guarantee when there's provably only one copy of the data (or part of the data).  And whether that's
provably the case or not depends crucially on whether other sections of the program can have
concurrent access to the data.  So being clear on all of the above is pretty essential for safe
implementations of the data structures I'm working on.</p>

<h4>Under pressure</h4>

<p>I mentioned that implementing Learn::Raku::With helped me learn two lessons, but the second was
really a reminder of a Raku concurrency feature that I already knew about/a good example of how
important that feature can be.  The feature I'm talking about is the way Raku manages backpressure.</p>

<p>Raku's high level concurrency tools are carefully designed with backpressure in mind.  Quoting
directly from the <a href="https://6guts.wordpress.com/2017/11/24/a-unified-and-improved-supply-concurrency-model/">6guts blog
post</a> that
I've already linked to:</p>

<p>&gt; Another interesting problem for any system processing asynchronous messages is that of
&gt; backpressure. In short, how do we make a source of messages emit them at a rate no greater than
&gt; that of the processing logic? The general principle with Supply is that the sender of a message
&gt; pays the cost of its processing. So, if I have <code>$source.map(&amp;foo).tap(&amp;bar)</code>, then whatever emits at
&gt; the source pays the cost of the map of that message along with the processing done by the tap callback.</p>

<p>Backpreasure is extremely helpful because it can allow a program to handle arbitrary amounts of
input without requiring a proportionally arbitrary (i.e., infinite) amount of memory.  Of course,
given Raku's commitment to flexibility and programmer control, it shouldn't come as any surprise
that Raku also makes it easy to opt out of this automatic backpreasure when doing so makes sense.</p>

<p>Learn::Raku::With presents a good example of a situation where it makes sense to opt out of Raku's
default backpressure semantics.  As I mentioned above, Learn::Raku::With generates a stream of
frames and transmits those frames to all connected clients.  If we applied backpressure to this
system in the normal way, then transmitting the frames to the clients would exert backpressure on
generating the frames – that is, we'd be guaranteed not to generate frames any faster than we can
transmit them.</p>

<p>This would have some benefits – most notably, we'd never need to buffer generated frames and our
memory use would never grow.  But, in the Learn::Raku::With context, it'd have one very notable flaw
as well: the normal backpreasure system would mean that any time we can't transmit frames to clients
at 60 fps, the actual <em>speed</em> of Learn::Raku::With's balls would get reduced.  This obviously isn't
ideal – while 60 fps is a nice goal to shoot for, 45 fps is an absolutely fine frame rate and it'd
be much better to drop 1 out of 4 frames and to display the balls at normal speed in 45 fps than to
keep every frame but to display the balls in slow motion.</p>

<p>Thus, Learn::Raku::With <a href="https://github.com/codesections/LearnRakuWith/blob/main/lib/HtmlBalls.rakumod#L70-L78">pairs a Supply with a
Channel</a> to
allow it to drop frames instead of generating frames more slowly – but that, of course, means that
it needs to store at least a few frames at least temporarily.</p>

<p>But storing extra frames, in turn, means both that the program will take up more memory and,
crucially, that there will be more work for the garbage collector to do.  And that work will take
some time – time that necessarily cannot be spent transmitting those frames to the client.  But
since the whole reason we need to store those extra frames was that we're generating them faster
than we can ship them off to the client, it's possible for the GC-pause-induced extra delay to
result in <em>more</em> extra frames.  Which can then result in more garbage to collect, and thus more
delay, and thus more frames.</p>

<p>I'm sure you can see where that sort of infinite loop heads and it's certainly not to anywhere
good.  In fact, a previous version of Learn::Raku::With could get itself into exactly that sort of
situation pretty easily, consuming ever-more RAM and operating ever more slowly (I think I measured
it as hitting at least 50 GB).  The current version is much more resilient, but the risk remains.</p>

<p>All of this is relevant to persistent data structures because one of the main benefits of these data
structures is that the power of structural sharing makes copies vastly less expensive – verging on
free, in fact.  This benefit would go a long way towards avoiding the sort of issues I outlined
above.  I'd always known that these inexpensive copies are a key benefit of the persistent data
structures I'm building, but I'd previously focused on this as a way to reduce the memory footprint
of Raku programs.  After building Learn::Raku::With, however, I recognize that structural sharing
also reduces GC pressure and thus improves the speed at which Raku programs can execute – which can
avoid the sort of death spirals described above.  This means that having persistent data structures
will not only make many Raku programs more memory efficient but will also certain of Raku programs
much more feasible to write without spiraling into a need for ever-increasing amounts of RAM.</p>

<h2>Implementation progress</h2>

<p>So, having spent a few thousand words explaining things related to but not directly covered by the
grant, let me say at least a bit about the implementation work itself.  In the nature of
implementation work, it's not nearly as interesting as more exploratory work and I don't have very
much to say – I've very much stuck to the plan in my <a href="https://news.perlfoundation.org/post/grant_proposal_persistent_data_structures_for_raku">grant
proposal</a>.</p>

<p>Specifically, I started by implementing the persistent version of the <code>List</code> (still open to
bikeshedding on the name!).  I have made good progress on implementing a persistent <code>List</code> that with
the structural sharing features described in my proposal but <em>without</em> the bit-shifting indexing
(I'm instead currently using the simplified indexing scheme that involves converting the key to a
different base and calculating the relevant indices manually).  This simplified indexing scheme will
allow me to test the soundness of the list before switching to the bit-shifting index (which will be
key to the performance of the persistent list).</p>

<p>Additionally, I've written a set of tests to confirm the correctness of my implementation so far and
a (much smaller and still preliminary) set of tests that measure the performance of deep copies of
built in <code>List</code>s and <code>Array</code>s, which should provide a nice baseline to compare the persistent
versions against.</p>

<h1>Conclusion</h1>

<p>Over the course of September, I made a good start on implementing persistent data structures for
Raku.  This included significant, though limited, progress on actually implementing the persistent
List and much more time-consuming work on auxiliary projects (not counted as part of my grant hours)
that have given me a much better foundation for the remaining work.  The downside of this auxiliary
work is that it took up considerable time that I might have devoted to the actual implementation,
both in September and in October.  In fact, given the amount of time I've already spent on these
research/side projects in October, it's possible that I won't have much or any grant progress to
report at the end of this month.  Nevertheless, I'm glad I invested the effort into those projects
since I believe both left me significantly better equipped to carry out the remainder of the grant.
I look forward to putting these lessons into practice as I continue to implement persistent data
structures for Raku.</p>

<hr />

<h2>Raku Persistent Data Structures Grant Report for October 2021</h2>

<p>The expectation I mentioned in my September grant report came true in October: I had significantly
less time to devote to work on this grant in October.  This was due in large part to the conceptual
work I previously reported on, which stretched well into October.</p>

<p>Accordingly, I was only able to spend 5 hours on the grant in October; I used that time to continue
work on the persistent List.  Specifically, I nearly completed the basic API (without the
bit-shifting optimizations).  I was also able to add some initial test coverage. Given that
progress, I am now nearing point where I'll be able to share the WIP code publicly.</p>

<p>On the conceptual front (i.e., work that's relevant to the persistent data structures but not
relevant enough that I'm counting it towards the hours funded by this grant), I've also made a fair
bit of progress.  Most significantly, I was able to complete the work to add fully immutable binding
to Rakudo.  Thanks to some helpful feedback from Vadim Belman, I also added significantly more
detailed error messages, which should help explain the nature of these binding to Rakoons who aren't
as used to programming with in an immutable style.  As discussed in my last grant report, being able
to immutably bind values to their names will mean that the persistent data structures implemented
for this grant will be truly immutable – and thereby significantly easier to reason about.  This
work was merged in <a href="https://github.com/rakudo/rakudo/pull/4536">rakudo#4536</a> and should be part of
the 2021.11 Rakudo release.</p>

<p>Additionally, I've been putting some thought into how Raku's notion of <a href="https://docs.raku.org/language/glossary#Value_type">value
types</a> fits with the persistent data structures
I'm implementing.  As I mentioned last month, one of the core motivations behind this grant proposal
is to provide deeply immutable types, so it's clear that the types I'm implementing will be value
types and thus will return a <a href="https://docs.raku.org/type/ValueObjAt">ValueObjAt</a> from their <code>WHICH</code>
method.  But what should the persistent types do when the user adds a non-value type?  I can see
three options:</p>

<ol>
<li>Throw an error/require the user to create a value type to pass in.  This is basically the approach taken by Elizabeth Mattijsen's  <a href="https://modules.raku.org/dist/ValueType:zef:zef:lizmat/">ValueType</a> module.</li>
<li>Recursively copy each non-value type into an equivalent value type when it's added to the persistent type ("copy-on-read").  This is straightforward for some types (an <code>Array</code> becomes a <code>List</code>) but might involve more metaprogramming trickery for others (especially user classes).
<ol>
<li>Store the non-value type if we can prove that no other part of the code has access to it, and only make a copy if we need to hand it out to someone (basically copy-on-write, with some slight tweaks).</li>
</ol></li>
</ol>

<p>Each of these has different pros and cons.  In particular, the first is the easiest to implement, the most verbose, and gives the user the most control over/awareness of the performance costs.  Conversely, the last is the most "magical" and the only one that risks introducing correctness bugs.  Additionally, there could be ways to combine different aspects of these three approaches – for example, one combination of 1. and 2. would be to copy simple/built in types but to throw an error when passed a user type with a mutable field.  I'm currently leaning towards the copy-on-read option #2 as a reasonable middle ground, but it's definitely something I'd be interested in hearing other thoughts on.</p>

<p>November is already off to a good start, and I'm optimistic that I'll be able to make significant
progress on this grant before the end-of-year business (and exciting things like the <a href="https://github.com/Raku/advent/blob/master/raku-advent-2021/authors.md">Raku Advent
Calendar</a>!) start to eat
into my coding time.</p>

    
         </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_26">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/537.html">#537 - How do you spend your free time?</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 08 November 2021 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi</p>
<p>The Perl Weekly newsletter is more than 10 years old and over those years we have witnessed a huge decline in the number and diversity of posts. There are still a few people who write about Perl regularly, The Weekly Challenge of Mohammad generates many posts, but in general we see fewer and fewer posts.</p>
<p>I wonder, do those people who used to write about Perl write about other technologies or have they just stopped? How come that so few people write about Perl? Are there no new things in Perl? Are there no new problems that one solves in Perl?</p>
<p>I know that writing about stuff is not the same thing as writing the stuff, but as many other people who write or teach will attest, the best way to improve your knowledge is to explain it. to explain it to live audience (at a Meetup) or to write about it in a blog post.</p>
<p>So how do you spend your free time? Do you write more code? Do you try to explain what you wrote, how you wrote and why? Or do you spend your time on some other activities? I, for examples started to read a lot more than I did in the recent years. And sure, I'll even share my recommendations with you. (See below.)</p>
<p>In any case enjoy your week!</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_27">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/perl-tk-label-button-entry-widgets">Perl Tk: The label, button, and entry widgets</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Sunday 07 November 2021 23:00</small></p>
            </div> <!-- card-header -->

            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_28">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlweekly.com/archive/536.html">#536 - Auf Wiedersehen Hacktoberfest</a></h2>
<a href="https://perlweekly.com/" class="badge badge-primary" style="float: left">Perl Weekly</a>

              <p class="text-right"><small>Published
 on Monday 01 November 2021 10:00</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>Hi there</p>
<p>The headline of this week's newsletter is dedicated to all my German friends. However, the message is global "Good bye Hacktoberfest". I don't know the language, so I asked Google to help me. I am sure you all celebrated the month-long festival with loads of contributions to many opensource codebases. I can completely understand the feeling at the end of the month. Those who have participated and completed the challenge successfully i.e. submitted at least 4 eligible Pull Requests, should just relax and wait for their FREE gift. Please take November as a break as December will bring in another fun challenge i.e. <a href="https://24pullrequests.com">24 Pull Requests</a> for you.</p>
<p>Anything else to look forward to?</p>
<p>For me, there is another fun bit is the "Advent Calendar". There will be plenty of Advent Calendars available during the month. It is really hard to follow all of them. I came across something called, <a href="http://www.lenjaffe.com/AdventPlanet">Advent Planet</a>, which collects almost all popular Advent Calendars for us. Please do check it out, if you want a early peek. I really miss those days when I used to have time for such things. I have contributed to the Perl/Raku advent calendars in the past. If you have spare time and interest then please do get in touch with the person behind the project now and book your slot. There is one <a href="https://theweeklychallenge.org/blog/advent-calendar-2020">Advent Calendar</a> dedicated to the members of <a href="https://theweeklychallenge.org">The Weekly Challenge</a> only. I make sure the tradition continues every year. I hope everything goes as per the plan and we have another fun Advent Calendar by the dedicated members this year.</p>
<p>Start your week with yet another informative newsletter. You take care of yourself and your family. Keep a safe distance and stay safe,</p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_29">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlmaven.com/bitbucket-pipelines-testing-perl-projects">Bitbucket Pipelines testing Perl projects</a></h2>
<a href="https://perlmaven.com/" class="badge badge-primary" style="float: left">Perl Maven</a>

              <p class="text-right"><small>Published by Gabor Szabo
 on Monday 01 November 2021 07:30</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><p>
We saw how to <a href="/bitbucket-pipelines-for-perl-projects">get started with Bitbucket Pipelines for Perl</a>.
The same can be used to run any perl code on Bitbucket, but in our next step we'll see how to run the tests
of a <a href="/distribution-directory-layout">Perl module with standard layout</a>.
<p>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_30">
            <div class="card-header">
              <h2 class="card-title"><a href="https://perlancar.wordpress.com/2021/11/01/list-of-new-cpan-distributions-oct-2021/">List of new CPAN distributions – Oct 2021</a></h2>
<a href="https://perlancar.wordpress.com/" class="badge badge-primary" style="float: left">Perlancar</a>

              <p class="text-right"><small>Published by perlancar
 on Monday 01 November 2021 00:39</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text"><table>
<tr>
<th>dist</th>
<th>author</th>
<th>first_version</th>
<th>latest_version</th>
<th>abstract</th>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Acme-CPANModules-Parse-UnixShellCommandLine">Acme-CPANModules-Parse-UnixShellCommandLine</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Modules that parse command-line like Unix shells</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Acme-FishFarm">Acme-FishFarm</a></td>
<td><a href="https://metacpan.org/author/ELLEDNERA">ELLEDNERA</a></td>
<td>1.00</td>
<td>1.00</td>
<td>A Fish Farm with Automated Systems</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Acme-ICan-tBelieveItCanSort">Acme-ICan-tBelieveItCanSort</a></td>
<td><a href="https://metacpan.org/author/SANKO">SANKO</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Wait&#8230; It Actually Works?</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Alien-PLplot">Alien-PLplot</a></td>
<td><a href="https://metacpan.org/author/ZMUGHAL">ZMUGHAL</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Alien package for the PLplot plotting library</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-GeoCancerPrognosticDatasetsRetriever">App-GeoCancerPrognosticDatasetsRetriever</a></td>
<td><a href="https://metacpan.org/author/AALAMEER">AALAMEER</a></td>
<td>1</td>
<td>1</td>
<td>GEO Cancer Prognostic Datasets Retriever is a bioinformatics tool for cancer prognostic dataset retrieval from the GEO website.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-Kramerius-To-Images">App-Kramerius-To-Images</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Base class and script for creating Kramerius downloader.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-Kramerius-URI">App-Kramerius-URI</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.03</td>
<td>Base class and script for creating of Kramerius URI.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-Kramerius-V4">App-Kramerius-V4</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.02</td>
<td>Base class and script for fetching document from Kramerius system, version 4.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-geoCancerPrognosticDatasetsRetriever">App-geoCancerPrognosticDatasetsRetriever</a></td>
<td><a href="https://metacpan.org/author/AALAMEER">AALAMEER</a></td>
<td>1.01</td>
<td>1.01</td>
<td>GEO Cancer Prognostic Datasets Retriever is a bioinformatics tool for cancer prognostic dataset retrieval from the GEO website.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/App-printenv-perl">App-printenv-perl</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Print environment variables as seen by a Perl script</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Astro-VEX">Astro-VEX</a></td>
<td><a href="https://metacpan.org/author/GSB">GSB</a></td>
<td>0.001</td>
<td>0.001</td>
<td>VEX (VLBI Experiment Definition) file handling module</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bencher-Scenario-App-Sorted">Bencher-Scenario-App-Sorted</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.002</td>
<td>0.002</td>
<td>Benchmark sorted vs is-sorted</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bencher-Scenario-Array-Sample-Partition">Bencher-Scenario-Array-Sample-Partition</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.002</td>
<td>0.002</td>
<td>Benchmark Array::Sample::Partition hash</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bencher-Scenario-Color-RGB-Util">Bencher-Scenario-Color-RGB-Util</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.002</td>
<td>0.002</td>
<td>Benchmark Color::RGB::Util</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Bencher-Scenarios-Array-Set">Bencher-Scenarios-Array-Set</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.004</td>
<td>0.004</td>
<td>Scenarios to benchmark Array::Set</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Catalyst-TraitFor-Request-StrongParameters">Catalyst-TraitFor-Request-StrongParameters</a></td>
<td><a href="https://metacpan.org/author/JJNAPIORK">JJNAPIORK</a></td>
<td>0.001</td>
<td>0.003</td>
<td>methods for your request object to assist in content negotiation</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Catalyst-TraitFor-Request-StructuredParameters">Catalyst-TraitFor-Request-StructuredParameters</a></td>
<td><a href="https://metacpan.org/author/JJNAPIORK">JJNAPIORK</a></td>
<td>0.003</td>
<td>0.006</td>
<td>methods for your request object to assist in content negotiation</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Cucumber-TagExpressions">Cucumber-TagExpressions</a></td>
<td><a href="https://metacpan.org/author/CUKEBOT">CUKEBOT</a></td>
<td>4.1.0</td>
<td>4.1.0</td>
<td>A library for parsing and evaluating cucumber tag expressions (filters)</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/DBIx-Class-BcryptColumn">DBIx-Class-BcryptColumn</a></td>
<td><a href="https://metacpan.org/author/JJNAPIORK">JJNAPIORK</a></td>
<td>0.001001</td>
<td>0.001001</td>
<td>Set a column to securely hash on insert/update using bcrypt</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Data-FormValidator-Multi">Data-FormValidator-Multi</a></td>
<td><a href="https://metacpan.org/author/TRWWW">TRWWW</a></td>
<td>0.002</td>
<td>0.002</td>
<td>Check multidimensional data structures with Data::FormValidator</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Data-Kramerius">Data-Kramerius</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.03</td>
<td>Information about all Kramerius systems.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Data-Sah-Coerce-perl-To_array-From_str-tsv_row">Data-Sah-Coerce-perl-To_array-From_str-tsv_row</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Coerce a single TSV row to array of scalars</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/DateTime-Patch-AddDowNameToYmd">DateTime-Patch-AddDowNameToYmd</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Make DateTime&#039;s ymd() output YYYY-MM-DDXX instead of YYYY-MM-DD, where XX is 2-letter day-of-week name</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Deplide-RFID-EPCISSubmitter">Deplide-RFID-EPCISSubmitter</a></td>
<td><a href="https://metacpan.org/author/AVAJADI">AVAJADI</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Perl extension for blah blah blah</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Dist-Zilla-MintingProfile-FFI">Dist-Zilla-MintingProfile-FFI</a></td>
<td><a href="https://metacpan.org/author/PLICEASE">PLICEASE</a></td>
<td>0.01</td>
<td>0.02</td>
<td>A minimal Dist::Zilla minting profile for FFI</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Dist-Zilla-Plugin-Perinci-CmdLine">Dist-Zilla-Plugin-Perinci-CmdLine</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Plugin to use when building Perinci::CmdLine::* distributions</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/File-Temp-Patch-VarOptions">File-Temp-Patch-VarOptions</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Allow File::Temp&#039;s tempfile() and tempdir() to receive options via package variables</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Geo-Coder-Mapbox">Geo-Coder-Mapbox</a></td>
<td><a href="https://metacpan.org/author/NHORNE">NHORNE</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Provides a Geo-Coding functionality using <a href="https://mapbox.com" rel="nofollow">https://mapbox.com</a></td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Geo-GoogleEarth-Pluggable-Plugin-AsGeoJSON">Geo-GoogleEarth-Pluggable-Plugin-AsGeoJSON</a></td>
<td><a href="https://metacpan.org/author/MRDVT">MRDVT</a></td>
<td>0.05</td>
<td>0.05</td>
<td>PostgreSQL ST_AsGeoJSON plugin for Geo::GoogleEarth::Pluggable</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/IO-AsyncX-Notifier">IO-AsyncX-Notifier</a></td>
<td><a href="https://metacpan.org/author/TEAM">TEAM</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Combining IO::Async::Notifier with Object::Pad</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Iterator-Flex">Iterator-Flex</a></td>
<td><a href="https://metacpan.org/author/DJERIUS">DJERIUS</a></td>
<td>0.12</td>
<td>0.14</td>
<td>Iterators with flexible behaviors</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Log-Any-Adapter-DERIV">Log-Any-Adapter-DERIV</a></td>
<td><a href="https://metacpan.org/author/BINARY">BINARY</a></td>
<td>0.001</td>
<td>0.001</td>
<td>one company&#039;s example of a standardised logging setup</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Module-Znuny-CoreList">Module-Znuny-CoreList</a></td>
<td><a href="https://metacpan.org/author/PERLSRVDE">PERLSRVDE</a></td>
<td>1.00</td>
<td>1.00</td>
<td>what modules shipped with versions of Znuny (&gt;= 2.3.x)</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Mojo-WebSocket-PubSub">Mojo-WebSocket-PubSub</a></td>
<td><a href="https://metacpan.org/author/EBRUNI">EBRUNI</a></td>
<td>0.01</td>
<td>0.06</td>
<td>A Mojolicious publish/subscribe channels based on websocket.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Net-Libwebsockets">Net-Libwebsockets</a></td>
<td><a href="https://metacpan.org/author/FELIPE">FELIPE</a></td>
<td>0.01</td>
<td>0.02</td>
<td>libwebsockets in Perl</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Parse-Yapphp">Parse-Yapphp</a></td>
<td><a href="https://metacpan.org/author/SCHIECHEO">SCHIECHEO</a></td>
<td>1.22</td>
<td>1.23</td>
<td>A perl frontend to the Parse::Yapphp module</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Pod-Weaver-Plugin-Perinci-CmdLine">Pod-Weaver-Plugin-Perinci-CmdLine</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.001</td>
<td>Plugin to use when building Perinci::CmdLine::* distribution</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/RTIR-Extension-MISP">RTIR-Extension-MISP</a></td>
<td><a href="https://metacpan.org/author/BPS">BPS</a></td>
<td>0.01</td>
<td>0.02</td>
<td>RTIR-Extension-MISP Extension</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Rex-CMDB-TOML">Rex-CMDB-TOML</a></td>
<td><a href="https://metacpan.org/author/VVELOX">VVELOX</a></td>
<td>v0.0.1</td>
<td>v0.0.1</td>
<td>TOML-based CMDB provider for Rex</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Rex-Virtualization-CBSD">Rex-Virtualization-CBSD</a></td>
<td><a href="https://metacpan.org/author/VVELOX">VVELOX</a></td>
<td>v0.0.1</td>
<td>v1.0.0</td>
<td>CBSD virtualization module for bhyve</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/RoleBundle-TinyCommons-Collection">RoleBundle-TinyCommons-Collection</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.009</td>
<td>0.009</td>
<td>Roles related to collections</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Syntax-Keyword-MultiSub">Syntax-Keyword-MultiSub</a></td>
<td><a href="https://metacpan.org/author/PEVANS">PEVANS</a></td>
<td>0.01</td>
<td>0.01</td>
<td>multiple dispatch on subroutines</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/TableData-Perl-CPAN-Release-Static-2021">TableData-Perl-CPAN-Release-Static-2021</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>20210928.2</td>
<td>20210928.2</td>
<td>CPAN releases for the year 2021</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/TableDataBundle-Perl-CPAN-Release">TableDataBundle-Perl-CPAN-Release</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.004</td>
<td>0.004</td>
<td>Collection of TableData:: modules that contain CPAN releases data</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/TableDataBundle-Perl-CPAN-Release-Static-Older">TableDataBundle-Perl-CPAN-Release-Static-Older</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>20210927.1</td>
<td>20210927.1</td>
<td>Collection of TableData:: modules that contain older CPAN releases data</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/TableDataBundle-Perl-Release">TableDataBundle-Perl-Release</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.000</td>
<td>0.000</td>
<td>Collection of TableData:: modules that contain Perl releases data</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Tags-HTML">Tags-HTML</a></td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>0.01</td>
<td>0.01</td>
<td>Tags helper abstract class.</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Task-FFIDev">Task-FFIDev</a></td>
<td><a href="https://metacpan.org/author/PLICEASE">PLICEASE</a></td>
<td>0.01</td>
<td>0.02</td>
<td>Task bundle for FFI development</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/WebSocket">WebSocket</a></td>
<td><a href="https://metacpan.org/author/JDEGUEST">JDEGUEST</a></td>
<td>v0.1.0</td>
<td>v0.1.5</td>
<td>WebSocket Client &amp; Server</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/WordLists-EN-Adverb">WordLists-EN-Adverb</a></td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>0.001</td>
<td>0.002</td>
<td>Collection of English adverbs</td>
</tr>
<tr>
<td><a href="https://metacpan.org/release/Yancy-Plugin-OpenAPI">Yancy-Plugin-OpenAPI</a></td>
<td><a href="https://metacpan.org/author/PREACTION">PREACTION</a></td>
<td>0.001</td>
<td>0.002</td>
<td>Generate an OpenAPI spec and API for a Yancy schema</td>
</tr>
</table>
<h3>Stats</h3>
<p>Number of new CPAN distributions this period: <b>51</b></p>
<p>Number of authors releasing new CPAN distributions this period: <b>26</b></p>
<p>Authors by number of new CPAN distributions this period: </p>
<table>
<tr>
<th>No</th>
<th>Author</th>
<th>Distributions</th>
</tr>
<tr>
<td>1</td>
<td><a href="https://metacpan.org/author/PERLANCAR">PERLANCAR</a></td>
<td>17</td>
</tr>
<tr>
<td>2</td>
<td><a href="https://metacpan.org/author/SKIM">SKIM</a></td>
<td>5</td>
</tr>
<tr>
<td>3</td>
<td><a href="https://metacpan.org/author/JJNAPIORK">JJNAPIORK</a></td>
<td>3</td>
</tr>
<tr>
<td>4</td>
<td><a href="https://metacpan.org/author/AALAMEER">AALAMEER</a></td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td><a href="https://metacpan.org/author/PLICEASE">PLICEASE</a></td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td><a href="https://metacpan.org/author/VVELOX">VVELOX</a></td>
<td>2</td>
</tr>
<tr>
<td>7</td>
<td><a href="https://metacpan.org/author/FELIPE">FELIPE</a></td>
<td>1</td>
</tr>
<tr>
<td>8</td>
<td><a href="https://metacpan.org/author/MRDVT">MRDVT</a></td>
<td>1</td>
</tr>
<tr>
<td>9</td>
<td><a href="https://metacpan.org/author/TEAM">TEAM</a></td>
<td>1</td>
</tr>
<tr>
<td>10</td>
<td><a href="https://metacpan.org/author/EBRUNI">EBRUNI</a></td>
<td>1</td>
</tr>
<tr>
<td>11</td>
<td><a href="https://metacpan.org/author/JDEGUEST">JDEGUEST</a></td>
<td>1</td>
</tr>
<tr>
<td>12</td>
<td><a href="https://metacpan.org/author/AVAJADI">AVAJADI</a></td>
<td>1</td>
</tr>
<tr>
<td>13</td>
<td><a href="https://metacpan.org/author/ZMUGHAL">ZMUGHAL</a></td>
<td>1</td>
</tr>
<tr>
<td>14</td>
<td><a href="https://metacpan.org/author/PREACTION">PREACTION</a></td>
<td>1</td>
</tr>
<tr>
<td>15</td>
<td><a href="https://metacpan.org/author/PERLSRVDE">PERLSRVDE</a></td>
<td>1</td>
</tr>
<tr>
<td>16</td>
<td><a href="https://metacpan.org/author/TRWWW">TRWWW</a></td>
<td>1</td>
</tr>
<tr>
<td>17</td>
<td><a href="https://metacpan.org/author/DJERIUS">DJERIUS</a></td>
<td>1</td>
</tr>
<tr>
<td>18</td>
<td><a href="https://metacpan.org/author/BPS">BPS</a></td>
<td>1</td>
</tr>
<tr>
<td>19</td>
<td><a href="https://metacpan.org/author/BINARY">BINARY</a></td>
<td>1</td>
</tr>
<tr>
<td>20</td>
<td><a href="https://metacpan.org/author/NHORNE">NHORNE</a></td>
<td>1</td>
</tr>
<tr>
<td>21</td>
<td><a href="https://metacpan.org/author/PEVANS">PEVANS</a></td>
<td>1</td>
</tr>
<tr>
<td>22</td>
<td><a href="https://metacpan.org/author/SCHIECHEO">SCHIECHEO</a></td>
<td>1</td>
</tr>
<tr>
<td>23</td>
<td><a href="https://metacpan.org/author/CUKEBOT">CUKEBOT</a></td>
<td>1</td>
</tr>
<tr>
<td>24</td>
<td><a href="https://metacpan.org/author/SANKO">SANKO</a></td>
<td>1</td>
</tr>
<tr>
<td>25</td>
<td><a href="https://metacpan.org/author/GSB">GSB</a></td>
<td>1</td>
</tr>
<tr>
<td>26</td>
<td><a href="https://metacpan.org/author/ELLEDNERA">ELLEDNERA</a></td>
<td>1</td>
</tr>
</table>
       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->
          <div class="card" id="card_31">
            <div class="card-header">
              <h2 class="card-title"><a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2021/10/31#pwc136">Friendly Fibonacci Summands</a></h2>
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/perl" class="badge badge-primary" style="float: left">RabbitFarm Perl</a>

              <p class="text-right"><small>Published
 on Sunday 31 October 2021 20:09</small></p>
            </div> <!-- card-header -->
     <div class="card-body">       <div class="card-text">
<p><em>The examples used here are from The Weekly Challenge problem statement and demonstrate 
the working solution.</em></p>

<h2>Part 1</h2>

<p><em>You are given 2 positive numbers, $m and $n. Write a script to find out if the given two 
numbers are Two Friendly.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use POSIX;
use boolean;

sub euclid {
    my($a, $b) = @_;
    return ($b) ? euclid($b, $a % $b) : $a;
}

sub two_friendly{
    my($m, $n) = @_;
    my $gcd = euclid($m, $n);
    my $p = log($gcd) / log(2);
    return boolean(ceil($p) == floor($p));
}

MAIN:{
    print two_friendly(8, 24). "\n";
    print two_friendly(26, 39). "\n";
    print two_friendly(4, 10). "\n";
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-1.pl
1
0
1
</code></pre>

<h3>Notes</h3>

<p>I've used this code for Euclid's GCD method before in 
<a href="http://www.rabbitfarm.com/cgi-bin/blosxom/2020/12/06#pwc089">Challenge 089</a>. To determine
if <code>$p</code> is an integer we check to see if the <code>floor()</code> and <code>ceiling()</code> are equal.</p>

<h2>Part 2</h2>

<p><em>You are given a positive number $n. Write a script to find how many different sequences 
you can create using Fibonacci numbers where the sum of unique numbers in each sequence 
are the same as the given number.</em></p>

<h3>Solution</h3>

<pre><code class="perl">
use strict;
use warnings;
use Data::PowerSet q/powerset/;

sub fibonacci_below_n{
    my($n, $fibonaccis) = @_;
    $fibonaccis = [1, 1] if !$fibonaccis;
    my $f = $fibonaccis->[@{$fibonaccis} - 2] + $fibonaccis->[@{$fibonaccis} - 1];
    if($f < $n){
        push @{$fibonaccis}, $f;
        fibonacci_below_n($n, $fibonaccis);
    }
    else{
        shift @{$fibonaccis};
        return $fibonaccis;
    }
}

sub fibonacci_sum{
    my($n) = @_;
    my $powerset = powerset(fibonacci_below_n($n));
    my @summands = grep {
        my $fibonaccis = $_;
        my $sum = 0;
        map{
            $sum += $_;
        } @{$fibonaccis};
        $sum == $n;
    } @{$powerset};
    return @summands;
}

MAIN:{
    for my $summands (fibonacci_sum($ARGV[0])){
        print "(" . join(" + ", @{$summands}) . ") = " . $ARGV[0] . "\n";
    }
}
</code></pre>

<h3>Sample Run</h3>

<pre><code class="shell">
$ perl perl/ch-2.pl 16
(3 + 13) = 16
(1 + 2 + 13) = 16
(3 + 5 + 8) = 16
(1 + 2 + 5 + 8) = 16
</code></pre>

<h3>Notes</h3>

<p>Instead of using a pre-computed list of Fibonacci numbers we generate them as needed. No
particular reason other than it's a little more fun, and also it allows us to flexibly 
allow for virtually any value for <code>$n</code>.</p>

<p>The sequences are determined by examining the Power Set of all possible sequences and
checking the sums.</p>

<h2>References</h2>

<p><a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-136/">Challenge 136</a></p>

<p><a href="https://mathworld.wolfram.com/PowerSet.html">Power Set</a></p>       </div><!-- card-text -->     </div>
            <div class="card-footer">
            </div><!-- card-footer -->
          </div><!-- card -->

        </div><!-- col-md-8 -->
        <div class="col-md-2">
<script type="text/javascript"><!--
google_ad_client = "pub-3663319204757145";
/* planet */
google_ad_slot = "8413744374";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
        </div><!-- col-md-2 -->
      </div><!-- row -->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row>
            <div class="col-md-8">
              <address><a href="https://twitter.com/@davorg">@davorg</a> / Monday 29 November 2021 00:57 UTC</address>
            </div>
          </div>
        </div><!-- container -->
      </footer>
    </div><!-- container -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-56332-76"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-56332-76');
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
            integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
            crossorigin="anonymous"></script>
    <script src="/script.js"></script>
  </body>
</html>
