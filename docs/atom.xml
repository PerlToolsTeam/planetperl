<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Planet Perl</title>
  <link rel="alternate" href="https://perl.theplanetarium.org/" type="text/html"/>
  <subtitle>There's More Than One Way To Aggregate It</subtitle>
  <author>
    <name>Dave Cross</name>
    <email></email>
  </author>
  <updated>2020-12-31T13:13:53Z</updated>
  <link rel="self" href="https://perl.theplanetarium.org/" type="application/atom+xml"/>
  <id>https://perl.theplanetarium.org/</id>
  <entry>
    <title>Perl weekly challenge 093</title>
    <link rel="alternate" type="text/html" href="http://blogs.perl.org/users/joan_mimosinnet/2020/12/perl-weekly-challenge-093.html"/>
    <id>tag:blogs.perl.org,2020:/users/joan_mimosinnet//2785.10006</id>

    <published>2020-12-30T20:36:26Z</published>
    <updated>2020-12-31T05:19:31Z</updated>

    <summary>This is a Raku answer for the 093 Perl Weekly Challenge . This is also my first post. Exercise 1 Using a similar approach than James Curtis-Smith , the solution looks at points with equal slope to see if they...</summary>
    <author>
        <name>Joan Mimosinnet</name>
        
    </author>
    
    <category term="perlweeklychallenge" label="perlweeklychallenge" scheme="http://www.sixapart.com/ns/types#tag"/>
    
    <content type="html" xml:lang="en" xml:base="http://blogs.perl.org/users/joan_mimosinnet/">
        <![CDATA[<p>This is a Raku answer for the 093 <a href="https://perlweeklychallenge.org/">Perl Weekly Challenge </a>. This is also my first post.</p>

<p><big><strong>Exercise 1</strong></big></p>

<p>Using a similar approach than <a href="http://blogs.perl.org/users/james_curtis-smith/2020/12/perl-weekly-challenge-93.html">James Curtis-Smith </a>, the solution looks at points with equal slope to see if they are in a straight line. Being less literate in Raku, using classes help me to organize coding ideas. </p>

<p>This exercise gives me the opportunity to work with the type <a href="https://docs.raku.org/type/BagHash">BagHash</a>. The highest value of the slopes stored in a BagHash gives the number of points in a straight line. Happily, the first example in Raku documentation is for a Class Point, an example reused in this solution. </p> 

<textarea readonly='true' style='width:100%;min-height: 200px;'>#!Calculates the slope of two points
class Slope {
    has Point $.a;
    has Point $.b;

    method slope {
        # vertical line if bx - ax equals 0
        return 'vl' if  ( $!b.x - $!a.x ) eq 0;
        return ( $!b.y - $!a.y ) / ( $!b.x - $!a.x );
    }
}

#|Calculates the slope of the points and saves into BagHash
sub challenge( @points ) {
    my $slopes = BagHash.new;

    sub count_slopes( @points ) {
      my $point = @points.shift;
      @points.map(-> $i { $slopes.add: Slope.new( a => $point, b => $i ).slope } );
      count_slopes( @points ) if @points.elems gt 1;
    }
    count_slopes( @points );

    # the number of equal slopes gives the number of points in a straight line
    return $slopes.values.sort.Array.pop;
}</textarea>

<big><strong>Exercise 2</strong></big>

<p>Contrary to <a href="http://blogs.perl.org/users/james_curtis-smith/2020/12/perl-weekly-challenge-93.html">James Curtis-Smith</a>, I really struggled with this exercise. This is probably because of the approach taken. </p>

<p>The binary tree has been defined as 'lines of nodes', with 0 if the node is empty. Example:</p>

<textarea readonly='true' style='width:100%;min-height: 200px;'>Levels                   line content
  1          1             1
           /     \        
  2      2       3         2 3
         / \       / \
  3   4   0    5  6      4 0 5 6
       1   2    3   4     each node has a position
                              each position has a path, 0 = no path.

node in level 3, position 3, equals 5
node in level 1, position 1, equals 1
path 1 = 4 2 1
path 2 = no path
The representation of the tree is: 1 2 3 4 0 5 6</textarea>

<p>While this is an exhaustive definition of the tree, it might not be so convenient for a simple iterable solution. The solution presented involves:</p>
<ul>
	<li>The definition of the class Tree that defines the levels and the array of lines.</li>
        <li>The definition of two methods that gives the tree line and the tree node.</li>
        <li>A subroutine that iterates through the nodes in the last line to build the tree paths.</li>
        <li>Using the properties of binary trees:
              <li>The number of elements in a level = level.exp(2).</li>
              <li>The position of the previous node of a node = log2( previous node ).round(1)</li>
          </li>  
</ul>

<textarea readonly='true' style='width:100%;min-height: 200px;'>class Tree {
  has Int @.tree is rw;
  has Int $.levels;
  has     @.lines;

  submethod TWEAK() {
    @!lines   = shift @!tree;
    $!levels = 1;
    while @!tree {
      @!lines.push: @!tree.splice( 0, $!levels.exp(2) );
      $!levels++;
    }
  }

  method line( $level )      { self.lines[$level -1 ].flat      }
  method node( $level, $pos) { self.lines[$level -1 ][$pos -1 ] }
}

sub challenge( @tree ) {
  my $tree      = Tree.new( :tree(@tree) );
  my $level     = $tree.levels;
  my @last_line = $tree.line($level--);
  my %paths;
  my $pos = 0;
  for @last_line -> $node {
    ++$pos;
    next unless $node;
    %paths{$pos}.push: $node;
    sub previous_node($level,$pos) {
      if $pos eq 1 { %paths{$pos}.push: $tree.node($level, $pos)                    } 
      else         { %paths{$pos}.push: $tree.node( $level, log2( $pos ).round(1) ) } 
      previous_node( $level - 1 , $pos ) if $level lt 1;
    }
    previous_node($level,$pos);
    %paths{$pos}.push: $tree.node( 1, 1 );
  }
  return %paths.values.map(*.sum).sum;
}</textarea>








]]>
        
    </content>
</entry>
  <entry>
    <title>I'm Making Headway Now</title>
    <link rel="alternate" type="text/html" href="http://blogs.perl.org/users/ben_bullock/2020/12/im-making-headway-now.html"/>
    <id>tag:blogs.perl.org,2020:/users/ben_bullock//392.10005</id>

    <published>2020-12-30T09:54:37Z</published>
    <updated>2020-12-30T12:08:05Z</updated>

    <summary> Last January there was a post on reddit which claimed that my module JSON::Parse was not only failing some of the JSON Test Suite tests, but also crashing on one of them. Anyway I should have got around to...</summary>
    <author>
        <name>Ben Bullock</name>
        <uri>https://www.lemoda.net/</uri>
    </author>
    
    <category term="eyeofthebasilisk" label="eye of the basilisk" scheme="http://www.sixapart.com/ns/types#tag"/>
    <category term="georgeformby" label="George Formby" scheme="http://www.sixapart.com/ns/types#tag"/>
    <category term="json" label="JSON" scheme="http://www.sixapart.com/ns/types#tag"/>
    <category term="jsonparse" label="JSON::Parse" scheme="http://www.sixapart.com/ns/types#tag"/>
    <category term="makingheadway" label="making headway" scheme="http://www.sixapart.com/ns/types#tag"/>
    <category term="usersutilizeuselessunicode" label="Users Utilize Useless Unicode" scheme="http://www.sixapart.com/ns/types#tag"/>
    
    <content type="html" xml:lang="en" xml:base="http://blogs.perl.org/users/ben_bullock/">
        <![CDATA[<iframe width="560" height="315" src="https://www.youtube.com/embed/yHx6bIJFU8M" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>Last January <a href="https://www.reddit.com/r/perl/comments/ah29uh/updated_json_parsers_test_suite/">there was a post on reddit</a> which claimed that my module <a href="https://metacpan.org/release/JSON-Parse">JSON::Parse</a> was not only failing some of the JSON Test Suite tests, but also crashing on one of them. Anyway I should have got around to doing something about it sooner, but here are my conclusions.</p>

<p>First of all there was a crash on one of the files, which went something like this: <code>[{"":[{"":[{""</code>, repeated about 100,000 times. Investigating it using a LInode, I found that after 80,000 open brackets the stack was overflowing, causing the crash to occur. If I added a printf in the midst of my code the printf would cause the stack overflow, so it wasn't actually due to my code but just because the stack size seems to be quite small on Linux.</p>

<p>There are various things one could do to tackle this, but it does seem a bit unlikely that anyone would want to have that many open brackets, so what I did as a strategy was to add a "max_depth" of parsing after which it would stop. I thought 10,000 open { and [ would be enough for anyone, and it would satisfy the people who want to run the JSON Test Suite tests, but I also added <a href="https://metacpan.org/pod/release/BKB/JSON-Parse-0.57_01/lib/JSON/Parse.pm#set_max_depth">an option for the user to alter the max depth</a> and <a href="https://metacpan.org/pod/release/BKB/JSON-Parse-0.57_01/lib/JSON/Parse.pm#get_max_depth">get the max depth</a> as well.</p>

<p>After finishing that I started to wonder what other modules were doing that they had passed this test. A quick glance at the Cpanel::JSON::XS documentation and it seems that those people had the same idea, but their maximum depth is a measly 512 as opposed to my whopping 10,000. I'm not sure which is better or worse. 😕</p>

<p>There were a couple of other tests in the JSON Test Suite which I failed, which were tests about Unicode; the JSON Test Suite thinks that it is compulsory for JSON parsers to pass through Unicode non-characters, UTF-8 representing surrogate pairs, and so on. I'm not really sure why they think so, <a href="https://github.com/nst/JSONTestSuite/issues/52">there is a bit of a discussion on the github</a> but that doesn't strike me as being very convincing. Frankly I think JSON::Parse is much more useful tool for users if it rejects the non-characters and other crap, 💩 so I would need to see much stronger justification than I have done to alter it in the way that JSON Test Suite suggests.
<a href="https://xkcd.com/380/">
<img alt="emoticon.png" src="http://blogs.perl.org/users/ben_bullock/emoticon.png" width="740" height="191" class="mt-image-none" style="" /></a></p>

<p>In other news, I've also made it possible for the module to be installed from github, so it should now be possible to start using continuous integration. I've already got Travis working, and I hope to add some more useful things soon.</p>
]]>
        

    </content>
</entry>
  <entry>
  <title>Evaluate Perl project for new client - assessment</title>
  <summary type="html"><![CDATA[<p>
Recently a number of people have contacted me with various Perl-based projects. I had the opportunity to have an email exchange with them
to try to understand what they need and if I can provide the help. A few question came up and for my future reference I wrote them down.
<p>
These were almost always old projects that needed some new feature added.
<p>
]]></summary>
  <updated>2020-12-30T07:30:01Z</updated>
  <link rel="alternate" type="text/html" href="https://perlmaven.com/evaluate-project"/>  <id>https://perlmaven.com/evaluate-project</id>
  <content type="html"><![CDATA[<p>
Recently a number of people have contacted me with various Perl-based projects. I had the opportunity to have an email exchange with them
to try to understand what they need and if I can provide the help. A few question came up and for my future reference I wrote them down.
<p>
These were almost always old projects that needed some new feature added.
<p>
]]></content>
    <author>
      <name>Gabor Szabo</name>
    </author>
</entry>
  <entry>
    <title>Weekly Challenge 093</title>
    <link rel="alternate" href="https://dev.to/simongreennet/weekly-challenge-093-1dd9" type="text/html"/>
    <content type="html">&lt;p&gt;&lt;a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-093/"&gt;Challenge 093&lt;/a&gt;&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#task-1-max-points" class="anchor"&gt;
  &lt;/a&gt;
  TASK #1 › Max Points
&lt;/h1&gt;

&lt;h2&gt;
  &lt;a href="#task" class="anchor"&gt;
  &lt;/a&gt;
  Task
&lt;/h2&gt;

&lt;p&gt;You are given set of co-ordinates &lt;code&gt;@N&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Write a script to count maximum points on a straight line when given co-ordinates plotted on 2-d plane.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#my-solution" class="anchor"&gt;
  &lt;/a&gt;
  My solution
&lt;/h2&gt;

&lt;p&gt;I broke this task into smaller parts.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Read the input separate into an array of numbers, and make sure there are an even number of values. &lt;/li&gt;
&lt;li&gt;Plot the points on into &lt;code&gt;@grid&lt;/code&gt; by taking 1 off each value. This makes the point &lt;code&gt;(0,0)&lt;/code&gt; the bottom right.&lt;/li&gt;
&lt;li&gt;Create a graph. Although not part of the task, it's only four lines of code :)&lt;/li&gt;
&lt;li&gt;Like with the &lt;a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-076/#TASK2"&gt;word search task&lt;/a&gt;, go through each point in four directions (up, right, diagonally up and right, diagonally down and right) and find the longest points from that starting point. There is no point going in the other four directions as they are just opposites of the above four.&lt;/li&gt;
&lt;li&gt;Print the longest points to the screen.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#examples" class="anchor"&gt;
  &lt;/a&gt;
  Examples
&lt;/h2&gt;



&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;» ./ch-1.pl "(1,1), (2,2), (3,3)"
|     x
|   x
| x
+ - - -

Output is: 3

» ./ch-1.pl "(1,1), (2,2), (3,1), (1,3), (5,3)"
|     x
|
| x
|   x
| x   x
+ - - -

Output is: 3
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;h1&gt;
  &lt;a href="#task-2-sum-path" class="anchor"&gt;
  &lt;/a&gt;
  TASK #2 › Sum Path
&lt;/h1&gt;

&lt;h2&gt;
  &lt;a href="#task" class="anchor"&gt;
  &lt;/a&gt;
  Task
&lt;/h2&gt;

&lt;p&gt;You are given binary tree containing numbers &lt;code&gt;0-9&lt;/code&gt; only.&lt;/p&gt;

&lt;p&gt;Write a script to sum all possible paths from root to leaf.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#my-solution" class="anchor"&gt;
  &lt;/a&gt;
  My solution
&lt;/h2&gt;

&lt;p&gt;This task was a little more complex than I expected. It didn't help that I had a little bug in my code that took me a while to figure out.&lt;/p&gt;

&lt;p&gt;Even though my solution is 64 lines long, it is pretty straight forward.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;First I read the input from STDIN.&lt;/li&gt;
&lt;li&gt;The core of the code is then recursively calling the &lt;code&gt;_walk_path&lt;/code&gt; sub routine storing the current path in the &lt;code&gt;@$this_path&lt;/code&gt; array. If we hit the end of a node (i.e. it has no children), then I add it to the &lt;code&gt;@$paths&lt;/code&gt; array.&lt;/li&gt;
&lt;li&gt;Finally I display the sum, and the paths we visited.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#examples" class="anchor"&gt;
  &lt;/a&gt;
  Examples
&lt;/h2&gt;

&lt;p&gt;(using the examples from the website)&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;» ./ch-2.pl &amp;lt; example-1.txt 
Output is 13
Paths: (1, 2, 3), (1, 2, 4)

» ./ch-2.pl &amp;lt; example-2.txt 
Output is 26
Paths: (1, 2, 4), (1, 3, 5), (1, 3, 6)
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



</content>
    <author>
      <name>Simon Green</name>
    </author>
    <id>https://dev.to/simongreennet/weekly-challenge-093-1dd9</id>
    <published>2020-12-29T11:41:10Z</published>
    <updated>2020-12-29T11:41:10Z</updated>
    <category term="perl"/>
    <category term="weeklychallenge"/>
    <category term="perlweeklychallenge"/>
  </entry>
  <entry>
    <title>CPAN-Updates November/Dezember 2020</title>
    <link rel="alternate" href="https://blog.perl-academy.de/2020-12-29-cpan-update-november-dezember" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Auch in den letzten beiden Monaten dieses Jahres waren wir nicht ganz untätig – teilweise mit Hilfe anderer Perl-Programmierer\*innen.</div>
    </content>
    <id>https://blog.perl-academy.de/2020-12-29-cpan-update-november-dezember</id>
    <published>2020-12-29T10:00:00Z</published>
    <updated>2020-12-29T10:00:00Z</updated>
  </entry>
  <entry>
    <title>Perl weekly challenge 93</title>
    <link rel="alternate" type="text/html" href="http://blogs.perl.org/users/james_curtis-smith/2020/12/perl-weekly-challenge-93.html"/>
    <id>tag:blogs.perl.org,2020:/users/james_curtis-smith//3569.10004</id>

    <published>2020-12-28T17:00:49Z</published>
    <updated>2020-12-28T18:04:52Z</updated>

    <summary>These are some answers to the Week 93 of the Perl Weekly Challenge organized by Mohammad S. Anwar. Spoiler Alert: This weekly challenge deadline is due in a few days (January 3, 2021). This blog post offers some solutions to...</summary>
    <author>
        <name>James Curtis-Smith</name>
        <uri>https://jamessmith.me.uk</uri>
    </author>
    
    
    <content type="html" xml:lang="en" xml:base="http://blogs.perl.org/users/james_curtis-smith/">
        <![CDATA[<p>These are some answers to the Week 93 of the <a href="https://perlweeklychallenge.org/">Perl Weekly Challenge</a> organized by Mohammad S. Anwar.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few days (January 3, 2021). This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<p>I'm not a great blogger - but I will try and explain my solutions to the Perl weekly challenge each week. I always try and look for interesting solutions to the problems at hand.</p>

<h1>Part 1</h1>

<p>Not sure on the correct way to do this... I first looked at all the pairs of points - and looked to see what the direction was between the points. For those where the y-coordinates are different you can just use (x1-x2)/(y1-y2) to represent the slope. We also that flipping the order of the points gives the same value. For those canses where y is the same - the slop can be represented by an "infinity value" in my case i use "-"</p>

<p>We now keep a list keyed by points and directions, with the value being the number of times that point/direction combination has been seen</p>

<p>Finding the solution is simply finding the largest value in this list - this gives the max-number of points colinear to a single points</p>

<p>The answer is then this value + 1</p>

<p><small><pre></code><br />
sub most_points_in_line {<br />
  my @nodes = @_;<br />
  my %lines;<br />
  foreach my $i (0..(@nodes-2)) {<br />
    foreach my $j (($i+1)..(@nodes-1)) {<br />
      my $dir = $nodes[$i][1] == $nodes[$j][1]  ## Y values the same so division will fail<br />
              ? '-'                             ## use "-" to represent infintiy.<br />
              :  ($nodes[$i][0]-$nodes[$j][0])/($nodes[$i][1]-$nodes[$j][1]);<br />
      $lines{$i.':'.$dir}++; ## Add 1 to both the two nodes { as swapping the nodes over<br />
      $lines{$j.':'.$dir}++; ## makes no difference we don't need to compute twice<br />
    }<br />
  }<br />
  my $max = 0; ## Now we just need to find the maximum value.<br />
  foreach (values %lines) {<br />
    $max = $_ if $_ > $max;<br />
  }<br />
  return $max+1;<br />
}<br />
</code></pre></small></p>

<p><strong>Note:</strong> - this "trick" will fail if the direction calculation has rounding errors - in the examples this isn't the case - but care should be taken.</p>

<p>If we take the assumption from the examples that all the points on the plane are in fact integers - we can remove some of the issues with rounding errors by returning a slope as a ratio of integers. We do this by computing the gcd of the two values, and dividing dx & dy by this value.
</p>

<p><small><pre><code><br />
sub most_points_in_line {<br />
  my @nodes = @_;<br />
  my %lines;<br />
  foreach my $i (0..(@nodes-2)) {<br />
    foreach my $j (($i+1)..(@nodes-1)) {<br />
      my $dir = '-';<br />
      my( $dx,$dy) = ( $nodes[$i][0]-$nodes[$j][0], $nodes[$i][1]-$nodes[$j][1] );<br />
      if( $dx && $dy ) {<br />
        my $gcd = gcd( $dx,$dy );<br />
        $dir = $dx/$gcd.'-'.$dy/$gcd;<br />
      } else {<br />
        $dir = $dx ? '-' : '|';<br />
      }<br />
      $lines{$i.':'.$dir}++;<br />
      $lines{$j.':'.$dir}++;<br />
    }<br />
  }<br />
  my $max = 0;<br />
  foreach (values %lines) {<br />
    $max = $_ if $_ > $max;<br />
  }<br />
  return $max+1;<br />
}</p>

<p>## Note this gcd function works when n & m can have -ve values<br />
## We convert them to positive values and remember the sign of<br />
## the differences.<br />
sub gcd {<br />
  my( $n,$m,$s ) = (@_,1);<br />
  ($n,$m) = (-$n,-$m) if $n < 0;<br />
  if( $m < 0 ) {<br />
    $s = -1;<br />
    $m = -$m;<br />
  }<br />
  ($n,$m) = ($m,$n) if $m>$n;<br />
  ($n,$m) = ( $m, $n % $m ) while $n % $m;<br />
  return $m*$s;<br />
}<br />
</code></pre></small></p>

<h1>Part 2</h1>

<p>Like last week I think Part 2 is easier than Part 1.</p>

<p>Not really sure what the input should be - but will by representing the tree as a series of nodes:</p>
<ul>
  <li>Each node is an array consisting of up to 3 values;</li>
  <li>The value of the node</li>
  <li>The left and right sub-trees if they exists</li>
</ul>

<p>So for example 1 we have:</p>
<pre>
  [ 1,
    [ 2,
      [ 3 ],
      [ 4 ],
    ],
  ];
</pre>

<p>and for example 2 we have:</p>

<pre>
  [ 1,
    [ 2,
      [ 4 ],
    ]
    [ 3,
      [ 5 ],
      [ 6 ],
    ],
  ];
</pre>

<p>To compute the sum of each route through the tree we start at the top, and work our way down the tree using recursion to find the sum of the sub-trees. As we work our way down the tree we remember the sum of the nodes that we have traversed through:</p>

<p>So in example 1.</p>
<ul>
  <li>Start at node (1) - the sum of ancestors is 0</li>
  <li>We then look at the child trees (2) - the sum of it's ancestors is 1</li>
  <li>Then we look at the leaves (3) & (4) - the value they contribute are 6 and 7 respectively [the ancestor node total is 3 {1+2}]<li>
</ul>

<p>This is relatively easy to convert to a simple algorithm:</p>

<p><small><pre><code><br />
sub tree_sum {<br />
  my ( $node,$sum ) = @_;<br />
  $sum||=0;<br />
  return $node->[0] + $sum if @{$node} < 2; ## This is a leaf!<br />
  return tree_sum( $node->[1], $node->[0] + $sum ) + ## Left tree total<br />
         ( @{$node} == 3 ? tree_sum( $node->[2], $node->[0] + $sum ) : 0 );<br />
                                                     ## + right tree total if exists<br />
}<br />
</code></pre></small></p>]]>
        
    </content>
</entry>
  <entry>
    <title>This Company is No Shop of Horrors. Perl role in Canberra, Australia</title>
    <link rel="alternate" href="https://job.perl.careers/d6y" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">With a mission that includes developing cost-efficient genotyping technology and promoting the development of crops adapted to suit their environment, this is a company that cares about doing great things, and that level of dedication extends to their people. If you’re located within Australia and this role sounds too delicious to pass up, drop us an email.</div>
    </content>
    <id>https://job.perl.careers/d6y</id>
    <published>2020-12-28T10:00:36Z</published>
    <updated>2020-12-28T10:00:36Z</updated>
  </entry>
  <entry>
    <title>Goodbye, Winter Blues. Hello, 300 Days of Perl Sunshine! Perl developer job in Malta</title>
    <link rel="alternate" href="https://job.perl.careers/w1o" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Our client is a financial company whose growth over the last twenty years has been nothing short of impressive. They started with the idea that online trading should be available to all, and from there, they’ve built a company with multiple locations worldwide. If you want to be part of a business that is thriving, this may be the perfect opportunity for you.</div>
    </content>
    <id>https://job.perl.careers/w1o</id>
    <published>2020-12-28T10:00:35Z</published>
    <updated>2020-12-28T10:00:35Z</updated>
  </entry>
  <entry>
    <title>Business Casual has a Whole New Meaning. Perl role in South Germany</title>
    <link rel="alternate" href="https://job.perl.careers/1cq" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Online shopping, socializing, working—it’s a digital world now, which is perfect for our client. As an international IT company managing millions of domains for retail and corporate customers in nearly every country in the world, they’re busier than ever—and they need a few senior Perl developers to help them continue to thrive.</div>
    </content>
    <id>https://job.perl.careers/1cq</id>
    <published>2020-12-28T10:00:34Z</published>
    <updated>2020-12-28T10:00:34Z</updated>
  </entry>
  <entry>
    <title>Free Lunch? Yes, Please. Perl job in Vienna.</title>
    <link rel="alternate" href="https://job.perl.careers/aob" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">One of the largest product and price comparison platforms in German-speaking countries is on the hunt for a Perl programmer who wants to use their skills to eradicate inflated prices. The successful candidate will relish the chance to join a team that attributes nearly two decades of success to an uncompromising commitment to transparency, objectivity, and quality content.</div>
    </content>
    <id>https://job.perl.careers/aob</id>
    <published>2020-12-28T10:00:33Z</published>
    <updated>2020-12-28T10:00:33Z</updated>
  </entry>
  <entry>
    <title>How do you look in a fig leaf? Perl role in Cambridge, UK</title>
    <link rel="alternate" href="https://job.perl.careers/jrq" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">This organization is one of the world’s leading developers of medical diagnostic technologies and clinical software. They believe in security, wellness, and the importance of driving innovation to deliver patient benefit. In short: do-gooders doing good! Isn’t it about time you felt positive about what you do?</div>
    </content>
    <id>https://job.perl.careers/jrq</id>
    <published>2020-12-28T10:00:32Z</published>
    <updated>2020-12-28T10:00:32Z</updated>
  </entry>
  <entry>
    <title>German Perl Workshop 2021</title>
    <link rel="alternate" href="https://act.yapc.eu/gpw2021" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">It will be in Leipzig on March 24-26 2021. <a href="https://act.yapc.eu/gpw2021/cfp.html">CFP is open</a>.</div>
    </content>
    <id>https://act.yapc.eu/gpw2021</id>
    <published>2020-12-28T10:00:31Z</published>
    <updated>2020-12-28T10:00:31Z</updated>
  </entry>
  <entry>
    <title>Charlotte Perl Mongers - Using the ActiveState Platform</title>
    <link rel="alternate" href="https://www.meetup.com/charlotte-pm/events/275282889" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Wednesday, January 27, 2021; 6:00 PM EST</div>
    </content>
    <id>https://www.meetup.com/charlotte-pm/events/275282889</id>
    <published>2020-12-28T10:00:30Z</published>
    <updated>2020-12-28T10:00:30Z</updated>
  </entry>
  <entry>
    <title>Derrick Talks renv - Purdue Perl Mongers</title>
    <link rel="alternate" href="https://www.meetup.com/hacklafayette/events/jdxwsrycccbrb/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Wednesday, January 13, 2021; 5:30 PM EST</div>
    </content>
    <id>https://www.meetup.com/hacklafayette/events/jdxwsrycccbrb/</id>
    <published>2020-12-28T10:00:29Z</published>
    <updated>2020-12-28T10:00:29Z</updated>
  </entry>
  <entry>
    <title>Silicon Valley Perl - Intro to Raku: A New Language for a New Year</title>
    <link rel="alternate" href="https://www.meetup.com/SVPerl/events/vsxdwrycccbkb/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Thursday, January 7, 2021; 6:30 PM PST</div>
    </content>
    <id>https://www.meetup.com/SVPerl/events/vsxdwrycccbkb/</id>
    <published>2020-12-28T10:00:28Z</published>
    <updated>2020-12-28T10:00:28Z</updated>
  </entry>
  <entry>
    <title>Berlin Perl Mongers</title>
    <link rel="alternate" href="https://www.meetup.com/Berlin-Perl-Mongers/events/jbrsfrybcqbfc/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Wednesday, January 6, 2021; 7:00 PM GMT+1</div>
    </content>
    <id>https://www.meetup.com/Berlin-Perl-Mongers/events/jbrsfrybcqbfc/</id>
    <published>2020-12-28T10:00:27Z</published>
    <updated>2020-12-28T10:00:27Z</updated>
  </entry>
  <entry>
    <title>Perl Dancer Course</title>
    <link rel="alternate" href="https://leanpub.com/c/dancer" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">The course is now ready for you to watch.</div>
    </content>
    <id>https://leanpub.com/c/dancer</id>
    <published>2020-12-28T10:00:26Z</published>
    <updated>2020-12-28T10:00:26Z</updated>
  </entry>
  <entry>
    <title>NICEPERL's lists</title>
    <link rel="alternate" href="http://niceperl.blogspot.com/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <a href="https://niceperl.blogspot.com/2020/12/cccxxi-17-cpan-great-modules-released.html">Great modules released last week</a>
      </div>
    </content>
    <id>http://niceperl.blogspot.com/</id>
    <published>2020-12-28T10:00:25Z</published>
    <updated>2020-12-28T10:00:25Z</updated>
  </entry>
  <entry>
    <title>2020.51 Merry ReleasMas</title>
    <link rel="alternate" href="https://rakudoweekly.blog/2020/12/21/2020-51-merry-releasmas/" type="text/html"/>
    <id>https://rakudoweekly.blog/2020/12/21/2020-51-merry-releasmas/</id>
    <published>2020-12-28T10:00:24Z</published>
    <updated>2020-12-28T10:00:24Z</updated>
  </entry>
  <entry>
    <title>Weekly Challenge 092</title>
    <link rel="alternate" href="https://dev.to/simongreennet/weekly-challenge-092-1kim" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Simon kept his solution and discussion to the point. Good job.</div>
    </content>
    <id>https://dev.to/simongreennet/weekly-challenge-092-1kim</id>
    <published>2020-12-28T10:00:23Z</published>
    <updated>2020-12-28T10:00:23Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 92: Isomorphic Interval</title>
    <link rel="alternate" href="https://blog.firedrake.org/archive/2020/12/Perl_Weekly_Challenge_92__Isomorphic_Interval.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Roger in-line comment makes it so easy to follow the code. Highly Recommended.</div>
    </content>
    <id>https://blog.firedrake.org/archive/2020/12/Perl_Weekly_Challenge_92__Isomorphic_Interval.html</id>
    <published>2020-12-28T10:00:22Z</published>
    <updated>2020-12-28T10:00:22Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 92</title>
    <link rel="alternate" href="https://wlmb.github.io/2020/12/22/PWC92/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Luis discussion of Insert Interval task is exceptional. Highly Recommended.</div>
    </content>
    <id>https://wlmb.github.io/2020/12/22/PWC92/</id>
    <published>2020-12-28T10:00:21Z</published>
    <updated>2020-12-28T10:00:21Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 92: Isomorphic Strings and Insert Intervals</title>
    <link rel="alternate" href="http://blogs.perl.org/users/laurent_r/2020/12/perl-weekly-challenge-92-isomorphic-strings-and-insert-intervals.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Like always, Laurent discuss all the possible ways of dealing with the task. Must Read.</div>
    </content>
    <id>http://blogs.perl.org/users/laurent_r/2020/12/perl-weekly-challenge-92-isomorphic-strings-and-insert-intervals.html</id>
    <published>2020-12-28T10:00:20Z</published>
    <updated>2020-12-28T10:00:20Z</updated>
  </entry>
  <entry>
    <title>Perl weekly challenge 92</title>
    <link rel="alternate" href="http://blogs.perl.org/users/james_curtis-smith/2020/12/perl-weekly-challenge-92.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">James dealing with Insert Interval in a very unique way. Must Read.</div>
    </content>
    <id>http://blogs.perl.org/users/james_curtis-smith/2020/12/perl-weekly-challenge-92.html</id>
    <published>2020-12-28T10:00:19Z</published>
    <updated>2020-12-28T10:00:19Z</updated>
  </entry>
  <entry>
    <title>Solving Perl Weekly Challenge 092 -- Isomorphic Strings and Insert Interval.</title>
    <link rel="alternate" href="https://gugod.org/2020/12/pwc-092-en/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Kang-min shared plenty of choices for each task. Highly Recommended.</div>
    </content>
    <id>https://gugod.org/2020/12/pwc-092-en/</id>
    <published>2020-12-28T10:00:18Z</published>
    <updated>2020-12-28T10:00:18Z</updated>
  </entry>
  <entry>
    <title>PWC092 - Insert Interval</title>
    <link rel="alternate" href="https://github.polettix.it/ETOOBUSY/2020/12/23/pwc092-insert-interval/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Flavio pictorial breakdown of Insert Interval task is really cool. Must Read.</div>
    </content>
    <id>https://github.polettix.it/ETOOBUSY/2020/12/23/pwc092-insert-interval/</id>
    <published>2020-12-28T10:00:17Z</published>
    <updated>2020-12-28T10:00:17Z</updated>
  </entry>
  <entry>
    <title>PWC092 - Isomorphic Strings</title>
    <link rel="alternate" href="https://github.polettix.it/ETOOBUSY/2020/12/22/pwc092-isomorphic-strings/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Flavio knows the art of breaking task into pieces and then everything looks so simple and easy. Great job.</div>
    </content>
    <id>https://github.polettix.it/ETOOBUSY/2020/12/22/pwc092-isomorphic-strings/</id>
    <published>2020-12-28T10:00:16Z</published>
    <updated>2020-12-28T10:00:16Z</updated>
  </entry>
  <entry>
    <title>My Lava Lamp Pulsates in Harmony with the String Section</title>
    <link rel="alternate" href="https://colincrain.com/2020/12/27/my-lava-lamp-pulsates-in-harmony-with-the-string-section/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Reading Colin blog is always magical. It feels like reading fictional novel. Incredible kill.</div>
    </content>
    <id>https://colincrain.com/2020/12/27/my-lava-lamp-pulsates-in-harmony-with-the-string-section/</id>
    <published>2020-12-28T10:00:15Z</published>
    <updated>2020-12-28T10:00:15Z</updated>
  </entry>
  <entry>
    <title>Isomorphic Insertation with Raku</title>
    <link rel="alternate" href="https://raku-musings.com/isomorphic-insert.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">With the power of Raku, Arne made the tasks look so easy. As always the detailed discussion is exceptionally good.</div>
    </content>
    <id>https://raku-musings.com/isomorphic-insert.html</id>
    <published>2020-12-28T10:00:14Z</published>
    <updated>2020-12-28T10:00:14Z</updated>
  </entry>
  <entry>
    <title>Raku Challenge, Week 92, Issue 1</title>
    <link rel="alternate" href="https://andrewshitov.com/2020/12/22/raku-challenge-week-92-issue-1/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Andrew explained the Isomorphic Strings task so beautifully. Must Read.</div>
    </content>
    <id>https://andrewshitov.com/2020/12/22/raku-challenge-week-92-issue-1/</id>
    <published>2020-12-28T10:00:13Z</published>
    <updated>2020-12-28T10:00:13Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 92, Part 2</title>
    <link rel="alternate" href="https://programmingblog702692439.wordpress.com/2020/12/27/perl-weekly-challenge-92-part-2/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Abigail turned the harder task into a simple one. Plenty to learn from him. Highly Recommended.</div>
    </content>
    <id>https://programmingblog702692439.wordpress.com/2020/12/27/perl-weekly-challenge-92-part-2/</id>
    <published>2020-12-28T10:00:12Z</published>
    <updated>2020-12-28T10:00:12Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 92, Part 1</title>
    <link rel="alternate" href="https://programmingblog702692439.wordpress.com/2020/12/27/perl-weekly-challenge-92-part-1/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Abigail has always surprised me with his analytical thought. Impressive.</div>
    </content>
    <id>https://programmingblog702692439.wordpress.com/2020/12/27/perl-weekly-challenge-92-part-1/</id>
    <published>2020-12-28T10:00:11Z</published>
    <updated>2020-12-28T10:00:11Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 92</title>
    <link rel="alternate" href="https://aaronreidsmith.github.io/blog/perl-weekly-challenge-092/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Aaron sharing Raku gems with detailed description.</div>
    </content>
    <id>https://aaronreidsmith.github.io/blog/perl-weekly-challenge-092/</id>
    <published>2020-12-28T10:00:10Z</published>
    <updated>2020-12-28T10:00:10Z</updated>
  </entry>
  <entry>
    <title>Perl Review - Perl Weekly Challenge - 090</title>
    <link rel="alternate" href="https://perlweeklychallenge.org/blog/review-challenge-090" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Perl Solutions Review by Colin Crain.</div>
    </content>
    <id>https://perlweeklychallenge.org/blog/review-challenge-090</id>
    <published>2020-12-28T10:00:09Z</published>
    <updated>2020-12-28T10:00:09Z</updated>
  </entry>
  <entry>
    <title>RECAP - The Weekly Challenge - 092</title>
    <link rel="alternate" href="https://perlweeklychallenge.org/blog/recap-challenge-092" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Enjoy a quick recap of last week's contributions by the Team PWC dealing with the "Isomorphic Strings" and "Insert Interval" tasks in Perl and Raku. You will find plenty of solutions to keep you busy.</div>
    </content>
    <id>https://perlweeklychallenge.org/blog/recap-challenge-092</id>
    <published>2020-12-28T10:00:08Z</published>
    <updated>2020-12-28T10:00:08Z</updated>
  </entry>
  <entry>
    <title>The Weekly Challenge - 093</title>
    <link rel="alternate" href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-093" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Welcome a new week with a couple of fun tasks "Max Points" and "Sum Path". If you are new to the weekly challenge then why not join us and have fun every week. For more information, please read <a href="https://perlweeklychallenge.org/faq">FAQ</a> page.</div>
    </content>
    <id>https://perlweeklychallenge.org/blog/perl-weekly-challenge-093</id>
    <published>2020-12-28T10:00:07Z</published>
    <updated>2020-12-28T10:00:07Z</updated>
  </entry>
  <entry>
    <title>The Definitive Conway's Game of Life</title>
    <link rel="alternate" href="https://github.polettix.it/ETOOBUSY/2020/12/24/conway-general/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Flavio introducing the Conway's Game of Life.</div>
    </content>
    <id>https://github.polettix.it/ETOOBUSY/2020/12/24/conway-general/</id>
    <published>2020-12-28T10:00:06Z</published>
    <updated>2020-12-28T10:00:06Z</updated>
  </entry>
  <entry>
    <title>Generalized Chinese Remainder Theorem</title>
    <link rel="alternate" href="https://github.polettix.it/ETOOBUSY/2020/12/26/generalized-chinese-remainder-theorem/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Flavio playing with Chinese Remainder Theorem. Nice trick with numbers.</div>
    </content>
    <id>https://github.polettix.it/ETOOBUSY/2020/12/26/generalized-chinese-remainder-theorem/</id>
    <published>2020-12-28T10:00:05Z</published>
    <updated>2020-12-28T10:00:05Z</updated>
  </entry>
  <entry>
    <title>First Perl Steering Council elected to replace Pumpking position</title>
    <link rel="alternate" href="http://blogs.perl.org/users/mithaldu/2020/12/first-perl-steering-council-elected-to-replace-pumpking-position.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Introduction to the Perl Steering Council members.</div>
    </content>
    <id>http://blogs.perl.org/users/mithaldu/2020/12/first-perl-steering-council-elected-to-replace-pumpking-position.html</id>
    <published>2020-12-28T10:00:04Z</published>
    <updated>2020-12-28T10:00:04Z</updated>
  </entry>
  <entry>
    <title>Blogs</title>
    <link rel="alternate" href="https://perlweekly.com/stats.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Number of posts last week: BPO: 6; DevTo: 3; Perl.com: 0; PerlAcademy: 0; PerlHacks: 0; PerlMaven: 0; Reddit: 19; TPF: 1;</div>
    </content>
    <id>https://perlweekly.com/stats.html</id>
    <published>2020-12-28T10:00:03Z</published>
    <updated>2020-12-28T10:00:03Z</updated>
  </entry>
  <entry>
    <title>CPAN uploads</title>
    <link rel="alternate" href="https://perlweekly.com/metacpan.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">Last week there were a total of 190 uploads to CPAN of 132 distinct distributions by 71 different authors. Number of distributions with link to VCS: 112. Number of distros with CI: 65. Number of distros with bugtracker: 98.</div>
    </content>
    <id>https://perlweekly.com/metacpan.html</id>
    <published>2020-12-28T10:00:02Z</published>
    <updated>2020-12-28T10:00:02Z</updated>
  </entry>
  <entry>
    <title>The Top 10 Programming Tasks That Perl Is Used For</title>
    <link rel="alternate" href="https://www.activestate.com/blog/top-10-programming-tasks-that-perl-is-used-for/" type="text/html"/>
    <content type="text">In today’s cloud-centric age, Perl remains a highly valuable and versatile tool. To prove the point, here’s a countdown of the &lt;a href="https://www.activestate.com/blog/top-10-programming-tasks-that-perl-is-used-for/?utm_source=Perl-weekly-newsletter&amp;utm_medium=cpc&amp;utm_content=blog-perl-10-tasks&amp;utm_campaign=user-acquisition"&gt;top ten most common tasks&lt;/a&gt; that Perl is used for. You can (arguably) accomplish these more easily with Perl even today!</content>
    <id>https://www.activestate.com/blog/top-10-programming-tasks-that-perl-is-used-for/</id>
    <published>2020-12-28T10:00:01Z</published>
    <updated>2020-12-28T10:00:01Z</updated>
  </entry>
  <entry>
    <title>#492 - Perl Steering Council Election</title>
    <link rel="alternate" href="http://perlweekly.com/archive/492.html" type="text/html"/>
    <content type="html">&lt;p&gt;Hi there&lt;/p&gt;
&lt;p&gt;Merry Christmas &amp; Happy New Year&lt;/p&gt;
&lt;p&gt;Finally we now have 3 elected members i.e. Ricardo Signes, Neil Bowers and Sawyer X of Perl Steering Council Election. Hearty congratulations to all three members. If anyone interested in the voting process then please follow &lt;a href="https://civs.cs.cornell.edu/cgi-bin/results.pl?id=E_aab0c963977b9ff8"&gt;Poll Results: Perl Steering Council Election&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;Are you interested in Perl 7 updates?&lt;/p&gt;
&lt;p&gt;I found two very insightful source with regard to Perl 7 news e.g. &lt;a href="https://gist.github.com/Grinnz/be5db6b1d54b22d8e21c975d68d7a54f"&gt;Perl 7 FAQ&lt;/a&gt; and &lt;a href="https://www.perlmonks.org/?node_id=11119011"&gt;RFC -- Evolving Perl: a Decision Theory Approach to the Challenges of Perl 7&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I am sure you must have enjoyed the flood of many Advent Calendars, specially &lt;a href="http://perladvent.org/2020/"&gt;Perl Advent Calendar 2020&lt;/a&gt;. We also had mix bag of Perl and Raku gems making up the &lt;a href="https://perlweeklychallenge.org/blog/advent-calendar-2020/"&gt;The Weekly Challenge Advent Calendar 2020&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Did you miss something this festive season? I did.&lt;/p&gt;
&lt;p&gt;Well, I didn't hear any noise with regard to the most loved annual event 24PullRequest. In the past, start of december means two things for me, one is Advent Calendar and the second is 24PullRequest challenge. What a shame I didn't participate this year. I hope new year 2021 would bring the fresh energy.&lt;/p&gt;
&lt;p&gt;Enjoy the rest of the newsletter&lt;/p&gt;</content>
    <id>http://perlweekly.com/archive/492.html</id>
    <published>2020-12-28T10:00:00Z</published>
    <updated>2020-12-28T10:00:00Z</updated>
    <category term="list of tags?"/>
  </entry>
  <entry>
    <title>Teaser: Gitlab und Perl</title>
    <link rel="alternate" href="https://blog.perl-academy.de/2020-12-28-gitlab-schulung" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Gitlab bietet viel Funktionalität, die für Perl-Projekte sinnvoll genutzt werden kann. Unsere Schulung soll am praktischen Beispiel einer kleinen CPAN-Distribution einen Einblick in die Möglichkeiten bieten.</div>
    </content>
    <id>https://blog.perl-academy.de/2020-12-28-gitlab-schulung</id>
    <published>2020-12-28T10:00:00Z</published>
    <updated>2020-12-28T10:00:00Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 92: Isomorphic Strings and Insert Intervals</title>
    <link rel="alternate" type="text/html" href="http://blogs.perl.org/users/laurent_r/2020/12/perl-weekly-challenge-92-isomorphic-strings-and-insert-intervals.html"/>
    <id>tag:blogs.perl.org,2020:/users/laurent_r//3226.10003</id>

    <published>2020-12-27T22:36:24Z</published>
    <updated>2020-12-27T23:32:29Z</updated>

    <summary>These are some answers to the Week 92 of the Perl Weekly Challenge organized by Mohammad S. Anwar. Spoiler Alert: This weekly challenge deadline is due in a few hours. This blog post offers some solutions to this challenge, please...</summary>
    <author>
        <name>laurent_r</name>
        <uri>https://laurent-rosenfeld.developpez.com/</uri>
    </author>
    
    
    <content type="html" xml:lang="en" xml:base="http://blogs.perl.org/users/laurent_r/">
        <![CDATA[<p>These are some answers to the Week 92 of the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-092/">Perl Weekly Challenge</a> organized by <a href="http://blogs.perl.org/users/mohammad_s_anwar/">Mohammad S. Anwar</a>.</p>

<p><em>Spoiler Alert:</em> This weekly challenge deadline is due in a few hours. This blog post offers some solutions to this challenge, please don’t read on if you intend to complete the challenge on your own.</p>

<h2>Task 1: Isomorphic Strings</h2>

<p><em>You are given two strings <code>$A</code>  and <code>$B</code>.</em></p>

<p><em>Write a script to check if the given strings are <a href="https://www.educative.io/edpresso/how-to-check-if-two-strings-are-isomorphic">Isomorphic</a>. Print 1 if they are, otherwise 0.</em></p>

<p><em>Example 1:</em></p>

<pre><code>Input: $A = "abc"; $B = "xyz"
Output: 1
</code></pre>

<p><em>Example 2:</em></p>

<pre><code>Input: $A = "abb"; $B = "xyy"
Output: 1
</code></pre>

<p><em>Example 3:</em></p>

<pre><code>Input: $A = "sum"; $B = "add"
Output: 0
</code></pre>

<h3>Isomorphic Strings in Raku</h3>

<p>For this task, we&#8217;re using 5 test cases. For each string pair, the program calls the <code>is-isomorphic</code> subroutine, which does the bulk of the work.</p>

<p>The first thing that the <code>is-isomorphic</code> subroutine does is to compare the string lengths and return 0 if they are not equal. This may appear to be a performance enhancement (and, it is indeed), but, more importantly, this simplifies the rest of the procedure since, from there on, we know that the strings we are processing have the same character count. Then, we use the <code>%transcode</code> hash to record the translation table from the first string to the second one. We return 0 if any character in the first string would need to be translated into two different characters in the second one. This is not sufficient, though: for example, the last example in the task description (&#8220;sum&#8221; and &#8220;add&#8221;) would pass this test, although the words are not isomorphic. So we also use the <code>%seen</code> <a href="https://docs.raku.org/type/SetHash">SetHash</a> to record the letters of the second string that we have already seen and return 0 if any pair of characters required a new entry in the <code>%transcode</code> hash whereas the target letter has already been seen.</p>

<pre><code>use v6;
my @tests = (&lt; abc xyz &gt;), (&lt; abb xyy &gt;), (&lt; sum add &gt;),
    (&lt; ACAB XCXY &gt;), (&lt; abc uvwxy &gt;);

    for @tests -&gt; @strings {
        say "@strings[]: ", is-isomorphic @strings;
    }

sub is-isomorphic (@strings) {
    my ($str1, $str2) = @strings;
    return 0 if $str1.chars != $str2.chars;
    my %transcode;
    my SetHash $seen;
    for 0..$str1.chars - 1 -&gt; $i {
        my $char1 = $str1.substr($i, 1);
        my $char2 = $str2.substr($i, 1);
        if %transcode{$char1}:exists {
            return 0 if %transcode{$char1} ne $char2;
        } else {
            return 0 if $seen{$char2};
            %transcode{$char1} = $char2;
            $seen{$char2}++;;
        }
    }
    return 1
}
</code></pre>

<p>This script displays the following output:</p>

<pre><code>$ raku isomorphic.raku
abc xyz: 1
abb xyy: 1
sum add: 0
ACAB XCXY: 1
abc uvwxy: 0
</code></pre>

<h3>Isomorphic Strings in Perl</h3>

<p>This is essentially the same code as before in Perl. Please refer to the explanations above if needed. The only significant difference is that, since there is no <code>SetHash</code> in Perl, we use the plain hash <code>%seen</code>.</p>

<pre><code>use strict;
use warnings;
use feature "say";

my @tests = ( [qw&lt; abc xyz &gt;], [qw&lt; abb xyy &gt;], [qw&lt; sum add &gt;],
    [qw&lt; ACAB XCXY &gt;], [qw&lt; abc uvwxy &gt;] );

    for my $strings_ref (@tests) {
        say "@$strings_ref: ", is_isomorphic(@$strings_ref);
    }

sub is_isomorphic {
    my ($str1, $str2) = @_;
    return 0 if length $str1 != length $str2;
    my (%transcode, %seen);
    for my $i (0..length($str1) - 1) {
        my $char1 = substr $str1, $i, 1;
        my $char2 = substr $str2, $i, 1;;
        if (exists $transcode{$char1}) {
            return 0 if $transcode{$char1} ne $char2;
        } else {
            return 0 if exists $seen{$char2};
            $transcode{$char1} = $char2;
            $seen{$char2} = 1;
        }
    }
    return 1
}
</code></pre>

<p>Output:</p>

<pre><code>$ perl isomorphic.pl
abc xyz: 1
abb xyy: 1
sum add: 0
ACAB XCXY: 1
abc uvwxy: 0
</code></pre>

<h3>Isomorphic Strings in Scala</h3>

<p>This is essentially a port to Scala of the above two programs in Raku and Perl. See the explanations above if needed. Perl&#8217;s and Raku&#8217;s hashes are called <code>Maps</code> in Scala. Also, <code>Sets</code> are usually not mutable, so we need to import <code>scala.collection.mutable.Set</code>. </p>

<pre><code>import scala.collection.mutable.Set

object Main {
  def main(args: Array[String]): Unit = {
    val (str1, str2) =
      if (args.size == 2) (args(0), args(1)) else ("abc", "xyz")
    println(s"args = $str1 and $str2")
    println(isIsomorphic(str1, str2))
  }
  def isIsomorphic(str1: String, str2: String): Int = {
    if (str1.length != str2.length) return 0
    var transcode: Map[Char, Char] = Map()
    var seen: Set[Char] = Set()
    for (i &lt;- 0 to str1.length - 1) {
      if (transcode.contains(str1(i))) {
        if (str1(i) != str2(i)) { return 0 }
      } else {
        if (seen.contains(str2(i))) return 0
        transcode += (str1(i) -&gt; str2(i))
        seen += str2(i)
      }
    }
    return 1
  }
}
</code></pre>

<p>Sample output:</p>

<pre><code>args = abc and xyz
1
</code></pre>

<h2>Task 2: Insert Intervals</h2>

<p><em>You are given a set of sorted non-overlapping intervals and a new interval.</em></p>

<p><em>Write a script to merge the new interval to the given set of intervals.</em></p>

<p><em>Example 1:</em></p>

<pre><code>Input $S = (1,4), (8,10); $N = (2,6)
Output: (1,6), (8,10)
</code></pre>

<p><em>Example 2:</em></p>

<pre><code>Input $S = (1,2), (3,7), (8,10); $N = (5,8)
Output: (1,2), (3,10)
</code></pre>

<p><em>Example 3:</em></p>

<pre><code>Input $S = (1,5), (7,9); $N = (10,11)
Output: (1,5), (7,9), (10,11)
</code></pre>

<h3>On Non-Overlapping and Adjacent Intervals</h3>

<p>When you create or use such intervals, in probably more than 90% of the use cases, you generally also want to avoid <em>adjacent</em> intervals, because the aim is usually to summarize an integer (or alphabetic or other) sequence as much as possible. From that standpoint, the input set of the second example would not be <code>(1,2), (3,7), (8,10)</code>, but <code>(1,10)</code>.</p>

<p>My first Raku attempt merged adjacent intervals. It simply expanded all intervals, sorted the data and recreated intervals:</p>

<pre><code>use v6;

my @tests = [(2, 6), (1, 4), (8, 10)], [(5, 8), (1, 2), (3,7 ), (8, 10)], [(10, 11), (1, 5), (7, 9)];

# Caution: not complying with the task rules, as this
# script also merges adjacent intervals
for @tests -&gt; @test {
    say @test;
    my @full-data = (map { |( $_[0]..$_[1]) }, @test).Set.keys.sort;
    my $first = shift @full-data;
    my @result;
    my $last = $first;
    for @full-data -&gt; $item {
        if $item != $last + 1 {
           push @result, "($first, $last), ";
           $first = $item;
        }
        $last = $item;
    }
    push @result, "($first, $last), ";
    say ~@result.subst(/','\s+$/, "\n");
}
</code></pre>

<p>This produces the following output:</p>

<pre><code>$ raku interval_1.raku
[(2 6) (1 4) (8 10)]
(1, 6),  (8, 10)

[(5 8) (1 2) (3 7) (8 10)]
(1, 10)

[(10 11) (1 5) (7 9)]
(1, 5),  (7, 11)
</code></pre>

<p>As noted before, to me, this is more in line with what you usually want to do with such intervals. But, the task specification says &#8220;non-overlapping&#8221;, it doesn&#8217;t mention &#8220;non-adjacent&#8221; intervals and the examples are quite clear, so fair enough, my solution above is wrong. It&#8217;s a pity, since this is really simpler. A correct solution will be given below.</p>

<h3>On the Size of the Input Data</h3>

<p>The examples provided are very small, with only two or three intervals. This led me to an algorithm that sorts again the input (together with the additional interval) and then loops over the contents to merge overlapping intervals.</p>

<p>This, of course, wouldn&#8217;t be very efficient with large input data. A friend of mine once asked my help to deal with a somewhat similar problem, but involving very large data sets in the field of genetics. His program stored millions of non-overlapping ranges in a hash and was then trying to figure out whether any of several hundreds of thousands regions (effectively, also ranges) from another file overlapped with the ranges in his hash. This program essentially scanned sequentially the full hash for each region in the input file, and it would take days to complete. I suggested that, rather than using a hash for the input ranges, it would be better to use a sorted array and to implement a binary search. With dummy data (one million ranges), I showed that the search part of the program would run more than 20,000 times faster with binary search. Of course, his program was doing a number of other things, so, overall, that performance enhancement on a sample of real data was diluted to a factor of 35 (run time from 28 hours down to 50 minutes). For details, see the second part of the <a href="E:\LaurentRosenfeld_githubRepo\Perl-5-talks\German Perl Worshop 2018">slides</a> for a talk I gave on the subject at the 2018 German Perl Workshop in Cologne on this subject.</p>

<p>With input data of three or four ranges, it would be technological overkill to implement a binary search.</p>

<h3>Insert Intervals in Raku</h3>

<p>In my test range sets, the first interval is the one to be added and the rest is the input set of ranges. Thus, it would be easy to <code>shift</code> the first range and to place it in the proper position in the rest of the set. That&#8217;s not what I did, however, since, as noted above, the program is simply sorting the ranges (in accordance with the start of the range) and then proceeds to fix the overlapping ranges.</p>

<pre><code>my @tests = [(2, 6), (1, 4), (8, 10)], [(5, 8), (1, 2), (3,7 ), (8, 10)], [(10, 11), (1, 5), (7, 9)];

for @tests &lt;-&gt; @test {
    say @test;
    my @sorted = sort { $_[0] }, @test;
    say @sorted;
    my @result;
    my $first = shift @sorted;
    my ($start, $end) = $first[0, 1];
    for @sorted -&gt; $item {
        # say "[$item] $start $end ", @result;
        if $item[0] &gt; $end {
            push @result, [$start, $end];
            # say "Temp res = ", @result;
            ($start, $end) = $item;
        } else {
            $end = $item[1];
        }
    }
    push @result, [$start, $end] unless $start == @result[*-1][0];
    say "result = ", @result, "\n";
}
</code></pre>

<p>This displays the following output:</p>

<pre><code>$ raku interval_2.raku
[(2 6) (1 4) (8 10)]
[(1 4) (2 6) (8 10)]
result = [[1 6] [8 10]]

[(5 8) (1 2) (3 7) (8 10)]
[(1 2) (3 7) (5 8) (8 10)]
result = [[1 2] [3 10]]

[(10 11) (1 5) (7 9)]
[(1 5) (7 9) (10 11)]
result = [[1 5] [7 9] [10 11]]
</code></pre>

<h3>Insert Intervals in Perl</h3>

<p>This is essentially a port of the above (second) Raku program to Perl:</p>

<pre><code>use strict;
use warnings;
use feature "say";
use Data::Dumper;

my @tests = ([[2, 6], [1, 4], [8, 10]], [[5, 8], [1, 2], [3,7 ], [8, 10]], [[10, 11], [1, 5], [7, 9]]);

for my $test (@tests) {
    say join " ", map { "[ @$_ ]" } @$test;
    my @sorted = sort { $a-&gt;[0] &lt;=&gt; $b-&gt;[0] } @$test;
    say join " ", map { "[ @$_ ]" } @sorted;
    my @result;
    my $first = shift @sorted;
    my ($start, $end) = @$first;
    for my $item (@sorted) {
        # say "[$item] $start $end ", @result;
        if ($item-&gt;[0] &gt; $end) {
            push @result, [$start, $end];
            # say "Temp res = ", @result;
            ($start, $end) = @$item;
        } else {
            $end = $item-&gt;[1];
        }
    }
    push @result, [$start, $end] unless $start == $result[-1][0];
    say "result = ", join (" ", map { "[ @$_ ]" } @result), "\n";
}
</code></pre>

<p>This displays essentially the same output as the Raku program:</p>

<pre><code>$ perl interval.pl
[ 2 6 ] [ 1 4 ] [ 8 10 ]
[ 1 4 ] [ 2 6 ] [ 8 10 ]
result = [ 1 6 ] [ 8 10 ]

[ 5 8 ] [ 1 2 ] [ 3 7 ] [ 8 10 ]
[ 1 2 ] [ 3 7 ] [ 5 8 ] [ 8 10 ]
result = [ 1 2 ] [ 3 10 ]

[ 10 11 ] [ 1 5 ] [ 7 9 ]
[ 1 5 ] [ 7 9 ] [ 10 11 ]
result = [ 1 5 ] [ 7 9 ] [ 10 11 ]
</code></pre>

<h3>Insert Intervals in Scala</h3>

<p>This a port of the above Raku and Perl programs to Scala:</p>

<pre><code>import Array._
object insertIntervals extends App {
  val tests =
    Array(
      Array(Array(2, 6), Array(1, 4), Array(8, 10)),
      Array(Array(5, 8), Array(1, 2), Array(3, 7)),
      Array(Array(10, 11), Array(1, 5), Array(7, 9))
    )

  for (test &lt;- tests) {
    printArray(test)
    val sorted = test.sortWith(_(0) &lt; _(0))
    printArray(sorted)
    var result = Array.empty[Array[Int]]
    val first = sorted(0)
    var start = first(0)
    var end = first(1)
    for (item &lt;- sorted) {
      if (item(0) &gt; end) {
        result = result :+ Array(start, end)
        start = item(0)
      }
      end = item(1)
    }
    result = result :+ Array(start, end)
    print("Result: ")
    printArray(result)
    println(" ")
  }
  def printArray(input: Array[Array[Int]]): Unit = {
    for (item &lt;- input) {
      print(s"( ${item(0)} ${item(1)} ) ") 
    }
    println()
  }
}
</code></pre>

<p>Output:</p>

<pre><code>( 2 6 ) ( 1 4 ) ( 8 10 ) 
( 1 4 ) ( 2 6 ) ( 8 10 ) 
Result: ( 1 6 ) ( 8 10 ) 

( 5 8 ) ( 1 2 ) ( 3 7 ) 
( 1 2 ) ( 3 7 ) ( 5 8 ) 
Result: ( 1 2 ) ( 3 8 ) 

( 10 11 ) ( 1 5 ) ( 7 9 ) 
( 1 5 ) ( 7 9 ) ( 10 11 ) 
Result: ( 1 5 ) ( 7 9 ) ( 10 11 )
</code></pre>

<h2>Wrapping up</h2>

<p>The next week Perl Weekly Challenge will start soon and will end next year, a year that we all hope will be better than this year. If you want to participate in this challenge, please check <a href="https://perlweeklychallenge.org/">https://perlweeklychallenge.org/</a> and make sure you answer the challenge before 23:59 BST (British summer time) on Sunday, January 3, 2021. And, please, also spread the word about the Perl Weekly Challenge if you can.</p>
]]>
        

    </content>
</entry>
  <entry>
    <title>Autovivification in JavaScript</title>
    <link rel="alternate" href="https://dev.to/a2triple/autovivification-in-javascript-3c5p" type="text/html"/>
    <content type="html">&lt;p&gt;Autovivification is a very long and idiosyncratic word, which simply means that each time you dereference an undefined value, automatically an object is created in it's place.&lt;/p&gt;

&lt;p&gt;Hmm... that wasn't very clear, was it? Let see an example to get the idea, trust me it's quite simple 😊&lt;/p&gt;

&lt;p&gt;In JavaScript you can easily do this&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;non_vivified&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{};&lt;/span&gt;
&lt;span class="nx"&gt;non_vivified&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;value&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;p&gt;but can not do this&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;non_vivified&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{};&lt;/span&gt;
&lt;span class="nx"&gt;non_vivified&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;parent_prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;child_prop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;value&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;Uncaught&lt;/span&gt; &lt;span class="nx"&gt;TypeError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;non_vivified&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;parent_prop&lt;/span&gt; &lt;span class="nx"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;undefined&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;p&gt;And this is the case in the vast majority of programming languages. We usually prefer this approach as the latter is considered the less expected behavior.&lt;/p&gt;

&lt;p&gt;Now one place where this is not the case is in &lt;code&gt;Perl&lt;/code&gt;. Perl has autovivification by default and is by far the most popular example of this property (even the picture on this post shows it).&lt;/p&gt;

&lt;p&gt;OK, now let's get back to JavaScript. Where would we like such behavior to be present 🤔 Well the most obvious answer is when you want to dynamically create big nested structures as it would save you the hassle of checking if the property exists on each step and creating it.&lt;/p&gt;

&lt;p&gt;Alright we are almost there now, how do we add autovivification to our js objects. It's actually quite simple, we use the &lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy"&gt;Proxy&lt;/a&gt; object that was added in ES6. &lt;/p&gt;

&lt;p&gt;Let's first see the code and work backwards.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;autovivify&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Proxy&lt;/span&gt;&lt;span class="p"&gt;({},&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="na"&gt;get&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;target&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;toJSON&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;target&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nx"&gt;target&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt;
                    &lt;span class="nx"&gt;target&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="nx"&gt;target&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;autovivify&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;p&gt;What we just did is create a function that returns a new instance of a vivified object. The important part is the second object passed to the Proxy constructor. It's basically an object that describes the handlers of the Proxy. As you guessed &lt;code&gt;get&lt;/code&gt; is the handler that is invoked when we request a property of the object. In our case if it does not exist we simply create a new Proxy object by recursively calling the &lt;code&gt;autovivify&lt;/code&gt; function. If it exists, then simply return the property. The other important thing is the &lt;code&gt;toJSON&lt;/code&gt; check. This is done so that we do not get a stack overflow error when calling &lt;code&gt;JSON.stringify&lt;/code&gt; as this is the method being called when serialization happens.&lt;/p&gt;

&lt;p&gt;Now we can do&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;vivified&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;autovivify&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="nx"&gt;vivified&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;parent_prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;child_prop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;value&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;p&gt;This is all nice and fine, but what if I want to vivify an already existing object. Well that is somewhat harder than expected, as we want proxies to be invisible to the caller. Or as the ES spec describes it&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;"It is impossible to determine whether an object is a proxy or not (transparent virtualization)."&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Your best bet would be to traverse the object, create a vivified object for each object in the source and when you hit a leaf, i.e a non object value just assign it.&lt;/p&gt;

&lt;p&gt;All of this is best explained with some code.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="c1"&gt;// for convenience here, make the autovivify function accept a starting object as well&lt;/span&gt;
&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;autovivify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{})&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
   &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt;

&lt;span class="c1"&gt;// copy from the source&lt;/span&gt;
&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;vivify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;source&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="c1"&gt;// isArray and isObject are simple utils&lt;/span&gt;
    &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;util&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;isArray&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;source&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="nx"&gt;autovivify&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;autovivify&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;key&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nx"&gt;source&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;util&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;isObject&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;source&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="nx"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;vivify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;source&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;key&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="nx"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;source&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;result&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;p&gt;Now you can do stuff like&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;vivified&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;vivify&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt; &lt;span class="na"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="na"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;vivified&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;// { p1: { p2: [] } }&lt;/span&gt;
&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;vivified&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;// []&lt;/span&gt;
&lt;span class="nx"&gt;vivified&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p4&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p5&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p6&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="c1"&gt;// create a new deep property assignment&lt;/span&gt;
&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;vivified&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p4&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p5&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;// 2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;p&gt;An important limitation/feature here is that if you once assign a value to a property, vivification will not kick in as intended. For example:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;v&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;autovivify&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="nx"&gt;v&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nx"&gt;v&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;p4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;Uncaught&lt;/span&gt; &lt;span class="nx"&gt;TypeError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;Cannot&lt;/span&gt; &lt;span class="kd"&gt;set&lt;/span&gt; &lt;span class="nx"&gt;property&lt;/span&gt; &lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;p4&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="kc"&gt;undefined&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight__panel js-actions-panel"&gt;
&lt;div class="highlight__panel-action js-fullscreen-code-action"&gt;
    Enter fullscreen mode
    


    Exit fullscreen mode
    


&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;



&lt;p&gt;Overall vivification is a strange property to most non &lt;code&gt;Perl&lt;/code&gt; developers that with a little proxy magic can be achieved in JavaScript as well. Use it wisely...&lt;/p&gt;

</content>
    <author>
      <name>Aleksandar Aleksandrov</name>
    </author>
    <id>https://dev.to/a2triple/autovivification-in-javascript-3c5p</id>
    <published>2020-12-26T22:14:12Z</published>
    <updated>2020-12-26T22:14:12Z</updated>
    <category term="javascript"/>
    <category term="proxy"/>
    <category term="perl"/>
  </entry>
  <entry xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr="http://purl.org/syndication/thread/1.0">
    <id>tag:blogger.com,1999:blog-5910101498857524639.post-9205246248879616901</id>
    <published>2020-12-26T23:01:00.000+01:00</published>
    <updated>2020-12-26T23:01:39.765+01:00</updated>
    <category scheme="http://www.blogger.com/atom/ns#" term="cpan"/>
    <category scheme="http://www.blogger.com/atom/ns#" term="perl"/>
    <title type="text">(cccxxi) 17 CPAN great modules released last week</title>
    <content type="html">Updates for &lt;i&gt;great CPAN modules&lt;/i&gt; released last week. A module is considered &lt;i&gt;great&lt;/i&gt; if its favorites count is greater or equal than 12.&lt;br/&gt;&lt;br/&gt;&lt;ol&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/OLIVER/App-Netdisco-2.047000' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;App::Netdisco&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - An open source web-based network management tool. &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;2.047000&lt;/strong&gt; on 2020-12-23&lt;/li&gt;  &lt;li&gt;Votes: 13&lt;/li&gt;  &lt;li&gt;Previous version: 2.046006 was 1 month, 23 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/DROLSKY/DateTime-TimeZone-2.46' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;DateTime::TimeZone&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Time zone object base class and factory &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;2.46&lt;/strong&gt; on 2020-12-23&lt;/li&gt;  &lt;li&gt;Votes: 17&lt;/li&gt;  &lt;li&gt;Previous version: 2.44 was 1 month, 17 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/BINGOS/ExtUtils-MakeMaker-7.58' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;ExtUtils::MakeMaker&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Create a module Makefile &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;7.58&lt;/strong&gt; on 2020-12-21&lt;/li&gt;  &lt;li&gt;Votes: 47&lt;/li&gt;  &lt;li&gt;Previous version: 7.56 was 1 month, 2 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/ETJ/Graph-0.9714' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Graph&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - graph data structures and algorithms &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.9714&lt;/strong&gt; on 2020-12-25&lt;/li&gt;  &lt;li&gt;Votes: 22&lt;/li&gt;  &lt;li&gt;Previous version: 0.9713 was 6 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/SHAY/libnet-3.13' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Net::Cmd&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Collection of network protocol modules &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;3.13&lt;/strong&gt; on 2020-12-23&lt;/li&gt;  &lt;li&gt;Votes: 25&lt;/li&gt;  &lt;li&gt;Previous version: 3.12 was 14 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/MICKEY/MetaCPAN-Client-2.029000' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;MetaCPAN::Client&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - A comprehensive, DWIM-featured client to the MetaCPAN API &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;2.029000&lt;/strong&gt; on 2020-12-20&lt;/li&gt;  &lt;li&gt;Votes: 20&lt;/li&gt;  &lt;li&gt;Previous version: 2.028000 was 3 months, 27 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/PREACTION/Minion-Backend-mysql-0.23' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Minion::Backend::mysql&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - MySQL backend &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.23&lt;/strong&gt; on 2020-12-19&lt;/li&gt;  &lt;li&gt;Votes: 12&lt;/li&gt;  &lt;li&gt;Previous version: 0.22 was 1 day before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/BINGOS/Module-CoreList-5.20201220' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Module::CoreList&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - what modules shipped with versions of perl &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;5.20201220&lt;/strong&gt; on 2020-12-20&lt;/li&gt;  &lt;li&gt;Votes: 34&lt;/li&gt;  &lt;li&gt;Previous version: 5.20201120 was 1 month before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/JHTHORSEN/Mojo-mysql-1.22' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Mojo::mysql&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Mojolicious and Async MySQL/MariaDB &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.22&lt;/strong&gt; on 2020-12-22&lt;/li&gt;  &lt;li&gt;Votes: 34&lt;/li&gt;  &lt;li&gt;Previous version: 1.20 was 3 months, 17 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/SALVA/Net-SSH2-0.72' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Net::SSH2&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Support for the SSH 2 protocol via libssh2. &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.72&lt;/strong&gt; on 2020-12-22&lt;/li&gt;  &lt;li&gt;Votes: 23&lt;/li&gt;  &lt;li&gt;Previous version: 0.71 was 8 months, 12 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/ETJ/PDL-Stats-0.76' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;PDL::Stats&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - a collection of statistics modules in Perl Data Language, with a quick-start guide for non-PDL people. &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.76&lt;/strong&gt; on 2020-12-19&lt;/li&gt;  &lt;li&gt;Votes: 14&lt;/li&gt;  &lt;li&gt;Previous version: 0.75 was 4 years, 6 months, 20 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/DBOOK/Perl-Critic-Freenode-0.033' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Perl::Critic::Freenode&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Perl::Critic policies inspired by #perl on freenode IRC &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.033&lt;/strong&gt; on 2020-12-22&lt;/li&gt;  &lt;li&gt;Votes: 18&lt;/li&gt;  &lt;li&gt;Previous version: 0.032 was 1 year, 1 month, 11 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/MARSCHAP/perl-ldap-0.67' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Net::LDAP&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - LDAP client library &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.67&lt;/strong&gt; on 2020-12-26&lt;/li&gt;  &lt;li&gt;Votes: 15&lt;/li&gt;  &lt;li&gt;Previous version: 0.66 was 1 year, 8 months, 10 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/HMBRAND/Spreadsheet-Read-0.83' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Spreadsheet::Read&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Meta-Wrapper for reading spreadsheet data &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.83&lt;/strong&gt; on 2020-12-21&lt;/li&gt;  &lt;li&gt;Votes: 29&lt;/li&gt;  &lt;li&gt;Previous version: 0.82 was 2 months, 25 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/KIMOTO/SPVM-0.0929' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;SPVM&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Static Perl Virtual Machine. Fast Calculation, Fast Array Operation, and Easy C/C++ Binding. &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.0929&lt;/strong&gt; on 2020-12-23&lt;/li&gt;  &lt;li&gt;Votes: 21&lt;/li&gt;  &lt;li&gt;Previous version: 0.0928 was 14 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/HMBRAND/Text-CSV_XS-1.45' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Text::CSV_XS&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Comma-Separated Values manipulation routines &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.45&lt;/strong&gt; on 2020-12-24&lt;/li&gt;  &lt;li&gt;Votes: 92&lt;/li&gt;  &lt;li&gt;Previous version: 1.44 was 5 months, 2 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/PREACTION/Yancy-1.068' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Yancy&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - The Best Web Framework Deserves the Best CMS &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.068&lt;/strong&gt; on 2020-12-19&lt;/li&gt;  &lt;li&gt;Votes: 36&lt;/li&gt;  &lt;li&gt;Previous version: 1.067 was 1 month, 3 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;</content>
    <link rel="replies" type="application/atom+xml" href="https://niceperl.blogspot.com/feeds/9205246248879616901/comments/default" title="Enviar comentarios"/>
    <link rel="replies" type="text/html" href="https://niceperl.blogspot.com/2020/12/cccxxi-17-cpan-great-modules-released.html#comment-form" title="0 comentarios"/>
    <link rel="edit" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/9205246248879616901"/>
    <link rel="self" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/9205246248879616901"/>
    <link rel="alternate" type="text/html" href="https://niceperl.blogspot.com/2020/12/cccxxi-17-cpan-great-modules-released.html" title="(cccxxi) 17 CPAN great modules released last week"/>
    <author>
      <name>Unknown</name>
      <email>noreply@blogger.com</email>
      <gd:image rel="http://schemas.google.com/g/2005#thumbnail" width="16" height="16" src="https://img1.blogblog.com/img/b16-rounded.gif"/>
    </author>
    <thr:total>0</thr:total>
  </entry>
  <entry>
    <title>Misusing newSVpv</title>
    <link rel="alternate" type="text/html" href="http://blogs.perl.org/users/ben_bullock/2020/12/misusing-newsvpv.html"/>
    <id>tag:blogs.perl.org,2020:/users/ben_bullock//392.10002</id>

    <published>2020-12-26T05:26:22Z</published>
    <updated>2020-12-26T11:09:02Z</updated>

    <summary>I managed to cause another set of obscure bugs by misusing newSVpv. The goal of this code is to split the RGB and the alpha (transparent) part of a PNG image, for the use of the PDF::Builder module on CPAN....</summary>
    <author>
        <name>Ben Bullock</name>
        <uri>https://www.lemoda.net/</uri>
    </author>
    
    <category term="documentation" label="documentation" scheme="http://www.sixapart.com/ns/types#tag"/>
    <category term="newsvpv" label="newSVpv" scheme="http://www.sixapart.com/ns/types#tag"/>
    <category term="xs" label="XS" scheme="http://www.sixapart.com/ns/types#tag"/>
    
    <content type="html" xml:lang="en" xml:base="http://blogs.perl.org/users/ben_bullock/">
        <![CDATA[<p>I managed to <a href="http://matrix.cpantesters.org/?dist=Image-PNG-Libpng%200.55">cause another set of obscure bugs</a> by <a href="https://metacpan.org/source/BKB/Image-PNG-Libpng-0.55/perl-libpng.c#L4084">misusing newSVpv</a>. The goal of this code is to split the RGB and the alpha (transparent) part of a PNG image, for the use of the PDF::Builder module on CPAN.</p>

<p>Here the SV in newSVpv is "scalar value", and the "pv" means "string". My code says this:</p>

<pre><code>sv = newSVpv ("", len);
</code></pre>

<p>and it causes the crash on Solaris and other operating systems because the above statement is a bad idea. What happens is that Perl copies "len" bytes from my string, where "len" might be a very large number, for a large PNG image, but I've given it the string "" to copy from. So Perl tries to copy from uninitialised, or possibly even inaccessible, parts of the computer's memory. I found out my error only after almost giving up, by using valgrind to look for memory errors.</p>

<p>The <a href="https://metacpan.org/source/BKB/Image-PNG-Libpng-0.56/perl-libpng.c#L4105">correct version of this</a> is</p>

<pre><code> sv = newSV (sv_len);
 SvPOK_on (sv);
 SvCUR_set (sv, sv_len);
</code></pre>

<p>We make a new SV, then we tell Perl that our new SV is meant to be a string using <code>SvPOK_on</code>, then we tell Perl the length of our string is <code>sv_len</code> with <a href="https://perldoc.perl.org/perlapi#SvCUR_set"><code>SvCUR_set</code></a>.</p>

<p>Here is <a href="https://perldoc.perl.org/perlapi#newSVpv">the manual page from Perl 5.32 (perldoc perlapi) for <code>newSVpv</code></a>:</p>

<blockquote>
    **newSVpv** Creates a new SV and copies a string (which may contain "NUL"
            ("\0") characters) into it. The reference count for the SV is
            set to 1. If "len" is zero, Perl will compute the length using
            "strlen()", (which means if you use this option, that "s" can't
            have embedded "NUL" characters and has to have a terminating
            "NUL" byte).
</blockquote>

<p>It doesn't really say that it is going to copy <code>len</code> bytes of the string, but I suppose that is obvious in retrospect since it does say that the string may contain NUL characters, so the only test it could be making for the end of the string would be the number of bytes.</p>

<blockquote>
            This function can cause reliability issues if you are likely to
            pass in empty strings that are not null terminated, because it
            will run strlen on the string and potentially run past valid
            memory.
</blockquote>

<p>This seems to be warning about what happened to me in Image::PNG::Libpng version 0.55, but what is an "empty string" that is "not null terminated"? An empty string to me is <code>""</code>, which is automatically NUL terminated.
`</p>

<blockquote>
            Using "newSVpvn" is a safer alternative for non "NUL" terminated
            strings. For string literals use "newSVpvs" instead. This
            function will work fine for "NUL" terminated strings, but if you
            want to avoid the if statement on whether to call "strlen" use
            "newSVpvn" instead (calling "strlen" yourself).

                    SV*     newSVpv(const char *const s, const STRLEN len)
</blockquote>

<p>I don't really see why that would be safer. <a href="https://perldoc.perl.org/perlapi#newSVpvn">Here is the documentation for <code>newSVpvn</code></a>:</p>

<blockquote>
    newSVpvn
            Creates a new SV and copies a string into it, which may contain
            "NUL" characters ("\0") and other binary data. The reference
            count for the SV is set to 1. Note that if "len" is zero, Perl
            will create a zero length (Perl) string. You are responsible for
            ensuring that the source buffer is at least "len" bytes long. If
            the "buffer" argument is NULL the new SV will be undefined.

                    SV*     newSVpvn(const char *const buffer,
                                     const STRLEN len)
</blockquote>

<p>It seems to be the same thing except that it doesn't look for the NUL (the zero byte) but insists on having the string length, so the only time it would be "safer" would be if <code>len</code> was accidentally set to zero. So what it meant by "an empty string which is not null (NUL) terminated" was the case where the user put the length as zero, but also passed a pointer which is not NULL, but points to some random place in memory where there is no NUL (zero, '\0') byte to be found, and then newSVpv went on a wild goose chase over random bytes of memory looking for the end of the string. I wonder if that has ever actually happened to anyone, or was it just a possibility that the authors were worried about?</p>

<p>Anyway that doesn't cover dummies like me who send in NUL-terminated strings, but lie about their length to try to get extra memory allocated, but I may have been the first person ever to abuse newSVpv in this way.</p>

<p>Also, wouldn't it be clearer to say that it creates a new SV of length len+1 and copies len bytes of a string into it, if the string (<code>buffer</code>) is not NULL, or no bytes if it is <code>NULL</code>. </p>

<p>It would also be nice if it could have been explained a bit better what to do with the return value of newSV. My initial problem, the reason I ended up abusing newSVpv, was because I couldn't work out how to tell Perl that the thing I'd created with <code>newSV</code> was a string. The answer to this turned out to be <a href="https://perldoc.perl.org/perlapi#SvPOK_on"><code>SvPOK_on</code></a>, which is documented, but I found in fact by rooting through the Perl source code trying to work out what SvPOK was checking for. <a href="https://perldoc.perl.org/perlguts#Working-with-SVs">The documentation of newSV in perlguts</a> says this about it:</p>

<blockquote>
In the unlikely case of a SV requiring more complex initialization, you can create an empty SV with newSV(len). If len is 0 an empty SV of type NULL is returned, else an SV of type PV is returned with len + 1 (for the NUL) bytes of storage allocated, accessible via SvPVX. In both cases the SV has the undef value.
</blockquote>

<p>I don't think my case is particularly unlikely, it seems fairly normal to want to get some memory to write into before actually retrieving the "string" to write, for example in my case I am calling a libpng routine to get the "string" to write into the buffer, so I want to allocate the buffer before retrieving. If I allocate the memory myself then use newSVpv on my allocated memory, there is an unnecessary copy of data, so it seems sensible to just write into the buffer of the SV.</p>

<p>It wasn't very clear to me what an SV of type PV with the undef value was, or how I could turn my SV with the undef value into something which Perl recognised as a string. My own preference would be for the documentation to go into more practical details of how to accomplish tasks.</p>
]]>
        

    </content>
</entry>
  <entry>
  <title>Perl Core Development Fund</title>
  <link rel="alternate" type="text/html" href="https://news.perlfoundation.org/post/perl-core-development-fund"/>
  <id>tag:news.perlfoundation.org,2020-12-22:/post/perl-core-development-fund</id>
  <published>2020-12-22T21:15:27</published>
  <updated>2020-12-22T21:15:27</updated>
  <summary>
  <![CDATA[
     I am pleased to announce the launch of the Perl Core Development Fund. Perl 5 Core Maintenance Fund was launched in 2008 to support the development of the Perl programming language. Since then, we have awarded USD 670,000. With the version change of the language, we will close the Perl 5 Core Maintenance Fund and launch the Perl Core Development Fund. For those who would like to apply for grants, 
   ]]>
  </summary>
  <author>
    <name>Makoto Nozaki</name>
  </author>
  <category term="Grants" scheme="http://www.sixapart.com/ns/types#category"/>  <content type="html" xml:lang="en-us" xml:base="http://news.perlfoundation.org/">
   <![CDATA[
     
     <p>I am pleased to announce the launch of the <a href="https://www.perlfoundation.org/perl-core-development-fund.html">Perl Core Development Fund</a>.</p>

<p><a href="https://www.perlfoundation.org/perl-5-core-maintenance-fund.html">Perl 5 Core Maintenance Fund</a> was launched in 2008 to support the development of the Perl programming language. Since then, we have awarded USD 670,000.</p>

<p>With the version change of the language, we will close the Perl 5 Core Maintenance Fund and launch the Perl Core Development Fund.</p>

<p>For those who would like to apply for grants, please take a look at the fund description.</p>

<p>Notable changes from the previous fund are:
- The fund is managed by the Grants Committee instead of the TPF Board.
- The Perl Steering Council is involved in the approval process.</p>

<p>I would like to thank those who provided valuable inputs in launching the fund, namely: the TPF Board members, Dave Mitchell, Tony Cook, Jason Crome and Matthias Bloch.</p>

<p>As always, thanks to our donors, both large and small, who support these funds.</p>

    ]]>
  </content>
</entry>
  <entry>
    <title>Meet The Champion: November 2020</title>
    <link rel="alternate" href="https://dev.to/simongreennet/meet-the-champion-november-2020-55l5" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><h1>
  <a href="#get-to-know-about-simon-green" class="anchor">
  </a>
  Get to know about Simon Green
</h1>

<p>Welcome to the monthly series <code>Meet The Champion</code>.</p>

<p>Last month we spoke to <strong>Andrew Shitov</strong>, the winner of <strong><a href="https://perlweeklychallenge.org/blog/meet-the-champion-2020-10">October 2020</a></strong>.</p>

<p>Today we are talking to <strong>Simon Green</strong>, the winner of <strong>November 2020</strong> of <code>The Weekly Challenge</code>. I hope you are going to enjoy the interview.</p>




<p><strong>Mohammad:</strong> Tell us about your technical background?</p>

<p><strong>Simon:</strong> I've always had an interest in software development, even as a kid on an <a href="https://en.wikipedia.org/wiki/Amstrad_CPC">Amstrad CPC 664</a>. The specs were 360kB floppy disk, 64kB RAM, 4 MHz CPU. How did we ever survive? :P</p>

<p>After high school I worked on the helpdesk at an ISP. This was in 1995 when you had to explain to your parents what the Internet was.</p>




<p><strong>Mohammad:</strong> How/When did you start using <strong>Perl</strong>?</p>

<p><strong>Simon:</strong> Within a year of starting at the ISP, I moved to the programming team which was my first introduction to Perl. Since then Perl has been the main programming language in my jobs, although I am using Python a lot more now too.</p>

<p>I've also had an interest in System Administration, and obtained an RHCSA while working at Red Hat. More recently I'm a huge fan of Dev Ops, including Automation, Docker and CI/CD, etc.</p>




<p><strong>Mohammad:</strong> How did you come to know about <code>The Weekly Challenge</code>?</p>

<p><strong>Simon:</strong> I didn't actually start doing the challenge until week 68. I have subscribed to Gabor's (and others) <a href="https://perlweekly.com/">Perl Weekly Newsletter</a> since issue 13. The newsletter always had recaps of the previous challenges, and I decided it was time to join in on the fun.</p>




<p><strong>Mohammad:</strong> What do you like the most about <code>The Weekly Challenge</code>?</p>

<p><strong>Simon:</strong> Two things.</p>

<ol>
<li>Solving the tasks. Some are pretty straight forward and others require a bit of thought before I put fingers on the keyboard. This <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-092/">week</a> is a classic example. The first task took about 10 minutes to write and test. The second task took a tad over an hour and a bit of trial and error.</li>
<li>Reading other people's solutions, especially those that have a blog post.</li>
</ol>




<p><strong>Mohammad:</strong> How much time you dedicate every week to <code>The Weekly Challenge</code>?</p>

<p><strong>Simon:</strong> For completing the tasks and blog, about one to 2 hours each week, usually on a Monday evening. I also usually spend about half an hour on Sunday looking at other solutions and blog posts.</p>




<p><strong>Mohammad:</strong> Do you checkout others solutions and who is your favourite?</p>

<p><strong>Simon:</strong> I do, but never before I submit my own solution. It doesn't seem fair to single out a few people, but I really love Abigail's solution and his blog posts (which are always excellent reading), and Roger Bell West usually has solutions very similar (or better) to my own.</p>

<p>I also occasionally read the Ruku solutions to see how crazy insane some of the syntax is, and Python solutions to sharpen my Python knowledge.</p>




<p><strong>Mohammad:</strong> What do you suggest someone just started <code>The Weekly Challenge</code>?</p>

<p><strong>Simon:</strong> Just do it. There are no right or wrong answers. You don't need to do both tasks, and some beginners might prefer to do just the first task (which is usually easier). I've also read there is a Perl mentor group on Facebook. I'm not on Facebook, so I don't know the details.</p>




<p><strong>Mohammad:</strong> Anything else you would to like to share with us?</p>

<p><strong>Simon:</strong> A huge thank you to yourself for the time you spend each week setting the challenge and handling commits and merge requests. A big thank you to <a href="//mailto:pwc.perfectwave@gmail.com">Colin Crane</a> for doing the weekly Perl Review. Also a thanks to the <a href="https://perl.careers/">Perl Careers</a> team for the reward.</p>

<p>And finally a thank you and appreciation to every single Team PWC member who submits solutions each week.</p>




<p>That brings the end of the conversation with <strong>Simon Green</strong>. Please do let us know your view. We will come back next month with another champion.</p>

</div>
    </content>
    <author>
      <name>Simon Green</name>
    </author>
    <id>https://dev.to/simongreennet/meet-the-champion-november-2020-55l5</id>
    <published>2020-12-21T13:17:48Z</published>
    <updated>2020-12-21T13:17:48Z</updated>
    <category term="perl"/>
    <category term="theweeklychallenge"/>
  </entry>
  <entry>
    <title>Weekly Challenge 092</title>
    <link rel="alternate" href="https://dev.to/simongreennet/weekly-challenge-092-1kim" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-092/">Challenge 092</a></p>

<h1>
  <a href="#task-1-isomorphic-strings" class="anchor">
  </a>
  TASK #1 › Isomorphic Strings
</h1>

<h2>
  <a href="#task" class="anchor">
  </a>
  Task
</h2>

<p>You are given two strings <code>$A</code> and <code>$B</code>.</p>

<p>Write a script to check if the given strings are <a href="https://www.educative.io/edpresso/how-to-check-if-two-strings-are-isomorphic">Isomorphic</a>. Print <code>1</code> if they are otherwise <code>0</code>.</p>

<h2>
  <a href="#my-solution" class="anchor">
  </a>
  My solution
</h2>

<p>This seems pretty straight forward, so not much explanation required. :)</p>

<p>Strings that are different length can't be isomorphic, so I return 0 if that happens. I then compare the first string to the second string, and then compare in the other direction. This is to prevent something like <code>abcb</code> matching <code>xyxy</code>.</p>

<p>For the function, I walk through the string using a for loop and substr. If we have seen the first character before, I return 0 if the map is something different. If we haven't seen the string, then we store it for later use.</p>

<h2>
  <a href="#examples" class="anchor">
  </a>
  Examples
</h2>



<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>» ./ch-1.pl abc xyz
1

» ./ch-1.pl abb xyy
1

» ./ch-1.pl sum add
0
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h1>
  <a href="#task-2-insert-interval" class="anchor">
  </a>
  TASK #2 › Insert Interval
</h1>

<h2>
  <a href="#task" class="anchor">
  </a>
  Task
</h2>

<p>You are given a set of sorted non-overlapping intervals and a new interval.</p>

<p>Write a script to merge the new interval to the given set of intervals.</p>

<h2>
  <a href="#my-solution" class="anchor">
  </a>
  My solution
</h2>

<p>This is one of those tasks where I'm interested in how other Team PWC members solved it as much as my own attempt. Like task one last week I've written a solution that works, but I'm not sure it's the best solution.</p>

<p>This is the way I solved this task. The term 'new interval' refers to the last two numbers.</p>

<ul>
<li>Grab all the numbers in the input. Remove the last two (the new interval) and put the rest of the numbers in a hash.</li>
<li>Loop through a sorted list of the hash (the start number for each interval).</li>
<li>If the new interval is after the end ($new_start &gt; $end), then move to the next interval.</li>
<li>If the new interval is before the start ($new_end &lt; $start), then add the new interval to the hash and return. </li>
<li>If we got here, it means the interval intersects the new interval. If the start of the new interval is less the start of the interval, we move the start. We take the same action with the end, and remove any intervals we subsumed in the process.</li>
<li>If we have gone through the list of intervals, then it means the new interval is after the last interval. We add the interval to the hash, and return</li>
<li>Finally I print out the result.</li>
</ul>

<h2>
  <a href="#examples" class="anchor">
  </a>
  Examples
</h2>



<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>» ./ch-2.pl "(1,4), (8,10) (2,6)"
(1,6), (8,10)

» ./ch-2.pl "(1,2), (3,7), (8,10) (5,8)"
(1,2), (3,10)

» ./ch-2.pl "(1,5), (7,9) (10,11)"
(1,5), (7,9), (10,11)
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



</div>
    </content>
    <author>
      <name>Simon Green</name>
    </author>
    <id>https://dev.to/simongreennet/weekly-challenge-092-1kim</id>
    <published>2020-12-21T12:08:09Z</published>
    <updated>2020-12-21T12:08:09Z</updated>
    <category term="perl"/>
    <category term="weeklychallenge"/>
    <category term="perlweeklychallenge"/>
  </entry>
  <entry>
  <title>Running CGI sccript as a Plack application with Plack::App::CGIBin</title>
  <summary type="html"><![CDATA[<p>
Good old <a href="https://metacpan.org/pod/CGI">CGI</a> scripts needed Apache server. this examples shows how to run them via
Plackup using <a href="https://metacpan.org/pod/Plack::App::CGIBin">Plack::App::CGIBin</a>
<p>
]]></summary>
  <updated>2020-12-20T16:30:01Z</updated>
  <link rel="alternate" type="text/html" href="https://perlmaven.com/plack-app-cgibin"/>  <id>https://perlmaven.com/plack-app-cgibin</id>
  <content type="html"><![CDATA[<p>
Good old <a href="https://metacpan.org/pod/CGI">CGI</a> scripts needed Apache server. this examples shows how to run them via
Plackup using <a href="https://metacpan.org/pod/Plack::App::CGIBin">Plack::App::CGIBin</a>
<p>
]]></content>
    <author>
      <name>Gabor Szabo</name>
    </author>
</entry>
  <entry xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr="http://purl.org/syndication/thread/1.0">
    <id>tag:blogger.com,1999:blog-5910101498857524639.post-4775838808175539476</id>
    <published>2020-12-19T14:02:00.001+01:00</published>
    <updated>2020-12-19T14:02:48.478+01:00</updated>
    <category scheme="http://www.blogger.com/atom/ns#" term="cpan"/>
    <category scheme="http://www.blogger.com/atom/ns#" term="perl"/>
    <title type="text">(cccxx) 13 CPAN great modules released last week</title>
    <content type="html">Updates for &lt;i&gt;great CPAN modules&lt;/i&gt; released last week. A module is considered &lt;i&gt;great&lt;/i&gt; if its favorites count is greater or equal than 12.&lt;br/&gt;&lt;br/&gt;&lt;ol&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/RJBS/Algorithm-Diff-1.201' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Algorithm::Diff&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Compute `intelligent' differences between two files / lists &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.201&lt;/strong&gt; on 2020-12-13&lt;/li&gt;  &lt;li&gt;Votes: 20&lt;/li&gt;  &lt;li&gt;Previous version: 1.200 was 2 months, 16 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/ROBM/Cache-FastMmap-1.56' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Cache::FastMmap&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Uses an mmap'ed file to act as a shared memory interprocess cache &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.56&lt;/strong&gt; on 2020-12-14&lt;/li&gt;  &lt;li&gt;Votes: 21&lt;/li&gt;  &lt;li&gt;Previous version: 1.54 was 2 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/BINGOS/CPANPLUS-0.9910' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;CPANPLUS&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Ameliorated interface to the CPAN &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.9910&lt;/strong&gt; on 2020-12-19&lt;/li&gt;  &lt;li&gt;Votes: 12&lt;/li&gt;  &lt;li&gt;Previous version: 0.9908 was 8 months, 7 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/DROLSKY/DateTime-Format-Strptime-1.78' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;DateTime::Format::Strptime&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Parse and format strp and strf time patterns &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.78&lt;/strong&gt; on 2020-12-15&lt;/li&gt;  &lt;li&gt;Votes: 23&lt;/li&gt;  &lt;li&gt;Previous version: 1.77 was 9 months, 15 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/HMBRAND/DBD-CSV-0.57' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;DBD::CSV&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - DBI driver for CSV files &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.57&lt;/strong&gt; on 2020-12-17&lt;/li&gt;  &lt;li&gt;Votes: 23&lt;/li&gt;  &lt;li&gt;Previous version: 0.56 was 12 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/OALDERS/libwww-perl-6.50' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;LWP&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - The World-Wide Web library for Perl &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;6.50&lt;/strong&gt; on 2020-12-16&lt;/li&gt;  &lt;li&gt;Votes: 149&lt;/li&gt;  &lt;li&gt;Previous version: 6.49 was 2 months, 22 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/OALDERS/LWP-Protocol-https-6.10' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;LWP::Protocol::https&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Provide https support for LWP::UserAgent &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;6.10&lt;/strong&gt; on 2020-12-17&lt;/li&gt;  &lt;li&gt;Votes: 16&lt;/li&gt;  &lt;li&gt;Previous version: 6.09 was 5 months, 1 day before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/PREACTION/Minion-Backend-mysql-0.22' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Minion::Backend::mysql&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - MySQL backend &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.22&lt;/strong&gt; on 2020-12-18&lt;/li&gt;  &lt;li&gt;Votes: 12&lt;/li&gt;  &lt;li&gt;Previous version: 0.21 was 4 months, 17 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/ETHER/Moose-2.2014' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Moose&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - A postmodern object system for Perl 5 &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;2.2014&lt;/strong&gt; on 2020-12-19&lt;/li&gt;  &lt;li&gt;Votes: 316&lt;/li&gt;  &lt;li&gt;Previous version: 2.2013 was 4 months, 29 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/SYP/Net-Curl-0.48' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Net::Curl&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Perl interface for libcurl &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.48&lt;/strong&gt; on 2020-12-14&lt;/li&gt;  &lt;li&gt;Votes: 16&lt;/li&gt;  &lt;li&gt;Previous version: 0.47 was 1 month, 11 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/VANSTYN/RapidApp-1.3400' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;RapidApp&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Turnkey ajaxy webapps &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.3400&lt;/strong&gt; on 2020-12-17&lt;/li&gt;  &lt;li&gt;Votes: 27&lt;/li&gt;  &lt;li&gt;Previous version: 1.3302 was 1 month, 27 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/EHUELS/Test-BDD-Cucumber-0.74' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Test::BDD::Cucumber&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Feature-complete Cucumber-style testing in Perl &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.74&lt;/strong&gt; on 2020-12-12&lt;/li&gt;  &lt;li&gt;Votes: 14&lt;/li&gt;  &lt;li&gt;Previous version: 0.73 was 3 months, 15 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/EXODIST/Test2-Suite-0.000139' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Test2::Suite&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Distribution with a rich set of tools built upon the Test2 framework. &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.000139&lt;/strong&gt; on 2020-12-16&lt;/li&gt;  &lt;li&gt;Votes: 29&lt;/li&gt;  &lt;li&gt;Previous version: 0.000138 was 1 month, 25 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;</content>
    <link rel="replies" type="application/atom+xml" href="https://niceperl.blogspot.com/feeds/4775838808175539476/comments/default" title="Enviar comentarios"/>
    <link rel="replies" type="text/html" href="https://niceperl.blogspot.com/2020/12/cccxx-13-cpan-great-modules-released.html#comment-form" title="0 comentarios"/>
    <link rel="edit" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/4775838808175539476"/>
    <link rel="self" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/4775838808175539476"/>
    <link rel="alternate" type="text/html" href="https://niceperl.blogspot.com/2020/12/cccxx-13-cpan-great-modules-released.html" title="(cccxx) 13 CPAN great modules released last week"/>
    <author>
      <name>Unknown</name>
      <email>noreply@blogger.com</email>
      <gd:image rel="http://schemas.google.com/g/2005#thumbnail" width="16" height="16" src="https://img1.blogblog.com/img/b16-rounded.gif"/>
    </author>
    <thr:total>0</thr:total>
  </entry>
  <entry xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr="http://purl.org/syndication/thread/1.0">
    <id>tag:blogger.com,1999:blog-5910101498857524639.post-5977151966501826008</id>
    <published>2020-12-19T14:00:00.001+01:00</published>
    <updated>2020-12-19T14:00:27.532+01:00</updated>
    <category scheme="http://www.blogger.com/atom/ns#" term="cpan"/>
    <category scheme="http://www.blogger.com/atom/ns#" term="perl"/>
    <title type="text">(cdxlvii) metacpan weekly report - Mojolicious::Plugin::SecureCORS</title>
    <content type="html">&lt;p&gt;This is the weekly favourites list of CPAN distributions. Votes count: 30&lt;/p&gt;&lt;p&gt;Week's winner: &lt;b&gt;&lt;a href="https://metacpan.org/module/Mojolicious::Plugin::SecureCORS" target="_blank"&gt;Mojolicious::Plugin::SecureCORS (+2)&lt;/a&gt;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Build date: 2020/12/19 12:59:55 GMT&lt;/p&gt;&lt;br/&gt;&lt;p&gt;Clicked for &lt;u&gt;first time&lt;/u&gt;:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Log::Any::Adapter::Journal" target="_blank"&gt;Log::Any::Adapter::Journal&lt;/a&gt; - Adapter for Log::Any that outputs with a priority prefix that systemd's journal can parse&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Method::Assert" target="_blank"&gt;Method::Assert&lt;/a&gt; - Ensure instance and class methods are called properly&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Protocol::Matrix" target="_blank"&gt;Protocol::Matrix&lt;/a&gt; - Helper functions for the Matrix protocol&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Type::Libraries" target="_blank"&gt;Type::Libraries&lt;/a&gt; - bundle up multiple type constraint libraries&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Types::UUID" target="_blank"&gt;Types::UUID&lt;/a&gt; - type constraints for UUIDs&lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;&lt;p&gt;&lt;u&gt;Increasing&lt;/u&gt; its reputation:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/AnyEvent" target="_blank"&gt;AnyEvent&lt;/a&gt; (+1=150)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/App::cpm" target="_blank"&gt;App::cpm&lt;/a&gt; (+1=51)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Class::Multimethods" target="_blank"&gt;Class::Multimethods&lt;/a&gt; (+1=4)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Hashids" target="_blank"&gt;Hashids&lt;/a&gt; (+1=7)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/LaTeX::Driver" target="_blank"&gt;LaTeX::Driver&lt;/a&gt; (+1=2)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/lib::relative" target="_blank"&gt;lib::relative&lt;/a&gt; (+1=11)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Lingua::EN::Inflect" target="_blank"&gt;Lingua::EN::Inflect&lt;/a&gt; (+1=15)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Minion" target="_blank"&gt;Minion&lt;/a&gt; (+1=80)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Mojolicious" target="_blank"&gt;Mojolicious&lt;/a&gt; (+1=435)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Mojolicious::Plugin::SecureCORS" target="_blank"&gt;Mojolicious::Plugin::SecureCORS&lt;/a&gt; (+2=5)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Moo" target="_blank"&gt;Moo&lt;/a&gt; (+1=279)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Moose" target="_blank"&gt;Moose&lt;/a&gt; (+1=316)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/PAR::Packer" target="_blank"&gt;PAR::Packer&lt;/a&gt; (+1=38)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Paws" target="_blank"&gt;Paws&lt;/a&gt; (+1=46)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Proc::ProcessTable" target="_blank"&gt;Proc::ProcessTable&lt;/a&gt; (+1=19)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/RapidApp" target="_blank"&gt;RapidApp&lt;/a&gt; (+1=27)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/SQL::Translator" target="_blank"&gt;SQL::Translator&lt;/a&gt; (+1=39)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Sub::Identify" target="_blank"&gt;Sub::Identify&lt;/a&gt; (+1=8)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Test2::Plugin::SourceDiag" target="_blank"&gt;Test2::Plugin::SourceDiag&lt;/a&gt; (+1=5)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Test::BDD::Cucumber" target="_blank"&gt;Test::BDD::Cucumber&lt;/a&gt; (+1=14)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Test::Requires" target="_blank"&gt;Test::Requires&lt;/a&gt; (+1=16)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Test::Script" target="_blank"&gt;Test::Script&lt;/a&gt; (+1=5)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/Types::DateTime" target="_blank"&gt;Types::DateTime&lt;/a&gt; (+1=4)&lt;/li&gt;&lt;li&gt;&lt;a href="https://metacpan.org/module/version" target="_blank"&gt;version&lt;/a&gt; (+1=18)&lt;/li&gt;&lt;/ul&gt;</content>
    <link rel="replies" type="application/atom+xml" href="https://niceperl.blogspot.com/feeds/5977151966501826008/comments/default" title="Enviar comentarios"/>
    <link rel="replies" type="text/html" href="https://niceperl.blogspot.com/2020/12/cdxlvii-metacpan-weekly-report.html#comment-form" title="0 comentarios"/>
    <link rel="edit" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/5977151966501826008"/>
    <link rel="self" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/5977151966501826008"/>
    <link rel="alternate" type="text/html" href="https://niceperl.blogspot.com/2020/12/cdxlvii-metacpan-weekly-report.html" title="(cdxlvii) metacpan weekly report - Mojolicious::Plugin::SecureCORS"/>
    <author>
      <name>Unknown</name>
      <email>noreply@blogger.com</email>
      <gd:image rel="http://schemas.google.com/g/2005#thumbnail" width="16" height="16" src="https://img1.blogblog.com/img/b16-rounded.gif"/>
    </author>
    <thr:total>0</thr:total>
  </entry>
  <entry xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr="http://purl.org/syndication/thread/1.0">
    <id>tag:blogger.com,1999:blog-5910101498857524639.post-9017863737055572373</id>
    <published>2020-12-19T13:58:00.003+01:00</published>
    <updated>2020-12-19T13:58:50.402+01:00</updated>
    <category scheme="http://www.blogger.com/atom/ns#" term="cpan"/>
    <category scheme="http://www.blogger.com/atom/ns#" term="perl"/>
    <title type="text">(cdlxxi) stackoverflow perl report</title>
    <content type="html">&lt;p&gt;These are the ten most rated questions at &lt;a href="http://www.stackoverflow.com"&gt;Stack Overflow&lt;/a&gt; last week.&lt;br /&gt;Between brackets: [&lt;b&gt;question score&lt;/b&gt; / answers count]&lt;br /&gt;Build date: 2020-12-19 12:57:42 GMT&lt;/p&gt;&lt;hr /&gt;&lt;ol&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65288524" target="_blank"&gt;Why do `join` and/or `JSON::to_json` convert my data silently from integer to string?&lt;/a&gt; - [&lt;b&gt;6&lt;/b&gt;/2]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65347077" target="_blank"&gt;Add "m" modifier to qr pattern passed as parameter&lt;/a&gt; - [&lt;b&gt;5&lt;/b&gt;/4]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65297237" target="_blank"&gt;Error installing perl using perlbrew on Big Sur&lt;/a&gt; - [&lt;b&gt;4&lt;/b&gt;/2]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65290001" target="_blank"&gt;Most efficient way to read first and last number of bytes of a file in Perl&lt;/a&gt; - [&lt;b&gt;3&lt;/b&gt;/3]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65328949" target="_blank"&gt;How to install Perl DBD::Oracle with Oracle Instant Client on macOS Catalina&lt;/a&gt; - [&lt;b&gt;3&lt;/b&gt;/1]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65299219" target="_blank"&gt;trying to get last 4 distinct values from a dynamic NF file&lt;/a&gt; - [&lt;b&gt;2&lt;/b&gt;/6]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65312403" target="_blank"&gt;How to pass arguments to a Perl test when run using Module::Build&lt;/a&gt; - [&lt;b&gt;2&lt;/b&gt;/1]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65318606" target="_blank"&gt;Perl Hash Value&lt;/a&gt; - [&lt;b&gt;2&lt;/b&gt;/1]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65362395" target="_blank"&gt;Can variable declarations be placed in a common script&lt;/a&gt; - [&lt;b&gt;2&lt;/b&gt;/1]&lt;/li&gt;&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/65298102" target="_blank"&gt;Is it possible to rename PascalCase1.wav to kebab-case-1.wav with a single perl regex?&lt;/a&gt; - [&lt;b&gt;1&lt;/b&gt;/4]&lt;/li&gt;&lt;/ol&gt;</content>
    <link rel="replies" type="application/atom+xml" href="https://niceperl.blogspot.com/feeds/9017863737055572373/comments/default" title="Enviar comentarios"/>
    <link rel="replies" type="text/html" href="https://niceperl.blogspot.com/2020/12/cdlxxi-stackoverflow-perl-report.html#comment-form" title="0 comentarios"/>
    <link rel="edit" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/9017863737055572373"/>
    <link rel="self" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/9017863737055572373"/>
    <link rel="alternate" type="text/html" href="https://niceperl.blogspot.com/2020/12/cdlxxi-stackoverflow-perl-report.html" title="(cdlxxi) stackoverflow perl report"/>
    <author>
      <name>Unknown</name>
      <email>noreply@blogger.com</email>
      <gd:image rel="http://schemas.google.com/g/2005#thumbnail" width="16" height="16" src="https://img1.blogblog.com/img/b16-rounded.gif"/>
    </author>
    <thr:total>0</thr:total>
  </entry>
  <entry xmlns:gd="http://schemas.google.com/g/2005">
    <id>tag:blogger.com,1999:blog-3283954356437794617.post-6706364024855383118</id>
    <published>2020-12-04T17:40:00.006-08:00</published>
    <updated>2020-12-16T22:53:54.702-08:00</updated>
    <title type="text">rt.cpan.org will sunset on March 1st, 2021</title>
    <content type="html">&lt;p&gt;rt.cpan.org will be sunset on March 1st, 2021 due to low and declining use.&lt;/p&gt;&lt;p&gt;&lt;span face="Arial, Helvetica, sans-serif" style="background-color: white; color: #222222; font-size: small;"&gt;Back when we started this service, it filled a need by providing a place for CPAN authors to track bug reports and feature requests. In recent years&amp;nbsp;&lt;/span&gt;&lt;a data-saferedirecturl="https://www.google.com/url?q=http://github.com&amp;amp;source=gmail&amp;amp;ust=1608051614409000&amp;amp;usg=AFQjCNHHBoyICGB-3KjXQ_B1HAHSPyhCIg" href="http://github.com/" rel="noreferrer" style="background-color: white; color: #1155cc; font-family: Arial, Helvetica, sans-serif;" target="_blank"&gt;github.com&lt;/a&gt;&lt;span face="Arial, Helvetica, sans-serif" style="background-color: white; color: #222222; font-size: small;"&gt;&amp;nbsp;and other sites have added issue tracking to their git repo hosting and many CPAN authors have migrated to these sites.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span face="Arial, Helvetica, sans-serif" style="color: #222222;"&gt;If you are a CPAN author, there are several tools to help you migrate existing tickets:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul style="text-align: left;"&gt;&lt;li&gt;&lt;span face="Arial, Helvetica, sans-serif" style="color: #222222;"&gt;https://github.com/dagolden/zzz-rt-to-github&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span face="Arial, Helvetica, sans-serif" style="color: #222222;"&gt;https://github.com/houseabsolute/RTx-ToGitHub&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span face="Arial, Helvetica, sans-serif" style="color: #222222;"&gt;&lt;span style="background-color: white;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;See Dave Cross'&amp;nbsp;&lt;a href="https://perlhacks.com/2020/12/rt-action-plan-for-cpan-authors/"&gt;Plan for CPAN Authors&lt;/a&gt;, which describes steps you may wish to take to transition to a new bug tracking system.&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;p&gt;We're still finalizing the details, but the plan is to provide a static historical archive.&amp;nbsp;&lt;/p&gt;&lt;p&gt;This post will be updated as we figure things out.&lt;/p&gt;&lt;p&gt;Updated: 2020-12-13&lt;/p&gt;</content>
    <link rel="edit" type="application/atom+xml" href="https://www.blogger.com/feeds/3283954356437794617/posts/default/6706364024855383118"/>
    <link rel="self" type="application/atom+xml" href="https://www.blogger.com/feeds/3283954356437794617/posts/default/6706364024855383118"/>
    <link rel="alternate" type="text/html" href="https://log.perl.org/2020/12/rtcpanorg-sunset.html" title="rt.cpan.org will sunset on March 1st, 2021"/>
    <author>
      <name>Unknown</name>
      <email>noreply@blogger.com</email>
      <gd:image rel="http://schemas.google.com/g/2005#thumbnail" width="16" height="16" src="https://img1.blogblog.com/img/b16-rounded.gif"/>
    </author>
  </entry>
  <entry>
    <title>Replacing CPAN RT</title>
    <link rel="alternate" href="https://perlhacks.com/2020/12/replacing-cpan-rt/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>Two weeks ago, we learned that the <a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">CPAN Request Tracker was closing down early next year</a>. I proposed <a href="https://perlhacks.com/2020/12/rt-action-plan-for-cpan-authors/">a plan that CPAN authors could follow</a> to ensure that their users can still find somewhere to report bugs in modules (and, perhaps more importantly, to see what bugs have already been reported in modules).</p>
<p>But that’s only part of the problem. In fact, it’s probably a minor part of the problem. If you’re an active CPAN author, then you probably already knew about the impending closure and had already made plans to deal with it. It’s likely that you had already moved your bug tracking to a new system. At the very least, you now know what the problem is and are considering the best way to deal with it before next March.</p>
<p>The far larger problem is the thousands of distributions that aren’t owned by active CPAN authors. What are we going to do about those?</p>
<p>How big is the problem? Well, the site <a href="https://cpan.rocks/">cpan.rocks</a> displays stats about CPAN. One of the panels on its front page shows a summary of the bugtracker information in CPAN distribution. You’ll see that 24,873 distributions (that’s 66% of them) have no bugtracker information included in their metadata. That’ll be for a number of reasons. Some of them will be distributions that haven’t been updated since alternative bugtrackers were supported by CPAN (originally, it was just assumed that everyone used the CPAN RT); some of them will be because the authors don’t know how to add the required metadata; and some of them (including most of my distributions) are missing it because the author just hasn’t got round to adding it yet. There will, of course, be many more reasons.</p>
<p>Some people will have read the recent news and will be galvanised into doing something about it (I fall firmly into that category) but others (and I’d suggest that it’s a large majority) either won’t hear about the change or won’t care about it. And why should they care? They were generous enough to donate some of their code to CPAN at some point. They don’t have any obligation at all to carry on maintaining it after they’ve lost interest in whatever project led to them writing that software.</p>
<p>Take, for example, <a href="https://metacpan.org/release/Mail-Alias">Mail-Alias</a>. That was released by someone called Tom Zeltwanger twenty years ago. He released three versions over a period of two months and then stopped. Who knows why. When he last updated the module, the CPAN search engine didn’t support alternative bugtrackers, so he never considered adding one. And that meant that the CPAN page for his module linked to the default bugtracker set up for the distribution on the CPAN RT. In the last fifteen years, <a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Mail-Alias">four bugs have been reported</a> against that module. But as Tom has moved on, nothing has been done about any of them. There are a lot of modules on CPAN in a similar situation.</p>
<p>But that leaves <a href="https://metacpan.org/">MetaCPAN</a> (the current CPAN search engine) with a problem. Where does it send people who want to report a bug against an inactive module?</p>
<p>You might think that it doesn’t matter. But I disagree. Maybe I think that Mail::Alias would be the perfect module for a project I’m working on. Even before I start using it, it’s useful to be able to browse any existing bugs to see how they might affect my use of the module. And if someone later comes along and wants to take over maintenance of the module, then it’s useful for them to see any bugs that have been raised during the hiatus when the module was unmaintained.</p>
<p>So, I’m a big fan of having a default bugtracker for CPAN modules – even for ones with inactive authors. Which leads us to the question of where should that be. And I have a suggestion.</p>
<p>A few years ago, Micheal Schwern and Olaf Alders set up <a href="https://github.com/gitpan">Gitpan</a>. It’s an organisation which has a Github repo for every distribution on CPAN. And those repos each have a commit for every release of those distributions. Here, for example, is <a href="https://github.com/gitpan/Mail-Alias">the repo for Mail-Alias</a> – and you can see the three commits for the three releases I mentioned above.</p>
<p>So I’d like to suggest Gitpan as a suitable place to use as a default bugtracker for CPAN distributions. There are a couple of problems:</p>
<ul>
<li>It looks like the auto-population of the commits stopped a few years ago. We’d need to work out how that works and catch up on the recent uploads.</li>
<li>None of the repos has the issue tracker turned on. But I expect that can be done with a relatively simple program that uses the GitHub API.</li>
</ul>
<p>Of course, we also have the problem that some people object to using GitHub since it was taken over by Microsoft. But that’s fine, they can just point their bugtracker metadata to their preferred system.</p>
<p>The problem with the CPAN RT was that it needed too much maintenance – and the Perl NOC team is really overworked. Any self-hosted alternative seems likely to have the same problem eventually. So I’m all in favour of using a third-party alternative. And if you’re taking that route, then it makes sense (to me, at least) to use a third-party system that already has all (ok, most) of the repos set up.</p>
<p>I haven’t spoken to Schwern or Olaf about this, so I don’t know if there was some major problem that would stop this plan from working. But I think it’s worth looking at.</p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2020/12/replacing-cpan-rt/">Replacing CPAN RT</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>Two weeks ago, we learned that the CPAN Request Tracker was closing down early next year. I proposed a plan that CPAN authors could follow to ensure that their users can still find somewhere to report bugs in modules (and, perhaps more importantly, to see what bugs have already been reported in modules). But that’s […]</p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2020/12/replacing-cpan-rt/">Replacing CPAN RT</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://perlhacks.com/?p=2026</id>
    <published>2020-12-16T17:24:20Z</published>
    <updated>2020-12-16T17:24:20Z</updated>
    <category term="CPAN"/>
    <category term="bugtracker"/>
    <category term="cpan"/>
    <category term="cpan rt"/>
    <category term="github"/>
    <category term="gitpan"/>
  </entry>
  <entry>
    <title>I made a podcast about regular expressions</title>
    <link rel="alternate" href="https://dev.to/eugenekudashev/i-made-a-podcast-about-regular-expressions-3h67" type="text/html"/>
    <content type="html">&lt;p&gt;&lt;strong&gt;Hello everyone! I’m Eugene, and /^[a-z0-9_-] {3,16}$/ is a podcast in which I share some tips and tricks about working with regular expressions and using them in your day-to-day work.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;iframe width="100%" height="232px" src="https://open.spotify.com/embed/episode/229EPBGAyYQjZpsUSyVJyS"&gt;
&lt;/iframe&gt;
&lt;/p&gt;

&lt;p&gt;Regular expressions can be extremely useful whenever you need to make the computer do something with text. &lt;/p&gt;

&lt;p&gt;For example, when you need to check that what user typed is a real email, or automatically replace every uppercase letter F into a lowercase letter F. &lt;/p&gt;

&lt;p&gt;But as useful as they are, regular expressions can be extremely confusing and intimidating for beginners. &lt;/p&gt;


&lt;blockquote class="ltag__twitter-tweet"&gt;
      &lt;div class="ltag__twitter-tweet__media"&gt;
        &lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--u_gVWbEr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://pbs.twimg.com/media/EpRk2-FXEAAn50n.png" alt="unknown tweet media content"&gt;
      &lt;/div&gt;

  &lt;div class="ltag__twitter-tweet__main"&gt;
    &lt;div class="ltag__twitter-tweet__header"&gt;
      &lt;img class="ltag__twitter-tweet__profile-image" src="https://res.cloudinary.com/practicaldev/image/fetch/s--vLjhErYh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://pbs.twimg.com/profile_images/754964134610034688/ZX7HA_eI_normal.jpg" alt="Not followed by anyone you’re following profile image"&gt;
      &lt;div class="ltag__twitter-tweet__full-name"&gt;
        Not followed by anyone you’re following
      &lt;/div&gt;
      &lt;div class="ltag__twitter-tweet__username"&gt;
        &lt;a class="comment-mentioned-user" href="https://dev.to/eugenekudashev"&gt;@eugenekudashev&lt;/a&gt;

      &lt;/div&gt;
      &lt;div class="ltag__twitter-tweet__twitter-logo"&gt;
        &lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--P4t6ys1m--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/twitter-f95605061196010f91e64806688390eb1a4dbc9e913682e043eb8b1e06ca484f.svg" alt="twitter logo"&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="ltag__twitter-tweet__body"&gt;
      some behind the scenes — excerpt from the transcript&lt;br&gt;&lt;br&gt;LISTEN ON SPOTIFY &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a href="https://t.co/KSeHkmkiX7"&gt;open.spotify.com/show/00DKkZWGl…&lt;/a&gt;&lt;br&gt;&lt;br&gt;LISTEN ELSEWHERE &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; &lt;a href="https://t.co/aBQkYJIf5e"&gt;anchor.fm/slashcircumflex&lt;/a&gt; 
    &lt;/div&gt;
    &lt;div class="ltag__twitter-tweet__date"&gt;
      11:23 AM - 15 Dec 2020
    &lt;/div&gt;


    &lt;div class="ltag__twitter-tweet__actions"&gt;
      &lt;a href="https://twitter.com/intent/tweet?in_reply_to=1338806834816294915" class="ltag__twitter-tweet__actions__button"&gt;
        &lt;img src="/assets/twitter-reply-action.svg" alt="Twitter reply action"&gt;
      &lt;/a&gt;
      &lt;a href="https://twitter.com/intent/retweet?tweet_id=1338806834816294915" class="ltag__twitter-tweet__actions__button"&gt;
        &lt;img src="/assets/twitter-retweet-action.svg" alt="Twitter retweet action"&gt;
      &lt;/a&gt;
      0
      &lt;a href="https://twitter.com/intent/like?tweet_id=1338806834816294915" class="ltag__twitter-tweet__actions__button"&gt;
        &lt;img src="/assets/twitter-like-action.svg" alt="Twitter like action"&gt;
      &lt;/a&gt;
      1
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/blockquote&gt;


&lt;p&gt;In this podcast I’m going to explain regular expressions in a simple and accessible way, and help you start using them in your day-to-day work.&lt;/p&gt;

&lt;p&gt;The first episode, &lt;strong&gt;/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,6})*$/&lt;/strong&gt;, is about checking that a given string is a valid email.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://open.spotify.com/show/00DKkZWGlbKA5VC4Cjd6KB"&gt;Listen on Spotify&lt;/a&gt; or &lt;a href="https://anchor.fm/slashcircumflex"&gt;elsewhere&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let me know what you think and share it with your network if you like it! And follow me on Twitter or Spotify to get the next episodes&lt;/p&gt;

&lt;p&gt;Thank you :)&lt;/p&gt;

</content>
    <author>
      <name>Not followed by anyone you’re following</name>
    </author>
    <id>https://dev.to/eugenekudashev/i-made-a-podcast-about-regular-expressions-3h67</id>
    <published>2020-12-15T12:08:15Z</published>
    <updated>2020-12-15T12:08:15Z</updated>
    <category term="podcast"/>
    <category term="regexp"/>
    <category term="sideprojects"/>
    <category term="perl"/>
  </entry>
  <entry>
    <title>Einführung in Test::Class::Moose</title>
    <link rel="alternate" href="https://blog.perl-academy.de/2020-12-15-einfuehrung-test-class-moose" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Mit Test::Class::Moose können Entwickler die Mittel von Moose nutzen, um ihre Testsuite objektorientiert aufzubauen. In einem vorherigen Artikel habe ich gezeigt, wie diese Tests durch einen Testtreiber ausgeführt werden. In diesem Artikel zeigen ich an einem einfachen Beispiel die grundsätzliche Verwendung von `Test::Class::Moose.`</div>
    </content>
    <id>https://blog.perl-academy.de/2020-12-15-einfuehrung-test-class-moose</id>
    <published>2020-12-15T10:00:00Z</published>
    <updated>2020-12-15T10:00:00Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 090</title>
    <link rel="alternate" href="http://www.rabbitfarm.com/cgi-bin/blosxom/2020/12/13#pwc090" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><h2 id="part-1">Part 1</h2>
<p><em>Write a script to print the nucleiobase count in the given DNA sequence. Also print the complementary sequence where Thymine (T) on one strand is always facing an adenine (A) and vice versa; guanine (G) is always facing a cytosine (C) and vice versa.</em></p>
<h3 id="solution">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# Write a script to print  the nucleiobase count in
# the given DNA sequence. Also print the complementary 
# sequence where Thymine (T) on one strand is always 
# facing an adenine (A) and vice versa; guanine (G) is 
# always facing a cytosine (C) and vice versa.
##
use constant SEQUENCE =&gt; "GTAAACCCCTTTTCATTTAGACAGATCGACTCCTTATCCATTCTCAGAGATGTGTTGCTGGTCGCCG";
my %nucleotide_map = (
    "T" =&gt; "A", 
    "A" =&gt; "T", 
    "G" =&gt; "C", 
    "C" =&gt; "G" 
);    

sub complementary_sequence{
    my($sequence) = @_;
    my @complement = map { $nucleotide_map{$_} } split(//, $sequence);
    return @complement; 
} 

MAIN:{
    print "length of sequence: " . length(SEQUENCE) . "\n";
    print "complementary sequence: " . join("", complementary_sequence(SEQUENCE)) . "\n";      
} 
</code></pre>
<h3 id="sample-run">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-1.pl 
length of sequence: 67
complementary sequence: CATTTGGGGAAAAGTAAATCTGTCTAGCTGAGGAATAGGTAAGAGTCTCTACACAACGACCAGCGGC
</code></pre>
<h3 id="notes">Notes</h3>
<p>When doing this problem I recalled a <a href="http://www.yapcna.org/yn2009/talk/1840">talk</a> I attended at YAPC 2009. In that talk Steven Lembark discussed how allocating array storage for very long arrays, such as DNA sequences!, could result in memory issues. He presented an interesting use of LinkedLists to deal with this. I have to say that I am not sure if Perl’s internals have changed in some way that these concerns are still valid. If you are looking to deal with actual (tremendously large) DNA sequences and not the sample shown here this would be something to consider!</p>
<h2 id="part-2">Part 2</h2>
<p><em>You are given two positive numbers $A and $B. Write a script to demonstrate Ethiopian Multiplication using the given numbers.</em></p>
<h3 id="solution-1">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# You are given two positive numbers $A and $B.
# Write a script to demonstrate Ethiopian Multiplication 
# using the given numbers.
##
sub ethiopian_multiplication{
    my($a, $b) = @_;
    my @steps;
    my $product = 0; 
    my ($x, $y) = ($a, $b); 
    do{
        $x = int($x / 2);
        $y = $y * 2;
        push @steps, [$x, $y] if $x % 2 != 0;
    }until $steps[-1]-&gt;[0] == 1; 
    for my $step (@steps){
        $product += $step-&gt;[1];
    } 
    return $product; 
}

MAIN:{
    my($A, $B) = (14, 12);
    print "$A x $B = " . ethiopian_multiplication($A, $B) . "\n";
}
</code></pre>
<h3 id="sample-run-1">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-2.pl 
14 x 12 = 168
</code></pre>
<h3 id="notes-1">Notes</h3>
<p>My implementation here follows pretty directly from the definition of the procedure. At each step there is a check to see if the <em>odd/even</em> condition holds and if true the result for that step is saved to an array. After the loop terminates the results are evaluated.</p>
<h2 id="references">References</h2>
<p><a href="https://threesixty360.wordpress.com/2009/06/09/ethiopian-multiplication/">Ethiopian Multiplication</a></p></div>
    </content>
    <id>http://www.rabbitfarm.com/cgi-bin/blosxom/perl/pwc090</id>
    <published>2020-12-13T18:34:00-05:00Z</published>
    <category term="/perl"/>
  </entry>
  <entry>
    <title>Closures as objects</title>
    <link rel="alternate" href="https://www.perl.com/article/closures-as-objects/" type="text/html"/>
    <content type="html">

&lt;p&gt;Perl&amp;rsquo;s object system is not one of its most admired qualities. Included in the 1993 Perl 5.0 release, objects were a bolt-on. A big improvement at the time, in today&amp;rsquo;s context the Perl 5 object system requires too much boilerplate and is under-powered compared to other language offerings (no private state, no type checking, no traits, no multimethods). Perl programmers have been trying to upgrade it for years (&lt;a href="https://gist.github.com/Ovid/68b33259cb81c01f9a51612c7a294ede"&gt;Cor&lt;/a&gt; is a recent example).&lt;/p&gt;

&lt;p&gt;Combining a few concepts can lead to great power; 60 years ago in the &lt;a href="https://mitpress.mit.edu/books/lisp-15-programmers-manual"&gt;LISP Programmer&amp;rsquo;s Manual&lt;/a&gt; John McCarthy showed how a Lisp interpreter could be created from simple parsing rules, a few types and just five (!) elementary functions.&lt;/p&gt;

&lt;p&gt;Two things Perl 5 got right was its lexical scoping rules and support for anonymous functions (&amp;ldquo;lambdas&amp;rdquo;). Combine those features and you can make closures. And just what are closures good for? Well it turns out they&amp;rsquo;re pretty damn powerful; powerful enough, in fact to make a better object system than Perl&amp;rsquo;s built-in offering.&lt;/p&gt;

&lt;h2 id="private-state"&gt;Private state&lt;/h2&gt;

&lt;p&gt;Perl objects are &amp;ldquo;blessed&amp;rdquo; data structures, which means data plus its package subroutines. Here&amp;rsquo;s a &lt;code&gt;Point&lt;/code&gt; class:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;package&lt;/span&gt; Point;

&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;new&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class, $x, $y) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
  &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; bless { x &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; $x, y &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; $y }, $class;
}

&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;x&lt;/span&gt; { $_[&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;]&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{x} }

&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;y&lt;/span&gt; { $_[&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;]&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{y} }

&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;to_string&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $self &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
  &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; sprintf &lt;span style="color:#e6db74"&gt;&amp;#39;x: %d, y: %d&amp;#39;&lt;/span&gt;, $self&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;x, $self&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;y;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;new&lt;/code&gt; subroutine is (by convention) the object constructor method. It accepts x y coordinates, and blesses a hashref of that data into a Point object. This associates all the subroutines in the package &lt;code&gt;Point&lt;/code&gt; with the object (&lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, &lt;code&gt;to_string&lt;/code&gt; and oops! it gets &lt;code&gt;new&lt;/code&gt; as well). As a Point object is just a hashref, any consuming code is able to modify the object data directly, even if no setter method was provided:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $p &lt;span style="color:#f92672"&gt;=&lt;/span&gt; Point&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;new&lt;/span&gt;(&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;);
$p&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{x} &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;; &lt;span style="color:#75715e"&gt;# methods schmethods&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Score one for convenience, strike one for (lack of) encapsulation. Here&amp;rsquo;s the same Point class, implemented using a closure:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;package&lt;/span&gt; Point;

&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;new&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class, $x, $y) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; %methods &lt;span style="color:#f92672"&gt;=&lt;/span&gt; (
    to_string &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { &lt;span style="color:#e6db74"&gt;&amp;#34;x: $x, y: $y&amp;#34;&lt;/span&gt; },
    x         &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $x },
    y         &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $y },
  );
  &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
    &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $method_name &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
    $methods{$method_name}&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(__SUB__, @_);
  };
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this case &lt;code&gt;new&lt;/code&gt; returns an anonymous function which performs the method resolution itself. Because the x and y coordinates are copied into the scope of the anonymous function, it has &amp;ldquo;closed over&amp;rdquo; the lexical environment and calling code has no way of altering those variables without using its public interface:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $p &lt;span style="color:#f92672"&gt;=&lt;/span&gt; Point&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;new&lt;/span&gt;(&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;);
say $p&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;x&amp;#39;&lt;/span&gt;); &lt;span style="color:#75715e"&gt;# 1&lt;/span&gt;
say $p&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;y&amp;#39;&lt;/span&gt;); &lt;span style="color:#75715e"&gt;# 5&lt;/span&gt;
say $p&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;to_string&amp;#39;&lt;/span&gt;); &lt;span style="color:#75715e"&gt;# x: 1, y: 5&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As its constructor does not provide any setter methods, its x y coordinates cannot change. It is immutable. The object also does not get its package subroutines, i.e. it has no &lt;code&gt;new&lt;/code&gt; method, which stays where it belongs, in the Point package.&lt;/p&gt;

&lt;h2 id="making-it-re-usable"&gt;Making it re-usable&lt;/h2&gt;

&lt;p&gt;So far so good. But what if I wanted to make other classes which work in the same way? If I have to copy-and-paste this pattern around, it&amp;rsquo;s not buying me much. Instead I&amp;rsquo;m going to introduce a new package which builds classes:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;package&lt;/span&gt; Class::Lambda;

&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;new_class&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class_name, $properties, $methods) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;

  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class_methods &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
    properties &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { %$properties },
    methods    &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { %$methods },
    name       &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $class_name },
    &lt;span style="color:#66d9ef"&gt;new&lt;/span&gt;        &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class &lt;span style="color:#f92672"&gt;=&lt;/span&gt; $_[&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;];
      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; %self;
      %self &lt;span style="color:#f92672"&gt;=&lt;/span&gt; (%$properties,
               %{$_[&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;]},
               self &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
                         &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $method_name &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
                         $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name}&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#f92672"&gt;\&lt;/span&gt;%self, @_);
                       });
      $self{self};
    },
  };
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
    &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($method_name) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
    $class_methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name}&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(__SUB__, @_);
  };
  $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{class} &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $class };
  $class;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;new_class&lt;/code&gt; subroutine takes a class name, a hashref of properties for object state (name and default value), and a hashref of methods (method name and anonymous subroutine). It returns a function object class, which uses the same method dispatch mechanism as before. I&amp;rsquo;ve omitted error checks for brevity.&lt;/p&gt;

&lt;p&gt;The class objects have some useful methods for inspecting them: &lt;code&gt;properties&lt;/code&gt; returns the object properties and their default values, &lt;code&gt;methods&lt;/code&gt; returns the object methods, &lt;code&gt;name&lt;/code&gt; returns the class name, and &lt;code&gt;new&lt;/code&gt; creates a new instance of the class. It also injects a &lt;code&gt;class&lt;/code&gt; method into every object which returns itself (e.g. given a function object, you can call its &lt;code&gt;class&lt;/code&gt; method to get its class object). With these methods, our class objects have no need for Perl&amp;rsquo;s built-in object toolset of packages, &lt;a href="https://perldoc.perl.org/functions/bless.html
"&gt;bless&lt;/a&gt;, and &lt;a href="https://perldoc.perl.org/5.30.0/functions/UNIVERSAL.html
"&gt;UNIVERSAL&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The Point class compresses nicely:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class_point &lt;span style="color:#f92672"&gt;=&lt;/span&gt; Class::Lambda::new_class(
  &lt;span style="color:#e6db74"&gt;&amp;#39;Point&amp;#39;&lt;/span&gt;,
  {
    x &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; undef,
    y &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; undef,
  },
  {
    x &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $_[&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;]&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{x} },
    y &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $_[&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;]&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{y} &lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt;}});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One wrinkle here is the naive copying of constructor args into the object state. If the args themselves contain references, the caller could change the state of the references without using the object&amp;rsquo;s interface (assuming they retained a reference to the data). To prevent that the code could be updated to deep-copy any references that have a refcount greater than 1.&lt;/p&gt;

&lt;h2 id="inheritance"&gt;Inheritance&lt;/h2&gt;

&lt;p&gt;This wouldn&amp;rsquo;t be much of an object system if it didn&amp;rsquo;t support inheritance. I&amp;rsquo;ve extended the &lt;code&gt;new_class&lt;/code&gt; subroutine:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;new_class&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class_name, $properties, $methods, $superclass) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;

  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class_methods &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
    superclass &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $superclass },
    properties &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { %$properties },
    subclass   &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($superclass, $class_name, $properties, $methods) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
      $properties   &lt;span style="color:#f92672"&gt;=&lt;/span&gt; { $superclass&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;properties&amp;#39;&lt;/span&gt;), %$properties };
      $methods      &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
      &lt;span style="color:#75715e"&gt;# prevent changes to subclass method changing the super&lt;/span&gt;
      (map { ref $_ ? _clone_method($_) : $_ } $superclass&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;methods&amp;#39;&lt;/span&gt;)),
      %$methods };
      new_class($class_name, $properties, $methods, $superclass);
    },
    methods      &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { %$methods },
    name         &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $class_name },
    &lt;span style="color:#66d9ef"&gt;new&lt;/span&gt;          &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class &lt;span style="color:#f92672"&gt;=&lt;/span&gt; $_[&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;];
      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; %self;
      %self &lt;span style="color:#f92672"&gt;=&lt;/span&gt; (%$properties,
               %{$_[&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;]},
               self &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
                         &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $method_name &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
                         $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name}&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#f92672"&gt;\&lt;/span&gt;%self, @_);
                       });
      $self{self};
    },
  };
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
    &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($method_name) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
    $class_methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name}&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(__SUB__, @_);
  };
  $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{class} &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $class };
  $class;
}

&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;_clone_method&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $sub &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
  &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { goto $sub };
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It now accepts an optional superclass argument. I&amp;rsquo;ve also added two new methods to call on the class object: &lt;code&gt;superclass&lt;/code&gt; returns the superclass object and &lt;code&gt;subclass&lt;/code&gt; accepts similar arguments to &lt;code&gt;new_class&lt;/code&gt; and creates a new class built with the current class properties and methods and its arguments. Because it uses list-flattening to combine the key/value pairs of properties and methods, and because the superclass data is listed first, the subclass specification always override the superclass.&lt;/p&gt;

&lt;p&gt;Superclass methods are copied using &lt;code&gt;_clone_method&lt;/code&gt; to prevent method re-definition also redefining the superclass method. For now I&amp;rsquo;ve accomplished this with &lt;a href="https://perldoc.perl.org/functions/goto.html
"&gt;goto&lt;/a&gt;; every subclass adds a new layer of indirection. This could be implemented in XS to avoid the indirection cost; &lt;a href="https://metacpan.org/pod/Sub::Clone"&gt;Sub::Clone&lt;/a&gt; does this, but it doesn&amp;rsquo;t work on &lt;a href="http://matrix.cpantesters.org/?dist=Sub-Clone+0.03"&gt;v5.18 or higher&lt;/a&gt; (I guess the Perl interpreter internals changed and it needs an update).&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s a subclass of Point which in addition to storing x y coordinates, accepts a &amp;ldquo;z&amp;rdquo; value, to store a point in 3d coordinates. It overrides &lt;code&gt;to_string&lt;/code&gt; to include the new value:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class_point3d &lt;span style="color:#f92672"&gt;=&lt;/span&gt; $class_point&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;subclass&amp;#39;&lt;/span&gt;,
  &lt;span style="color:#e6db74"&gt;&amp;#39;Point3D&amp;#39;&lt;/span&gt;,
  { z &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; undef },
  {
    to_string &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { &lt;span style="color:#e6db74"&gt;&amp;#34;x: $_[0]-&amp;gt;{x}, y: $_[0]-&amp;gt;{y}, z: $_[0]-&amp;gt;{z}&amp;#34;&lt;/span&gt; },
    z         &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { shift&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{z} },
  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="traits"&gt;Traits&lt;/h2&gt;

&lt;p&gt;Single inheritance is quite limited; I could add support for multiple inheritance by accepting an arrayref of superclasses, and making method resolution more sophisticated. Instead I&amp;rsquo;m going to support traits which avoid the complexity of multiple inheritance and allow class behavior to be extended in a more flexible way:&lt;/p&gt;

&lt;p&gt;First I&amp;rsquo;ll add support for creating new traits:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;new_trait&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($trait_name, $methods, $requires) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $trait_methods &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
    requires &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { @$requires },
    methods  &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { %$methods },
    name     &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { $trait_name },
  };
  &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
    &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $method_name &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
    $trait_methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name}&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;();
  };
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is implemented as the (what should be familiar by now) function object pattern. Every trait object has 3 methods: &lt;code&gt;requires&lt;/code&gt; returns a list of required method names, &lt;code&gt;methods&lt;/code&gt; key/value pairs of method names and anonymous subroutines, and &lt;code&gt;name&lt;/code&gt; to return the trait&amp;rsquo;s name.&lt;/p&gt;

&lt;p&gt;Classes can be composed with traits using the &lt;code&gt;compose&lt;/code&gt; method, which looks like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;new_class&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class_name, $properties, $methods, $superclass) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $traits &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;[]&lt;/span&gt;;

  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class_methods &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
    &lt;span style="color:#f92672"&gt;...&lt;/span&gt;
    compose    &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class, @traits) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
      &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $t (@traits) {
        &lt;span style="color:#66d9ef"&gt;next&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; $class&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;does&amp;#39;&lt;/span&gt;, $t&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;));
        &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; @missing &lt;span style="color:#f92672"&gt;=&lt;/span&gt; grep { &lt;span style="color:#f92672"&gt;!&lt;/span&gt;$methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$_} } $t&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;requires&amp;#39;&lt;/span&gt;);
        die sprintf(&lt;span style="color:#e6db74"&gt;&amp;#39;Cannot compose %s as %s is missing: %s&amp;#39;&lt;/span&gt;,
          $t&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;), $class_name, join &lt;span style="color:#e6db74"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;, @missing) &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; @missing;
        &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; %trait_methods &lt;span style="color:#f92672"&gt;=&lt;/span&gt; $t&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;methods&amp;#39;&lt;/span&gt;);
        &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $m (keys %trait_methods) {
          &lt;span style="color:#66d9ef"&gt;next&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; exists $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$m}; &lt;span style="color:#75715e"&gt;# clashing methods are excluded&lt;/span&gt;
          &lt;span style="color:#75715e"&gt;# prevent changes to composed class method changing the trait&lt;/span&gt;
          $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$m} &lt;span style="color:#f92672"&gt;=&lt;/span&gt; _clone_method($trait_methods{$m});
        }
        push @$traits, $t;
      }
    },
    traits     &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; { @$traits },
    does       &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
                    &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class, $trait_name) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
                    grep { $trait_name &lt;span style="color:#f92672"&gt;eq&lt;/span&gt; $_&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;) } @$traits;
                  },
    &lt;span style="color:#f92672"&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This isn&amp;rsquo;t a precise implementation of traits; in the original &lt;a href="http://web.cecs.pdx.edu/~black/publications/TR_CSE_02-012.pdf"&gt;paper&lt;/a&gt; traits are not given access to the state of the object (except via its methods). That would require storing trait methods in a separate hashref, not passing the object state as an argument when the methods are called, and updating method dispatch to include searching the object&amp;rsquo;s trait methods hashref.&lt;/p&gt;

&lt;h2 id="metamethods"&gt;Metamethods&lt;/h2&gt;

&lt;p&gt;Whereas methods are concerned with object state, metamethods deal with object &lt;em&gt;structure&lt;/em&gt;. Because function objects control their method dispatch, it&amp;rsquo;s trivial to modify dispatch to support metamethods like &lt;code&gt;before&lt;/code&gt; and &lt;code&gt;after&lt;/code&gt; which run code before or after a method is called:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"&gt;&lt;code class="language-perl" data-lang="perl"&gt;&lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;new_class&lt;/span&gt; {
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class_name, $properties, $methods, $superclass) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $traits &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;[]&lt;/span&gt;;

  &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $class_methods &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
    &lt;span style="color:#f92672"&gt;...&lt;/span&gt;
    before       &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
                      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class, $method_name, $sub) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
                      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $original_method &lt;span style="color:#f92672"&gt;=&lt;/span&gt; $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name};
                      $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name} &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
                        &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $self &lt;span style="color:#f92672"&gt;=&lt;/span&gt; shift;
                        &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; @args &lt;span style="color:#f92672"&gt;=&lt;/span&gt; $sub&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;($self, @_);
                        $original_method&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;($self, @args);
                      &lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt;}},
    after        &lt;span style="color:#f92672"&gt;=&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
                      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; ($class, $method_name, $sub) &lt;span style="color:#f92672"&gt;=&lt;/span&gt; @_;
                      &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; $original_method &lt;span style="color:#f92672"&gt;=&lt;/span&gt; $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name};
                      $methods&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;{$method_name} &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;sub&lt;/span&gt; {
                        &lt;span style="color:#66d9ef"&gt;my&lt;/span&gt; @results &lt;span style="color:#f92672"&gt;=&lt;/span&gt; $original_method&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;(@_);
                        $sub&lt;span style="color:#f92672"&gt;-&amp;gt;&lt;/span&gt;($_[&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;], @results);
                      &lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt;}},
    &lt;span style="color:#f92672"&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Whilst this works, it feels like the code is starting to get unwieldy. What I really need is a &lt;a href="https://en.wikipedia.org/wiki/Metaobject#Metaobject_protocol"&gt;Metaobject Protocol&lt;/a&gt;. Instead of defining methods in a hashref of anonymous functions, I could have a &amp;ldquo;make_method&amp;rdquo; metamethod, which registers a new method in a class. Method registration would provide the opportunity to do things like multiple-dispatch; that is, a class could have several methods with the same name, dispatched to based on the arguments received at runtime (aka &lt;a href="https://en.wikipedia.org/wiki/Multiple_dispatch"&gt;multimethods&lt;/a&gt;). This is one way of solving the &lt;a href="https://craftinginterpreters.com/representing-code.html#the-expression-problem"&gt;Expression Problem&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id="speed"&gt;Speed&lt;/h2&gt;

&lt;p&gt;By this point you might be wondering how fast function objects are; I ran some &lt;a href="https://github.com/dnmfarrell/Class-Lambda/blob/master/bench/run.pl"&gt;benchmarks&lt;/a&gt; to compare built-in OO, Moose and Class::Lambda objects. These show that function objects are at least &lt;em&gt;in the ballpark&lt;/em&gt; of acceptable performance for construction, get and set methods. Once you add type constraints, error checking and deep-copies of arguments (Moose deep-copies its args), I don&amp;rsquo;t think these differences would matter in most cases. For example if I add &lt;code&gt;isa =&amp;gt; 'Int'&lt;/code&gt; to the Moose Point class&amp;rsquo;s x property, its setter benchmark is ~4x slower.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;                 Rate   moose-new  lambda-new builtin-new
moose-new    714757/s          --        -13%        -64%
lambda-new   817247/s         14%          --        -59%
builtin-new 2012803/s        182%        146%          --
                  Rate  lambda-get   moose-get builtin-get
lambda-get   5804047/s          --        -46%        -61%
moose-get   10789651/s         86%          --        -27%
builtin-get 14813317/s        155%         37%          --
                 Rate  lambda-set builtin-set   moose-set
lambda-set  4272114/s          --        -46%        -46%
builtin-set 7855213/s         84%          --         -0%
moose-set   7886981/s         85%          0%          --
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Point function objects did use about 3x more memory than their built-in and Moose style equivalents on my computer: 812 bytes compared to 266 bytes (I was surprised to find simple Moose objects are as memory efficient as built-in ones). This is because function objects carry around more data, but also because closures require more Perl internal data structures. I could save memory by not copying every class instance method as a key/value pair into every object, and resolve method calls with a recursive search of the object&amp;rsquo;s class hierarchy instead. This trades memory for speed though.&lt;/p&gt;

&lt;h2 id="future"&gt;Future&lt;/h2&gt;

&lt;p&gt;I&amp;rsquo;ve uploaded this proof-of-concept to &lt;a href="https://github.com/dnmfarrell/Class-Lambda"&gt;GitHub&lt;/a&gt;. If you&amp;rsquo;re interested in learning more about metaobjects, &lt;a href="https://mitpress.mit.edu/books/art-metaobject-protocol"&gt;The Art of the Metaobject Protocol&lt;/a&gt; is the definitive reference. For what it&amp;rsquo;s worth, &lt;a href="https://metacpan.org/pod/Moose"&gt;Moose&lt;/a&gt; is Metaobject Protocol aware, battle-tested and remains the classiest (har) object system available for Perl today.&lt;/p&gt;

&lt;p&gt;Perl&amp;rsquo;s evolution into a kitchen-sink of capabilities provides many tools: some powerful, some mediocre. The question is, where do we go from here? I&amp;rsquo;m not convinced &amp;ldquo;more OO&amp;rdquo; is the right direction for Perl; the language is already huge, the interpreter a byzantine labyrinth of C macros, and Ruby cornered the market for expressive, object-oriented dynamic languages long-ago.&lt;/p&gt;

&lt;p&gt;One way to fight the bloat would be to distill the role of the Perl interpreter down to fewer, more powerful ideas. Objects are more powerful than subroutines, and a Metaobject Protocol more profound still. Yet beneath that, lexical scoping and a thoughtful type system could power them all&lt;sup&gt;†&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;sup&gt;†&lt;/sup&gt; Doug Hoyte writes in &lt;a href="https://letoverlambda.com/index.cl/guest/chap2.html#sec_7"&gt;Let Over Lambda&lt;/a&gt;: &amp;ldquo;Let and lambda are fundamental; objects and classes are derivatives.&amp;rdquo;&lt;/p&gt;
</content>
    <id>https://www.perl.com/article/closures-as-objects/</id>
    <published>2020-12-13T12:57:03Z</published>
    <updated>2020-12-13T12:57:03Z</updated>
  </entry>
  <entry>
  <title>do</title>
  <summary type="html"><![CDATA[<p>
<b>do $filename</b> will read the content of the file and the it will try to execute it insides the current process.
<p>
I use it sometimes when there is a command line program I'd like to test, but one that needs finer interaction
than one could do if it was executed as an external Perl program. For example if I need to set some variables, or
mock some part of the program.
<p>
Just as <b>eval</b> using <b>do</b> will also capture errors it encounters. It is important to understand how we can
see those errors.
<p>
Here is how <b>do</b> reports problems.
<p>
]]></summary>
  <updated>2020-12-13T10:30:01Z</updated>
  <link rel="alternate" type="text/html" href="https://perlmaven.com/do"/>  <id>https://perlmaven.com/do</id>
  <content type="html"><![CDATA[<p>
<b>do $filename</b> will read the content of the file and the it will try to execute it insides the current process.
<p>
I use it sometimes when there is a command line program I'd like to test, but one that needs finer interaction
than one could do if it was executed as an external Perl program. For example if I need to set some variables, or
mock some part of the program.
<p>
Just as <b>eval</b> using <b>do</b> will also capture errors it encounters. It is important to understand how we can
see those errors.
<p>
Here is how <b>do</b> reports problems.
<p>
]]></content>
    <author>
      <name>Gabor Szabo</name>
    </author>
</entry>
  <entry>
    <title>Advent of Code Day 12 - sailing to a pause</title>
    <link href="http://domm.plix.at/perl/2020_12_aoc_day_12.html"/>
    <id>http://domm.plix.at/perl/2020_12_aoc_day_12.html</id>
    <updated>2020-12-12T22:28:05+00:00</updated>
    <category term="perl"/>
    <summary type="html">This was another fun one. It took me some time to get the logic right (or left?), but in the end I came up with a nice solution. BTW, this will be the last daily blog post, as I'll have to finish ...</summary>
    <content type="html">&lt;p&gt;This was another fun one. It took me some time to get the logic right (or left?), but in the end I came up with a nice solution. &lt;span class="caps"&gt;BTW, &lt;/span&gt;this will be the last daily blog post, as I'll have to finish some work projects, and start with some holiday projects.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://adventofcode.com/2020/day/12"&gt;https://adventofcode.com/2020/day/12&lt;/a&gt;&lt;/p&gt;

&lt;h4&gt;Part 1&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;my @in  = map { [/^(\w)(\d+)$/] } &amp;lt;&amp;gt;;
my @dir = qw(N E S W);
my $cur = 1;
my $r   = 0;
my $c   = 0;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We again parse the map into a list of ops and values. Then we set up some things we'll need, like the list of directions and the current heading (&lt;code&gt;$cur&lt;/code&gt;) which is an index into the &lt;code&gt;dir-array&lt;/code&gt;. &lt;code&gt;$r&lt;/code&gt; and &lt;code&gt;$c&lt;/code&gt; are the row and col where the ship currently is location (I prefer row/col to x/y).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my %ops;
%ops = (
    N =&amp;gt; sub { $r -= shift },
    S =&amp;gt; sub { $r += shift },
    E =&amp;gt; sub { $c += shift },
    W =&amp;gt; sub { $c -= shift },
    F =&amp;gt; sub { $ops{ $dir[$cur] }(shift) },
    L =&amp;gt; sub { $cur = ( $cur - $_[0] / 90 ) % 4 },
    R =&amp;gt; sub { $cur = ( $cur + $_[0] / 90 ) % 4 },
);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then we implement the ops. The first four simple move the ship around. &lt;code&gt;F&lt;/code&gt; (forward) gets the current direction ("E" in the example), and calls the corresponding function. L and R where hard to get right. We calculate the number of turns (1, 2 or 3, depending on the degree value), and add or subtract it from the current index, using &lt;code&gt;mod&lt;/code&gt; to stay inside the array of allowed directions (using negative modulus is always fun!)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;for (@in) {
    my ( $op, $val ) = @$_;
    $ops{$op}($val);
}
say abs( 0 - $r ) + abs( 0 - $c );&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Finally we just need to go through the instruction set and call each op; and then calculate the Manhattan distance...&lt;/p&gt;

&lt;p&gt;In my first version I used plain functions instead of the dispatch table, which I liked a bit better, but required me to turn off 'refs' strictures.&lt;/p&gt;

&lt;h4&gt;Part 2&lt;/h4&gt;

&lt;p&gt;Again it took me quite some time to understand the description, but after some scribbling and counting I figured it out.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my $wr = -1;
my $wc = 10;
my $sr = 0;
my $sc = 0;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For the second part, we "just" need to add a second set of coordinates for the waypoint (&lt;code&gt;$wr, $wc&lt;/code&gt;).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my %ops;
%ops = (
    N =&amp;gt; sub { $wr -= shift },
    S =&amp;gt; sub { $wr += shift },
    E =&amp;gt; sub { $wc += shift },
    W =&amp;gt; sub { $wc -= shift },
    F =&amp;gt; sub { my $val = shift; $sr += $val * $wr; $sc += $val * $wc },
    R =&amp;gt; sub { for ( 1 .. $_[0] / 90 ) { ( $wr, $wc ) = ( $wc, $wr ); $wc *= -1 } },
    L =&amp;gt; sub { for ( 1 .. $_[0] / 90 ) { ( $wr, $wc ) = ( $wc, $wr ); $wr *= -1 } },
);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The ops change a bit, mostly moving the waypoint around. &lt;code&gt;F&lt;/code&gt; will move the ship. I used pen &amp;amp; paper to discover that to rotate the waypoint I need to switch row and col and (depending on the direction) change the sign on the row or col (i.e. multiply by -1). To switch row and col, we use a nice Perl trick to switch two values around using fancy list context: ( $a, $b ) = ($b, $a).&lt;/p&gt;

&lt;p&gt;The rest of the code stays the same...&lt;/p&gt;

&lt;h4&gt;Stats &amp;amp; Links&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Time:&lt;/b&gt; 43:37 / 43:08&lt;/li&gt;
&lt;li&gt;&lt;b&gt;Rank:&lt;/b&gt; 20406 / 21148&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adventofcode.com/2020/day/12"&gt;https://adventofcode.com/2020/day/12&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/domm/adventofcode2020"&gt;https://github.com/domm/adventofcode2020&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
    <category term="AdventOfCode"/>
  </entry>
  <entry xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr="http://purl.org/syndication/thread/1.0">
    <id>tag:blogger.com,1999:blog-5910101498857524639.post-8070445469008687722</id>
    <published>2020-12-12T19:58:00.000+01:00</published>
    <updated>2020-12-12T19:58:40.612+01:00</updated>
    <category scheme="http://www.blogger.com/atom/ns#" term="cpan"/>
    <category scheme="http://www.blogger.com/atom/ns#" term="perl"/>
    <title type="text">(cccxix) 12 CPAN great modules released last week</title>
    <content type="html">Updates for &lt;i&gt;great CPAN modules&lt;/i&gt; released last week. A module is considered &lt;i&gt;great&lt;/i&gt; if its favorites count is greater or equal than 12.&lt;br/&gt;&lt;br/&gt;&lt;ol&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/SKAJI/App-cpm-0.996' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;App::cpm&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - a fast CPAN module installer &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.996&lt;/strong&gt; on 2020-12-06&lt;/li&gt;  &lt;li&gt;Votes: 50&lt;/li&gt;  &lt;li&gt;Previous version: 0.995 was 8 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/ROBM/Cache-FastMmap-1.54' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Cache::FastMmap&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Uses an mmap'ed file to act as a shared memory interprocess cache &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.54&lt;/strong&gt; on 2020-12-12&lt;/li&gt;  &lt;li&gt;Votes: 21&lt;/li&gt;  &lt;li&gt;Previous version: 1.51 was 1 month, 1 day before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/ETJ/Graph-0.9712' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Graph&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - graph data structures and algorithms &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.9712&lt;/strong&gt; on 2020-12-05&lt;/li&gt;  &lt;li&gt;Votes: 22&lt;/li&gt;  &lt;li&gt;Previous version: 0.9711 was 8 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/SHAY/libnet-3.12' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Net::Cmd&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Collection of network protocol modules &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;3.12&lt;/strong&gt; on 2020-12-09&lt;/li&gt;  &lt;li&gt;Votes: 25&lt;/li&gt;  &lt;li&gt;Previous version: 3.11 was 3 years, 25 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/DCONWAY/Lingua-EN-Inflect-1.905' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Lingua::EN::Inflect&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Convert singular to plural. Select "a" or "an". &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.905&lt;/strong&gt; on 2020-12-08&lt;/li&gt;  &lt;li&gt;Votes: 14&lt;/li&gt;  &lt;li&gt;Previous version: 1.904 was 1 year, 7 months, 11 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/JHTHORSEN/Mojolicious-Plugin-AssetPack-2.10' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Mojolicious::Plugin::AssetPack&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Compress and convert css, less, sass, javascript and coffeescript files &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;2.10&lt;/strong&gt; on 2020-12-11&lt;/li&gt;  &lt;li&gt;Votes: 47&lt;/li&gt;  &lt;li&gt;Previous version: 2.09 was 3 months, 5 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/SHANCOCK/Perl-Tidy-20201207' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Perl::Tidy&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - indent and reformat perl scripts &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;20201207&lt;/strong&gt; on 2020-12-06&lt;/li&gt;  &lt;li&gt;Votes: 120&lt;/li&gt;  &lt;li&gt;Previous version: 20201202 was 4 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/FERKI/Rex-1.13.2' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Rex&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - the friendly automation framework &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.13.2&lt;/strong&gt; on 2020-12-05&lt;/li&gt;  &lt;li&gt;Votes: 73&lt;/li&gt;  &lt;li&gt;Previous version: 1.13.1 was 1 month before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/KIMOTO/SPVM-0.0928' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;SPVM&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Static Perl Virtual Machine. Fast Calculation, Fast Array Operation, and Easy C/C++ Binding. &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.0928&lt;/strong&gt; on 2020-12-09&lt;/li&gt;  &lt;li&gt;Votes: 21&lt;/li&gt;  &lt;li&gt;Previous version: 0.0927 was 19 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/PETDANCE/Test-WWW-Mechanize-1.54' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Test::WWW::Mechanize&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Testing-specific WWW::Mechanize subclass &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;1.54&lt;/strong&gt; on 2020-12-09&lt;/li&gt;  &lt;li&gt;Votes: 18&lt;/li&gt;  &lt;li&gt;Previous version: 1.52 was 2 years, 4 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/SHAY/Text-Balanced-2.04' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Text::Balanced&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Extract delimited text sequences from strings. &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;2.04&lt;/strong&gt; on 2020-12-11&lt;/li&gt;  &lt;li&gt;Votes: 14&lt;/li&gt;  &lt;li&gt;Previous version: 2.03 was 5 years, 9 months, 7 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://metacpan.org/release/BKB/Text-Fuzzy-0.29' target='_blank'&gt;&lt;b&gt;&lt;span style='font-family: Courier New, Courier, monospace;'&gt;Text::Fuzzy&lt;/span&gt;&lt;/b&gt;&lt;/a&gt; - Partial string matching using edit distances &lt;ul&gt;  &lt;li&gt;Version: &lt;strong&gt;0.29&lt;/strong&gt; on 2020-12-10&lt;/li&gt;  &lt;li&gt;Votes: 15&lt;/li&gt;  &lt;li&gt;Previous version: 0.28 was 2 years, 2 months, 6 days before&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;</content>
    <link rel="replies" type="application/atom+xml" href="https://niceperl.blogspot.com/feeds/8070445469008687722/comments/default" title="Enviar comentarios"/>
    <link rel="replies" type="text/html" href="https://niceperl.blogspot.com/2020/12/cccxix-12-cpan-great-modules-released.html#comment-form" title="0 comentarios"/>
    <link rel="edit" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/8070445469008687722"/>
    <link rel="self" type="application/atom+xml" href="https://www.blogger.com/feeds/5910101498857524639/posts/default/8070445469008687722"/>
    <link rel="alternate" type="text/html" href="https://niceperl.blogspot.com/2020/12/cccxix-12-cpan-great-modules-released.html" title="(cccxix) 12 CPAN great modules released last week"/>
    <author>
      <name>Unknown</name>
      <email>noreply@blogger.com</email>
      <gd:image rel="http://schemas.google.com/g/2005#thumbnail" width="16" height="16" src="https://img1.blogblog.com/img/b16-rounded.gif"/>
    </author>
    <thr:total>0</thr:total>
  </entry>
  <entry>
  <title>Maintaining Perl 5 (Tony Cook): November 2020 Grant Report</title>
  <link rel="alternate" type="text/html" href="https://news.perlfoundation.org/post/tony-report-20-11"/>
  <id>tag:news.perlfoundation.org,2020-12-12:/post/tony-report-20-11</id>
  <published>2020-12-12T13:55:42</published>
  <updated>2020-12-12T13:55:42</updated>
  <summary>
  <![CDATA[
     This is a monthly report by Tony Cook on his grant under [Perl 5 Core Maintenance Fund](http://www.perlfoundation.org/perl_5_core_maintenance_fund).
We thank the TPF sponsors to make this grant possible.

Approximately 46 tickets were reviewed, and 9 patches were
applied
   ]]>
  </summary>
  <author>
    <name>Matthias Bloch</name>
  </author>
  <category term="Perl 5 Development" scheme="http://www.sixapart.com/ns/types#category"/>  <content type="html" xml:lang="en-us" xml:base="http://news.perlfoundation.org/">
   <![CDATA[
     
     <p>This is a monthly report by Tony Cook on his grant under <a href="http://www.perlfoundation.org/perl_5_core_maintenance_fund">Perl 5 Core Maintenance Fund</a>.
We thank the TPF sponsors to make this grant possible.</p>

<pre>
[Hours]         [Activity]
  2.08          more win32 test noise, fix some, PR 377 for EU::MM,
                File::Path bug report cpan#133671
  1.32          #16825 research
  4.43          #17296 find another issue, work on a test and fix
                #17296 more fixes, make PR #18327
  1.18          go through PRs, checking #17724 (ask sawyerx for a
                comment), #17848 (comment), #17909 (some research), #17999
                review and some testing
  1.70          #17926 research
                #17926 rebase, re-test and apply to blead, perldelta
                updates
  1.54          review notifications mostly #17999
                #17999 comment
                #17999 comment
 10.58          #18005 more commit clean up, start a test run
                #18005 review results, add Test::Harness fix, testing,
                start a developer mode (symlinks enabled) test run
                #18005 diagnose build failure (possibly from rebase), fix
                and testing
                #18005 rebase on recent fixes and testing
                #18005 more testing, push for smoke-me
                #18005 more re-work commits, minor fixes, testing, push
                for smoke-me
                #18005 review smoke results
                #18005 more review smoke results, make PR 18306
                #18005 re-work based on xenu’s comments
                #18005 rebase win32-symlink code, make tests pass pre-
                vista, including fixing a test bug
  0.55          #18094 review and apply to blead
  0.32          #18133 check and apply to blead
  5.61          #18232 review some more, work up a erroneous case and
                comment
                #18232 review, work up a failing test case
                #18232 debugging, testing, comment
                #18232 testing, partly squash and apply to blead
  3.56          review notifications,mostly #18256
                #18256 code review, testing
  0.80          #18262 review and briefly comment
  0.47          #18272 rebase, squash and apply to blead
  0.65          #18279 research and briefly comment
  0.52          #18283 review and apply to blead
  0.67          #18285 review, research and comment
                #18285 comment
  1.63          #18293 debug, work on a fix, add a test, make PR 18307
  0.15          #18297 review and apply to blead
  0.10          #18298 review and comment
  1.35          #18308 review and comment
                #18308 fix an unrelated failure
  1.03          #18322 research and comment
                #18322 comment
  1.22          #18325 review, discussion with khw
  1.08          #18337 revise IO documentation PR based on comments
  0.45          #18339 review, test and apply to blead
  0.12          #18341 check fix was merged and close
  0.13          #18354 review, apply to blead
  0.17          #18359 review and briefly comment
  3.64          #18364 reproduce with gcc, try to figure out why MSVC
                isn’t failing the same way
                #18364 figure it out, discussion with khw
                #18364 testing
  1.93          look over OS X failures, reproduce and diagnose, work on
                an EU::MM PR to fix it #379
                my EU::MM #379: haarg made a better PR, close mine
  0.95          :utf8  rebase
  1.55          :utf8 more rebase
  2.20          check other sysv ipc ops for UTF-8 issues, find one in
                semop (test and fix), another in msgsnd/rcv (work on
                tests)
  2.23          document IO
  1.45          dragonfly changes: review smokes, reproduce freebsd issue
                (fixed in blead), rebase and apply to blead
  1.07          fix msgsnd, fix msgrcv, fix shmwrite
  2.30          fix read on close DATA, look at other test noise
  0.17          list catchup
  1.50          perldelta updates
  0.40          review coverity results
  0.43          review github notifications
  0.45          review notifications
  0.30          review trim discussion
  2.63          track down Fedora sanitize failures, both internal libs
                leaks
  0.82          trim discussion, comment
  0.60          win32-symlink: rebase, split out more pre-vista support
  1.37          work on testing, fixes to the (non-symlink) Win32 build
======
 69.40 hours total
</pre>

    ]]>
  </content>
</entry>
  <entry>
    <title>Advent of Code Day 11 - slow SeatGoL</title>
    <link href="http://domm.plix.at/perl/2020_12_aoc_day_11.html"/>
    <id>http://domm.plix.at/perl/2020_12_aoc_day_11.html</id>
    <updated>2020-12-11T19:50:37+00:00</updated>
    <category term="perl"/>
    <summary type="html">Finally, some Game of Life

https://adventofcode.com/2020/day/11

Part 1

Today I needed quite a bit of code, so let's split it up:

my @map = map { chomp; [ split // ] } &amp;lt;&amp;gt;;
my $h   = @map;
my </summary>
    <content type="html">&lt;p&gt;Finally, some &lt;a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"&gt;Game of Life&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="https://adventofcode.com/2020/day/11"&gt;https://adventofcode.com/2020/day/11&lt;/a&gt;&lt;/p&gt;

&lt;h4&gt;Part 1&lt;/h4&gt;

&lt;p&gt;Today I needed quite a bit of code, so let's split it up:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my @map = map { chomp; [ split // ] } &amp;lt;&amp;gt;;
my $h   = @map;
my $w   = $map[0]-&amp;gt;@*;
my $occ = 0;
my $max = 4;
my @around =
    ( [ -1, -1 ], [ -1, 0 ], [ -1, 1 ], [ 0, -1 ], [ 0, 1 ], [ 1, -1 ], [ 1, 0 ], [ 1, 1 ] );&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After getting the input and storing it into a 2-dimensional list, I set up some other things we'll need: the **h**eight and **w**idth of the map, the number of occupied seats, the maximum number of neighbors and a list of "vectors" to look around (left/up, up, right/up, left, right, left/down, down, right/down) as array index offsets.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;while (1) {
    my @next;
    my $thisocc = 0;
    for ( my $r = 0; $r &amp;lt; $h; $r++ ) {
        for ( my $c = 0; $c &amp;lt; $w; $c++ ) {
            my $new = $next[$r][$c] = gol( \@map, $r, $c );
            $thisocc++ if $new eq '#';
        }
    }
    last if $thisocc == $occ;
    @map = @next;
    $occ = $thisocc;
    say '.';
}
say $occ;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is the main loop, which we run until the current number of occupied seats is the same is the previous number (&lt;code&gt;last if $thisocc == $occ;&lt;/code&gt;). Inside the loop, we walk through the rows and cols of the map, and call the &lt;code&gt;gol()&lt;/code&gt; function with the current map and position (see later). &lt;code&gt;gol()&lt;/code&gt; will return the new value for this position, which we store in the &lt;code&gt;new&lt;/code&gt; map (we cannot use the same map). If we get an occupied seat, we count it (&lt;code&gt;$thisocc++ if $new eq '#'&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Outside the loop, we check for termination. If we're not done yet, we define the newly generated map as the map to be used in the next iteration, and remember the current occupied count. And we output a ., so we know we're still running (this is a &lt;strong&gt;very slow&lt;/strong&gt; solution, taking ~6 secs. I'm sure you can find faster algorithms on reddit...)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sub gol {
    my ( $map, $r, $c ) = @_;

    my $count = look( $map, $r, $c );
    my $old   = $map[$r][$c];
    return '#' if $old eq 'L' &amp;amp;&amp;amp; $count == 0;
    return 'L' if $old eq '#' &amp;amp;&amp;amp; $count &amp;gt;= $max;
    return $old;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;gol()&lt;/code&gt; first calls another function, &lt;code&gt;look()&lt;/code&gt;, to figure out how many seats around the current one are occupied. It the uses the old value and this count to figure out the next value and returns it.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sub look {
    my ( $map, $r, $c ) = @_;
    my $count = 0;
    foreach my $vec (@around) {
        my $m = $r + $vec-&amp;gt;[0];
        my $n = $c + $vec-&amp;gt;[1];
        next     if $m &amp;lt; 0 || $n &amp;lt; 0 || $m &amp;gt;= $h || $n &amp;gt;= $w;
        $count++ if $map[$m][$n] eq '#';
    }
    return $count;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;look()&lt;/code&gt; uses the list of vectors to look around the current position, by calculating &lt;code&gt;$m&lt;/code&gt; and &lt;code&gt;$n&lt;/code&gt;. We skip if &lt;code&gt;$m&lt;/code&gt; or &lt;code&gt;$n&lt;/code&gt; are outside the map. And finally we increment the count if the place we are looking at is occupied (&lt;code&gt;#&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Rather simple, but of course it took me some time to get all the parts arranged the right way. I'm quite sure that I have some nearly identical code lying around in last years repo. Maybe it would make sense to prepare a AdventOfCode helper distribution? Or is that cheating?&lt;/p&gt;

&lt;h4&gt;Part 2&lt;/h4&gt;

&lt;p&gt;The second part just changes the way consider which seats should be counted. I again implemented a simple brute-force solution (my trademark!). The original code was of course copy/pasted and manically adapted, but after my submission I cleaned up bot solutions and refactored them, so that we only need to change the &lt;code&gt;look()&lt;/code&gt; function for part 2 (and the value of &lt;code&gt;$max&lt;/code&gt;).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sub look {
    my ( $map, $r, $c ) = @_;
    my $count = 0;
    foreach my $vec (@around) {
        my $tr = $r;
        my $tc = $c;
        while (1) {
            my $m = $tr + $vec-&amp;gt;[0];
            my $n = $tc + $vec-&amp;gt;[1];
            last if $m &amp;lt; 0 || $n &amp;lt; 0 || $m &amp;gt;= $h || $n &amp;gt;= $w;
            my $val = $map[$m][$n];
            $count++ if $val eq '#';
            last unless $val eq '.';
            $tr = $m;
            $tc = $n;
        }
    }
    return $count;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We "only" need to add another loop to look further along the vector. I think this could be refactored even more, because both &lt;code&gt;look()&lt;/code&gt; functions share a great deal of code. Patches welcome...&lt;/p&gt;

&lt;h4&gt;Stats &amp;amp; Links&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Time:&lt;/b&gt; 29:44 / 10:02&lt;/li&gt;
&lt;li&gt;&lt;b&gt;Rank:&lt;/b&gt; 17615 / 15517&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adventofcode.com/2020/day/11"&gt;https://adventofcode.com/2020/day/11&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/domm/adventofcode2020"&gt;https://github.com/domm/adventofcode2020&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
    <category term="AdventOfCode"/>
  </entry>
  <entry>
    <title>Arbeiten mit Nuclino Teil 3</title>
    <link rel="alternate" href="https://blog.perl-academy.de/2020-12-11-nuclino-backup-III" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
In den vergangenen beiden Artikeln über unser Nuclino-Backup habe ich erst vorgestellt, wie wir die Backups erstellen und anschließend wie wir das Programm schneller gemacht haben. </div>
    </content>
    <id>https://blog.perl-academy.de/2020-12-11-nuclino-backup-III</id>
    <published>2020-12-11T10:00:00Z</published>
    <updated>2020-12-11T10:00:00Z</updated>
  </entry>
  <entry>
    <title>Advent of Code Day 10 - trillion jolts</title>
    <link href="http://domm.plix.at/perl/2020_12_aoc_day_10.html"/>
    <id>http://domm.plix.at/perl/2020_12_aoc_day_10.html</id>
    <updated>2020-12-10T19:58:54+00:00</updated>
    <category term="perl"/>
    <summary type="html">While the first part was ridiculously easy (after stripping away the overly complex "explanation"), I was not in the mood for doing the second part (recursion, memoization, ..) in the morning.
 ...</summary>
    <content type="html">&lt;p&gt;While the first part was ridiculously easy (after stripping away the overly complex "explanation"), I was not in the mood for doing the second part (recursion, memoization, ..) in the morning.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://adventofcode.com/2020/day/10"&gt;https://adventofcode.com/2020/day/10&lt;/a&gt;&lt;/p&gt;

&lt;h4&gt;Part 1&lt;/h4&gt;

&lt;p&gt;We first need to sort the adapters by int value (hence the spaceship op &lt;code&gt;&amp;lt;=&amp;gt;&lt;/code&gt;). We start with a jolt of 0, and prefill the result hash with a jolt-count for 3 (because the last adapter has a 3 jolt higher rating).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my @adapters = sort { $a &amp;lt;=&amp;gt; $b } map { chomp; $_ } &amp;lt;&amp;gt;;

my $jolt  = 0;
my %jolts = ( 3 =&amp;gt; 1 );
for my $a (@adapters) {
    $jolts{ $a - $jolt }++;
    $jolt = $a;
}

say $jolts{1} * $jolts{3};&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then we just need to go through the sorted adapters, get the joltage difference between the current and the previous adapter (&lt;code&gt;$a - $jolt&lt;/code&gt;) and count the result. When we're done, we multiply the counts.&lt;/p&gt;

&lt;h4&gt;Part 2&lt;/h4&gt;

&lt;p&gt;Hm, "more than a trillion" you say. Seems like a brute force combinatoric attack will not work out. Using some memoization would obviously help. But as I said, I had no time (and no motivation (and no meeting...)), so I stopped thinking about the problem.&lt;/p&gt;

&lt;p&gt;In the evening (I was still to lazy to actually think) I found &lt;a href="https://old.reddit.com/r/adventofcode/comments/kacv5i/2020_day_10_p2_need_some_logic_help_not_specific/gf9nsaf/?context=3"&gt;this excellent hint&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Which lead me to this solution:&lt;/p&gt;

&lt;p&gt;The main point here is that the input is coming in sets separated by the value 3. So we can break the input down into a bunch of subsets (which will always be consecutive numbers, which the first part showed by only containing jolts of 1 and 3). We now only need to figure out how many combination are possible for each subset, and then multiply these numbers. A quick run through the input revealed a max set size of 5. This seems doable!&lt;/p&gt;

&lt;p&gt;I'm not very good at combinatoric, so I used pen &amp;amp; paper to figure out the number of combinations for various set sizes:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;size  combinations
  1      1
  2      1
  3      2
  4      4
  5      7&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Hm, these numbers look a tiny bit familiar. But before I further investigated them, I implemented the solution (&lt;a href="https://github.com/domm/adventofcode2020/blob/27e1fea82ed98f90c7be00b641f5fb6bdae13ac5/10_2.pl"&gt;original code&lt;/a&gt;):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my @lu     = ( undef, 1, 1, 2, 4, 7 );
my @adapters = sort { $a &amp;lt;=&amp;gt; $b } 0, map { chomp; $_ } &amp;lt;&amp;gt;;
push( @adapters, $adapters[-1] + 3 );
my @set = 0;
my $res = 1;
my $i   = 1;
for (@adapters) {
    push( @set, $_ );
    if ( ( $adapters[ $i++ ] - $set[-1] ) == 3 ) {
        $res *= $lu[ @set - 1 ];
        @set = $set[-1];
    }
}
say $res;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We again sort the input, adding 0 at the beginning and adding the last adapter (+3) to the end. We add the first adapter to the first set (@set = 0), and init a counter and the result.&lt;/p&gt;

&lt;p&gt;Then we walk the adapters and push the current one onto the current set. If the next adapter (&lt;code&gt;$adapters[$i++]&lt;/code&gt;) has a joltage that's 3 bigger then the current adapter (which is the last element of the current set, &lt;code&gt;$set[-1]&lt;/code&gt;), we get the number of combinations for the current set by looking it up in my handcrafted list (using set size minus 1, because we already pushed the current element onto the set) and multiply them with the result. Then we reset the current set to only contain the current adapter. (If this is a bit unclean, take a look at the original code linked above).&lt;/p&gt;

&lt;p&gt;After finishing the task, I googled the number and first found something called the &lt;a href="https://en.wikipedia.org/wiki/Lazy_caterer%27s_sequence"&gt;lazy caterer's sequence&lt;/a&gt;, but this is the wrong sequence. In fact we're looking at the tribonacci numbers, i.e. Tn = T(n-1) + T(n-2) + T(n-3)&lt;/p&gt;

&lt;p&gt;That was fun!&lt;/p&gt;

&lt;h4&gt;No Space&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;my@t=(0,1,1,2,4,7);my@a=sort{$a&amp;lt;=&amp;gt;$b}0,map{chomp;$_}&amp;lt;&amp;gt;;push(@a,$a[-1]+3);my@s=0;my$r
=1;my$i=1;for(@a){push(@s,$_);if(($a[$i++]-$s[-1])==3){$r*=$t[@s-1];@s=$s[-1]}}say$r&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;Stats &amp;amp; Links&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Time:&lt;/b&gt; 06:19 / ~42:00&lt;/li&gt;
&lt;li&gt;&lt;b&gt;Rank:&lt;/b&gt; 18325 / 20384 (wow, there where 8 hours between me solving part 1 and 2, I've expected a way worse rank)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adventofcode.com/2020/day/10"&gt;https://adventofcode.com/2020/day/10&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/domm/adventofcode2020"&gt;https://github.com/domm/adventofcode2020&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
    <category term="AdventOfCode"/>
  </entry>
  <entry>
    <title>Advent of Code Day 9 - while learning</title>
    <link href="http://domm.plix.at/perl/2020_12_aoc_day_09.html"/>
    <id>http://domm.plix.at/perl/2020_12_aoc_day_09.html</id>
    <updated>2020-12-09T20:58:36+00:00</updated>
    <category term="perl"/>
    <summary>The main takeaway of this day was that it makes a lot of sense to remember what we learned on previous days. Which I realized the hard way, after wasting 25 minutes on playing around with ...</summary>
    <content type="html">&lt;p&gt;The main takeaway of this day was that it makes a lot of sense to remember what we learned on previous days. Which I realized the hard way, after wasting 25 minutes on playing around with List::Permutor, when in fact this problem was a slightly extended version of &lt;a href="https://adventofcode.com/2020/day/1"&gt;day 1&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://adventofcode.com/2020/day/9"&gt;https://adventofcode.com/2020/day/9&lt;/a&gt;&lt;/p&gt;

&lt;h4&gt;Part 1&lt;/h4&gt;

&lt;p&gt;This time the test and live data used different sizes for the "preamble", so I get that value from the command line:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;perl 09_1.pl 25 &amp;lt; 09.data&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then I read in the input, removing newlines via chomp. The main loop runs &lt;code&gt;check()&lt;/code&gt; (see below). If the check fails we remove the first element of the input, if not we exit the loop and print the value in the input &lt;strong&gt;after&lt;/strong&gt; the "preamble".&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my $size = shift;
my @in   = map { chomp; $_ } &amp;lt;&amp;gt;;

while (1) {
    check() ? shift @in : last;
}
say $in[$size];

sub check {
    my %lu = map { $_, 1 } @in[ 0 .. $size - 1 ];
    for my $a ( keys %lu ) {
        if ( $lu{ $in[$size] - $a } ) {
            return 1;
        }
    }
    return;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now about the check-function. We're again looking for two values in a list that sum up to a specific value, so we can reuse the trick we learned on day 1. I generate the list of "candidates" via an array slice:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   my %lu = map { $_, 1 } @in[ 0 .. $size - 1 ];&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The target value is located after the "preamble", i.e. at &lt;code&gt;$in[$size]&lt;/code&gt;, so we loop through the candidates and see if the lookup hash contains a value at &lt;code&gt;target - current value&lt;/code&gt;. We return true, which will exit the main loop.&lt;/p&gt;

&lt;h4&gt;Part 2&lt;/h4&gt;

&lt;p&gt;As Part 2 reuses the result from Part 1, but I didn't want to hard-code it, I just added some more code (and I'll skip the old code here, you can view it on &lt;a href="https://github.com/domm/adventofcode2020/blob/main/09_2.pl"&gt;github&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Instead of just printing the result, we store it in &lt;code&gt;$target&lt;/code&gt;. I also use a few functions from &lt;a href="https://metacpan.org/pod/List::Util"&gt;List::Util&lt;/a&gt;. And as my algorithm is destructive on the input, I copy the original data into @in2.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;use List::Util qw (min max sum);
my @in2  = @in;
my $target = $in[$size];

while (1) {
    my @try = @in2;
    my @cand;

    while (1) {
        push( @cand, shift @try );
        my $sum = sum(@cand);

        if ( $sum == $target ) {
            say min(@cand) + max(@cand);
            exit;
        }
        last if $sum &amp;gt; $target;
    }
    shift(@in2);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the outer loop we copy the input again, prepare an array to store the candidates, and (at the end, in the last row) remove the first element of the input.&lt;/p&gt;

&lt;p&gt;In the inner loop, we take the first element from the input, and push it onto the candidates array. The we calc the sum of the candidates, compare it with the target, and if it matches calculate the final result.&lt;/p&gt;

&lt;h4&gt;No Spaces&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;eval(qq{use$&amp;quot;List::Util&amp;quot;min&amp;quot;,&amp;quot;max&amp;quot;,&amp;quot;sum&amp;quot;});my$s=shift;my@x=map{chomp;$_}&amp;lt;&amp;gt;;my@y=@x
;$b=sub{my%l=map{$_,1}@x[0..$s-1];for(keys%l){if($l{$x[$s]-$_}){return&amp;quot;1&amp;quot;}}};while
(1){&amp;amp;$b?shift@x:last}my$t=$x[$s];while(1){my@t=@y;my@z;while(1){push(@z,shift@t);
my$r=sum(@z);if($r==$t){say(min(@z)+max(@z));exit}if($r&amp;gt;$t){last}}shift(@y)}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I cheated a little bit with using eval to load List::Util, but still nice enough.&lt;/p&gt;

&lt;h4&gt;Stats &amp;amp; Links&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Time:&lt;/b&gt; 37:37 / 14:37&lt;/li&gt;
&lt;li&gt;&lt;b&gt;Rank:&lt;/b&gt; 13413 / 13173&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adventofcode.com/2020/day/9"&gt;https://adventofcode.com/2020/day/9&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/domm/adventofcode2020"&gt;https://github.com/domm/adventofcode2020&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
    <category term="AdventOfCode"/>
  </entry>
  <entry>
    <title>Advent of Code Day 8 - running code</title>
    <link href="http://domm.plix.at/perl/2020_12_aoc_day_08.html"/>
    <id>http://domm.plix.at/perl/2020_12_aoc_day_08.html</id>
    <updated>2020-12-08T19:59:42+00:00</updated>
    <category term="perl"/>
    <summary type="html">This was a fun day. The first part was rather simple, but when I read the second part I thought that this will get very hard. It wasn't that bad in the end..

https://adventofcode.com/2020/day/8
 ...</summary>
    <content type="html">&lt;p&gt;This was a fun day. The first part was rather simple, but when I read the second part I thought that this will get very hard. It wasn't that bad in the end..&lt;/p&gt;

&lt;p&gt;&lt;a href="https://adventofcode.com/2020/day/8"&gt;https://adventofcode.com/2020/day/8&lt;/a&gt;&lt;/p&gt;

&lt;h4&gt;Part 1&lt;/h4&gt;

&lt;p&gt;First we parse the input into an array containing another array with each op and value. As we need to stop when we've seen a line, we use the index &lt;code&gt;$i&lt;/code&gt; of the code-array and exit the loop via &lt;code&gt;last&lt;/code&gt; if &lt;code&gt;$i&lt;/code&gt; was already seen.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my @code = map {[split(/ /)]} &amp;lt;&amp;gt;;
my %seen;
my $i   = 0;
my $acc = 0;
while (1) {
    last if $seen{$i}++;

    my ( $op, $val ) = $code[$i]-&amp;gt;@*;
    if ( $op eq 'jmp' ) { $i   += $val; next }
    if ( $op eq 'acc' ) { $acc += $val }
    $i++;
}
say $acc;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To actually "execute" the code, we fetch the op and val of the current line. We jump (via &lt;code&gt;next&lt;/code&gt;) if it's a &lt;code&gt;jmp&lt;/code&gt;, we accumulate if it's &lt;code&gt;acc&lt;/code&gt;; and we increment $i (which will not happen for &lt;code&gt;jmp&lt;/code&gt;, because we already skipped the rest of the block)&lt;/p&gt;

&lt;p&gt;Finally we just output the value of &lt;code&gt;$acc&lt;/code&gt;&lt;/p&gt;

&lt;h4&gt;Part 2&lt;/h4&gt;

&lt;p&gt;Now we need to figure out which of 638 command we need to change to avoid an endless loop and get the "correct" result. Uff...&lt;/p&gt;

&lt;p&gt;But in the end it's quite easy (and of course there are way more elegant solutions to be found on &lt;a href="https://old.reddit.com/r/adventofcode/comments/k8xw8h/2020_day_08_solutions/"&gt;reddit&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I decided to copy the original code into a temporary code array, and then walk through the code, remembering which lines I already changed, and always only changing the first unchanged line. After the one line in the code is changed, I &lt;code&gt;run()&lt;/code&gt; it, and if we get a result back, we exit and print.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my @original = &amp;lt;&amp;gt;;
my %tried;
my $acc;
while (1) {
    my @try = @original;
    for ( my $i = 0; $i &amp;lt; @original; $i++ ) {
        my $line = $try[$i];
        next if $line =~ /acc/;
        if ( $tried{$i}++ ) {
            next;
        }
        else {
            $line =~ /nop/ ? $line =~ s/nop/jmp/ : $line =~ s/jmp/nop/;
            $try[$i] = $line;
            last;
        }
    }

    $acc = run(@try);
    last if $acc;
}
say $acc;

sub run {
    my @code = @_;
    my %seen;
    my $i   = 0;
    my $acc = 0;
    while (1) {
        return 0    if $seen{$i}++;
        return $acc if $i &amp;gt;= @code;
        my ( $op, $val ) = split( / /, $code[$i] );

        if ( $op eq 'jmp' ) { $i   += $val; next }
        if ( $op eq 'acc' ) { $acc += $val }
        $i++;
    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;run()&lt;/code&gt; function is basically the same as the solution for part 1, with the only change that we return 0 if the code looped, or the accumulators value if we reached the end of the code.&lt;/p&gt;

&lt;h4&gt;Stats &amp;amp; Links&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Time:&lt;/b&gt; 08:12 / 23:06&lt;/li&gt;
&lt;li&gt;&lt;b&gt;Rank:&lt;/b&gt; 12043 / 10371&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adventofcode.com/2020/day/8"&gt;https://adventofcode.com/2020/day/8&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/domm/adventofcode2020"&gt;https://github.com/domm/adventofcode2020&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
    <category term="AdventOfCode"/>
  </entry>
  <entry>
  <title>Community Leaders and Board Meeting November 2020</title>
  <link rel="alternate" type="text/html" href="https://news.perlfoundation.org/post/ommunityeadersandoardeetingovember2020"/>
  <id>tag:news.perlfoundation.org,2020-12-08:/post/ommunityeadersandoardeetingovember2020</id>
  <published>2020-12-08T06:05:13</published>
  <updated>2020-12-08T06:05:13</updated>
  <summary>
  <![CDATA[
     Perl and Raku updates, mentoring, grants, sponsorship progress, conferences, trademarks and more were discussed amongst community leaders at the meeting held in November. The meeting is becoming an invaluable tool for the Board and community to communicate with each other about developments in TPF and the wider Perl community. The Board looks forward to future successful community leader meetings with representatation from a wide cross section of our community. The 
   ]]>
  </summary>
  <author>
    <name>Nic Evans</name>
  </author>  <content type="html" xml:lang="en-us" xml:base="http://news.perlfoundation.org/">
   <![CDATA[
     
     <p>Perl and Raku updates, mentoring, grants, sponsorship progress, conferences, trademarks and more were discussed amongst community leaders at the meeting held in November.  The  meeting is becoming an invaluable tool for the Board and community to communicate with each other about developments in TPF and the wider Perl community.</p>

<p>The Board looks forward to future successful community leader meetings with  representatation from a wide cross section of our community. The next meeting is on Friday 18th December at 1830UTC, via Zoom. We hope to see as many community leaders as possible. If you have anything specific to share, please do let the team know via the Community Leaders Slack Channel and we can add your update to the agenda.</p>

<p>The notes from the Community Leaders meeting, as well as from the Board meeting which followed are all shared below.</p>

<h1>Community Leaders Meeting 20 November</h1>

<h2>Invitees</h2>

<ul>
<li>TPF Board</li>
<li>Nic Evans</li>
<li>Jason C (Grants)</li>
<li>Alex (Sponsorship)</li>
<li>Samantha (CAT)</li>
<li>Perl steering committee member</li>
<li>Raku steering committee member</li>
<li>Nige (Legal &amp; commercial)</li>
<li>Andrew Solomon (New community members)</li>
</ul>

<h2>Attendees</h2>

<ul>
<li>Board: Stuart Mackintosh, Dave Rolsky, Pete Krawczyk, Dan Wright, Allison Randal</li>
<li>Leaders: Nige Hamilton, Alex Beamish, Daniel Sockwell, Samantha McVey, SawyerX, Andrew Solomon </li>
<li>Admin: Nic Evans</li>
<li>Confirmed absence: Mark Keating, Makoto Nozaki</li>
</ul>

<h2>Discussion</h2>

<h3>Perl &amp; Raku mentoring</h3>

<p>Andrew Solomon introduced proposal -</p>

<p>Newcomers think Perl is a sparsely populated community. I have been looking at Python and saw 20k people all signed up, questions being answered quickly. Occured to me we should have similar for Perl. I know we have presence on Facebook, but not very welcoming to discuss tech.
First thought would be good to use Slack but didn't want to just do it, wanted guidance from TPF - so put together proposal for thoughts.</p>

<p>Opinion expressed:
- Possibility to turn it into teaching materials
- Slack vs other services - let's focus on TPF hosted chat service</p>

<p>Action: Document requirement and goals collaboratively and evaluate options</p>

<h3>Legal</h3>

<ul>
<li>Raku trademark registration is done in UK and making progress in US and EU.</li>
<li>The onion logo was discussed, including whether we should continue using it</li>
<li>Stuart pointed out it's a three-way link of marketing, legal and technology</li>
<li>Action: Set up further discussion between Marketing, Legal and other interested parties</li>
</ul>

<h3>Grants</h3>

<ul>
<li>Documentation Standards for the Perl 7 Era grant was completed earlier this month and has been submitted for payment.</li>
<li>No new grants submitted during the November 2020 period. Next call is in January</li>
<li>There was discussion over what to do with the Perl 6 (Now: Raku) Course with Exercises Grant. We expect the first deliverable within the next 3 weeks.</li>
<li>Putting together a report of grants requested and approved over the last 3 years. Hope is to have them by early December.</li>
<li>Planning to start working with GC in 1Q 2021 to propose some revisions to clean up our charter. </li>
</ul>

<h3>Marketing</h3>

<ul>
<li>No update - no meeting in the past month. Marketing committee to meet next week (26 November). Will have update atfer that.</li>
</ul>

<h3>Sponsorship</h3>

<ul>
<li>Draft sponsorship letter and web page all written, awaiting sign off from Board</li>
<li>Discussion
<ul>
<li>How to recognize donors</li>
<li>What donors expect in return</li>
<li>Best way to have ongoing sponsorship - "membersip" or "supporter"</li>
</ul></li>
</ul>

<h3>TPC and Conferences</h3>

<h4>TPC (US - organized by TPF)</h4>

<p>We will decide if we hold the conference in person. Otherwise we need to look at how we do it virtually. We learned a lot in 2020. </p>

<h4>TPC (Europe - not organized by TPF)</h4>

<p>Questions remain over whether there will be a conference in Europe in 2021.</p>

<h4>FOSDEM</h4>

<p>We have applied for a virtual dev room. It will be an alternative to the BoF event we were thinking.</p>

<h4>Other events</h4>

<p>We need to encourage events where posible. If somebody needs help, let us know and we will try to support it.</p>

<h3>Raku</h3>

<ul>
<li>Having first meeting of Raku Steering Council in one week. Main agenda item is Code of Conduct. We have written a draft code of conduct as well as a Code of Conduct incident guide, with some reference to CAT documentation. Have circulated for discussion at first meeting. Will share draft shortly over a week.</li>
<li>We are looking at advent calendar posts for Raku.</li>
<li>Stuart: It's important to have Raku representation at this meeting. </li>
</ul>

<h3>CAT</h3>

<ul>
<li>Policy document needs to be reviewed - a single document which needs to be split into a policy and a charter document, as well as an incident handling document.</li>
<li>Discussion is held in Slack</li>
</ul>

<h3>Perl</h3>

<ul>
<li>Still working on governance and resolved to basic guidelines in operation. </li>
<li>We haven't created a core team but know how to create it. We are waiting to create it, set up a mailing list, then dissolve the governance list which was meant to set up the steering committee. </li>
<li>Stuart: We need to think about enabling Perl to thrive in 50-100 years time.</li>
</ul>

<h3>Infrastructure</h3>

<ul>
<li>We collected passwords we own. It's a good first step and we have a lot to do.</li>
</ul>

<p>&gt; Meeting closed: 19:41 UTC
&gt; Notes taken by: Nic Evans / Stuart Mackintosh</p>

<h1>Board Meeting Notes 20 November 2020</h1>

<h2>Attendees</h2>

<ul>
<li>Stuart, Pete, Dave, Dan, Allison, Nic (admin), Makoto</li>
</ul>

<h2>Meeting topics</h2>

<h3>Advisory board and the board members' retirement process</h3>

<ul>
<li>Advisory board's role was proposed by Stuart</li>
<li><a href="https://www.perlfoundation.org/advisory_board.html">Public doc</a></li>
<li>Separately, each board member will receive a letter at the end of their two-year term to see if they wish to remain. The latter will ask whether they stay on the board and what they want to achieve.</li>
<li>Action: Each board member will review for additional feedback</li>
</ul>

<h3>President's role and Selection</h3>

<ul>
<li>Stuart's two-year term will end in September 2021. </li>
<li>Items discussed:
<ul>
<li>Whether to recruit the next president externally or internally</li>
<li>What the new president's role is, if different from now</li>
<li>The president's role will change over time</li>
</ul></li>
<li>Discuss further at  the next meeting</li>
</ul>

<h2>Recognised resources</h2>

<ul>
<li>The idea of recognised resources was raised and reviewed</li>
<li>Would be good in hands of marketing</li>
<li>Review in January</li>
</ul>

<h2>Board introduction web page</h2>

<ul>
<li>Drafted and under review</li>
</ul>

<h2>Sponsorship letter and web page</h2>

<ul>
<li>The sponsorship letter was drafted and presented</li>
<li>Feedback was given</li>
<li>Idea was raised to link it with the marketing effort</li>
</ul>

    ]]>
  </content>
</entry>
  <entry>
    <title>Perl-Schulungen 2021</title>
    <link rel="alternate" href="https://blog.perl-academy.de/2020-12-07-schulungen-2021" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Nachdem wir uns das Jahr 2020 Zeit genommen haben, um die Perl-Academy etwas umzubauen (mit neuem Design, der Einführung dieses Blogs, mit Gregor als zusätzlicher Trainer, ...), wollen wir heute unseren Plan für 2021 vorstellen.</div>
    </content>
    <id>https://blog.perl-academy.de/2020-12-07-schulungen-2021</id>
    <published>2020-12-07T10:00:00Z</published>
    <updated>2020-12-07T10:00:00Z</updated>
  </entry>
  <entry>
    <title>Perl Weekly Challenge 089</title>
    <link rel="alternate" href="http://www.rabbitfarm.com/cgi-bin/blosxom/2020/12/06#pwc089" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><h2 id="part-1">Part 1</h2>
<p><em>You are given a positive integer $N. Write a script to sum GCD of all possible unique pairs between 1 and $N.</em></p>
<h3 id="solution">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# You are given a positive integer $N. Write a script to sum GCD of all possible 
# unique pairs between 1 and $N.
##

sub all_unique_pairs{
    my($n) = @_;
    my %pairs;
    for my $i (1 .. $n){
        for my $j (1 .. $n){
            $pairs{"$i-$j"} = -1 unless $pairs{"$i-$j"} || $pairs{"$j-$i"} || $i == $j; 
        }
    }
    return sort keys %pairs;
}

sub euclid {
    my($a, $b) = @_;
    return ($b) ? euclid($b, $a % $b) : $a;
}

MAIN:{
    my $gcd_sum = 0; 
    my @values =  all_unique_pairs(3);
    for my $pair (@values[0 .. @values - 2]){
        my($i, $j) = split(/-/, $pair);
        $gcd_sum += euclid($i, $j);
        print "gcd($i, $j) + ";  
    }
    my ($i, $j) = split(/-/, $values[-1]); 
    $gcd_sum += euclid($i, $j);
    print "gcd($i, $j) = $gcd_sum\n";  

    $gcd_sum = 0; 
    @values =  all_unique_pairs(4);
    for my $pair (@values[0 .. @values - 2]){
        my($i, $j) = split(/-/, $pair);
        $gcd_sum += euclid($i, $j);
        print "gcd($i, $j) + ";  
    }
    ($i, $j) = split(/-/, $values[-1]); 
    $gcd_sum += euclid($i, $j);
    print "gcd($i, $j) = $gcd_sum\n";  

}
</code></pre>
<h3 id="sample-run">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-1.pl
gcd(1, 2) + gcd(1, 3) + gcd(2, 3) = 3
gcd(1, 2) + gcd(1, 3) + gcd(1, 4) + gcd(2, 3) + gcd(2, 4) + gcd(3, 4) = 7
</code></pre>
<h3 id="notes">Notes</h3>
<p>Sometimes before jumping into my own solutions I do a little research on the topics at hand. In doing so for this I came across this beautifully <a href="https://www.perlmonks.org/?node_id=109887">succinct implementation of Euclid’s algorithm</a>. I decided to use that here for the GCD computation.</p>
<p>Ok, with that sorted out, what is left is to generate all the unique pairs and print the results. I generate the pairs in <code>all_unique_pairs</code> by saving the pairs as hash heys, stringified by joining them with a ‘-’. When printing them out later it is necessary to split on the ‘-’.</p>
<h2 id="part-2">Part 2</h2>
<p><em>You are given m x n matrix of positive integers. Write a script to print spiral matrix as a list.</em></p>
<h3 id="solution-1">Solution</h3>
<pre><code class="perl">
use strict;
use warnings;
##
# Write a script to display matrix as below with numbers 1 - 9. 
# Please make sure numbers are used once.
##
use boolean;
use Math::GSL::Permutation q/:all/;

sub validate {
    my($a, $b, $c, $d, $e, $f, $g, $h, $i) = @_;
    return false if ($a + $b + $c) != 15;
    return false if ($d + $e + $f) != 15;
    return false if ($g + $h + $i) != 15;
    return false if ($a + $d + $g) != 15;
    return false if ($b + $e + $h) != 15;
    return false if ($c + $f + $i) != 15;
    return false if ($a + $e + $i) != 15;
    return false if ($c + $e + $g) != 15;
    return true;
}

sub print_matrix {
    my($a, $b, $c, $d, $e, $f, $g, $h, $i) = @_;
    print "[ $a $b $c ]\n";
    print "[ $d $e $f ]\n";
    print "[ $g $h $i ]\n";
}    

MAIN:{
    my $permutation = new Math::GSL::Permutation(9);
    while(gsl_permutation_next($permutation-&gt;raw) == 0){
        my @values =  $permutation-&gt;as_list();
        @values = map { $_ + 1 } @values;
        do { 
            print_matrix(@values);
            print "\n";
        }if validate(@values);  
    }
}
</code></pre>
<h3 id="sample-run-1">Sample Run</h3>
<pre><code class="shell">
$ perl perl/ch-2.pl
[ 2 7 6 ]
[ 9 5 1 ]
[ 4 3 8 ]

[ 2 9 4 ]
[ 7 5 3 ]
[ 6 1 8 ]

[ 4 3 8 ]
[ 9 5 1 ]
[ 2 7 6 ]

[ 4 9 2 ]
[ 3 5 7 ]
[ 8 1 6 ]

[ 6 1 8 ]
[ 7 5 3 ]
[ 2 9 4 ]

[ 6 7 2 ]
[ 1 5 9 ]
[ 8 3 4 ]

[ 8 1 6 ]
[ 3 5 7 ]
[ 4 9 2 ]

[ 8 3 4 ]
[ 1 5 9 ]
[ 6 7 2 ]
</code></pre>
<h3 id="notes-1">Notes</h3>
<p>The <code>validate</code> function is pretty straight forward, especially so since I intentionally wrote it to be blazingly obvious what is going on!</p>
<p>The real work is in generating the permutations that get checked. For that I used <a href="https://metacpan.org/pod/Math::GSL::Permutation">Math::GSL::Permutation</a> which, as the name implies, is an excellent module which wraps the Gnu Scientific Library. Well, the module is quite solid aside from the documentation which is a bit rough and often requires referring to the GSL documentation on the functions being wrapped.</p>
<p>The main point to know about Math::GSL::Permutation is that it only creates permutations on integers. As Perl programmers we get spoiled by being able to easily manipulate any type of data. If you are interested in permuting lists of arbitrary elements you could use Math::GSL::Permutation to permute the indices, but not the elements themselves.</p>
<p>One final note, having a conditional after the expression is just one of those classic examples of Perl expressiveness, but I seldom see the <code>do/if</code> form. A <code>do/if</code> allows you to have multiple statements, a whole block, execute with the <code>if</code> coming afterwards. Obviously just <em>syntactic sugar</em> for the more common <code>if{}</code> but I prefer it in cases like this where there is no need for an <code>else</code>.</p>
<h2 id="references">References</h2>
<p><a href="https://en.wikipedia.org/wiki/Euclidean_algorithm">Euclid’s Algorithm</a></p>
<p><a href="https://metacpan.org/pod/Math::GSL">Math::GSL</a></p>
<p><a href="https://www.gnu.org/software/gsl/">GSL</a></p>
<p><a href="ftp://ftp.gwdg.de/pub/gnu/www/savannah-checkouts/gnu/gsl/manual/html_node/Permutation-Examples.html">GSL Permutations Example</a></p></div>
    </content>
    <id>http://www.rabbitfarm.com/cgi-bin/blosxom/perl/pwc089</id>
    <published>2020-12-06T17:23:00-05:00Z</published>
    <category term="/perl"/>
  </entry>
  <entry>
    <title>RT – Action Plan for CPAN Authors</title>
    <link rel="alternate" href="https://perlhacks.com/2020/12/rt-action-plan-for-cpan-authors/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p><a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">CPAN RT is going away.</a> CPAN authors have until the beginning of March to extract any useful information from it.</p>
<p>RT is the “Request Tracker”, a bug tracking system that is written by <a href="https://bestpractical.com/">Best Practical</a>. For almost as long as I can remember, anyone who uploads a module to <a href="https://www.cpan.org/">CPAN</a> gets a free ticket queue for their module at <a href="https://rt.cpan.org/">rt.cpan.org</a>. <a href="https://metacpan.org/">MetaCPAN</a> assumes that’s where people should report bugs in your module and helpfully adds an “issues” link that goes to the appropriate page in RT.</p>
<p>But now that system is going away. It will be switched off on the 1st March 2021. The <a href="https://noc.perl.org/">Perl NOC team</a> is spread pretty thinly and they just don’t have the resources to keep it running.</p>
<p>Gabor has published <a href="https://www.youtube.com/watch?v=5ly28Ew0spY">a video talking about what this means and some of the potential problems</a>. But I thought it would be useful to work on a list of things that CPAN authors should be thinking about over the next three months.</p>
<p>Firstly, and most importantly, you’ll need somewhere new for people to report problems with your modules. For most people, that’ll be simple enough. If you host your code repos somewhere like GitHub, then you could just use the issue trackers that most of those services provide. If you host your own code repos (or don’t have public code repos), then you’ll need to find an alternative solution.</p>
<p>Next you’ll need to tell people where to find your new bug tracker. You do this by adding it to the metadata for your CPAN distribution. If, like most people, you provide a Makefile.PL in your distribution, then you’ll want to add a snippet like this to your code:</p><pre class="urvanov-syntax-highlighter-plain-tag">META_MERGE        =&gt; {
  'meta-spec' =&gt; { version =&gt; 2 },
  resources =&gt; {
    bugtracker =&gt; {
      "web" =&gt; "https://github.com/davorg/moox-role-json_ld/issues"
    }
 },</pre><p>It’s likely that you already have a “resources” key in your data structure (containing, for example, a link to your code repo), in which case you just need to add the “bugtracker” key inside it. When you release this new update to CPAN, the “issues” link will change to point to your new bug tracker.</p>
<p>You then have the problem of dealing with the tickets that are currently in your RT queues. I suggest one or more of the following strategies:</p>
<ol>
<li>Go through the list and fix any that can be easily fixed. I found two like that when looking through my list this morning. If you’re releasing new versions of the modules (to add the new bug tracker information) then you might as well fix a bug or two at the same time.</li>
<li>Look for tickets that can be closed. My list contains some very old tickets. I mean like fifteen years old. If someone had a problem installing one of your modules fifteen years ago and hasn’t followed-up more recently, then there’s a good chance that they no longer care about the solution. What I’ve been doing is to check on <a href="https://www.cpantesters.org/">CPAN Testers</a> to see if anyone else has seen a similar problem. If I see other reports, I know that it’s something that needs to be fixed. If there’s just the one in RT, then I close it with a message saying (paraphrased) “if this is still a problem that you’d like me to investigate, then please open a new ticket at [link to new bug tracker]”.</li>
<li>Then you’re left with the tickets that you’d still like to address at some point. The Perl NOC team say that they’ll probably make a static archive of the old RT tickets available. But it would be good to get those tickets over to your new bug tracker. As I’m using GitHub for my new bug trackers, and that’s currently the most popular solution other than the CPAN RT itself, I’m hoping that someone cleverer than me will write some code that will make moving the tickets easy. But if nothing happens before the end of January, I might have to look into that myself.</li>
</ol>
<p>I’ve got a bit of work to do in this area myself. Although I’ve been using GitHub for all of my CPAN code for a long time, I haven’t been advertising the fact that I’d prefer people to use GitHub for bug reporting too. So I need to update all of my modules with the new bug tracker information included. I’ll do that over the next few weeks.</p>
<p>I have a couple of tools that might help in this process. Firstly, I’ve just added to <a href="https://cpandashboard.com/">CPAN Dashboard</a> a column that links to the module’s bug tracker if one exists. I can use that to know which modules need to be updated.</p>
<p>You could <a href="https://cpandashboard.com/add/">add yourself to CPAN Dashboard</a> if you wanted to get that information for your modules. But if you don’t want to do that, I’ve written a really short program that you can use to find your CPAN distributions that don’t include the bug tracker information.<a href="https://gist.github.com/davorg/faab75c5f40c9a580aa532f441442eb6"> It’s available as a Gist.</a></p>
<p>Have I missed anything? I mean, yes, I know there are a large number of unmaintained CPAN distributions that no-one will get round to updating. But this post was aimed at active CPAN authors. If there’s anything else you think we should be doing, then please let me know in the comments.</p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2020/12/rt-action-plan-for-cpan-authors/">RT – Action Plan for CPAN Authors</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>CPAN RT is going away. CPAN authors have until the beginning of March to extract any useful information from it. RT is the “Request Tracker”, a bug tracking system that is written by Best Practical. For almost as long as I can remember, anyone who uploads a module to CPAN gets a free ticket queue […]</p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2020/12/rt-action-plan-for-cpan-authors/">RT – Action Plan for CPAN Authors</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://perlhacks.com/?p=2022</id>
    <published>2020-12-06T12:40:17Z</published>
    <updated>2020-12-06T12:40:17Z</updated>
    <category term="Miscellaneous"/>
    <category term="bugtracker"/>
    <category term="cpan"/>
    <category term="rt"/>
  </entry>
  <entry>
  <title>RT.CPAN.ORG is closing</title>
  <summary type="html"><![CDATA[<p>
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">Request Tracker (RT) of CPAN is closing</a>. What is the impact?
<p>
Check <a href="https://cpan.rocks/">CPAN Rocks</a> for the statistics.
<p>
Add yourself to <a href="https://cpandashboard.com/">CPAN Dashboard</a>.
<p>
Check the most recent data from <a href="https://cpan-digger.perlmaven.com/">CPAN Digger</a>.
<p>
]]></summary>
  <updated>2020-12-05T07:30:01Z</updated>
  <link rel="alternate" type="text/html" href="https://perlmaven.com/rt-cpan-org-is-closing"/>  <id>https://perlmaven.com/rt-cpan-org-is-closing</id>
  <content type="html"><![CDATA[<p>
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">Request Tracker (RT) of CPAN is closing</a>. What is the impact?
<p>
Check <a href="https://cpan.rocks/">CPAN Rocks</a> for the statistics.
<p>
Add yourself to <a href="https://cpandashboard.com/">CPAN Dashboard</a>.
<p>
Check the most recent data from <a href="https://cpan-digger.perlmaven.com/">CPAN Digger</a>.
<p>
]]></content>
    <author>
      <name>Gabor Szabo</name>
    </author>
</entry>
</feed>
